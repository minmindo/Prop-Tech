{"version":3,"sources":["components/Login/HomePage.js","components/Login/RegProcess.js","components/UserPool.js","components/Login/ResetProcess.js","components/Login/LoginPage.js","components/Login/SignUpPage.js","components/Login/ResetPassword.js","components/NavigationBar/Navigation.js","components/NavigationBar/About.js","components/Admin/AdminManageUsers.js","components/Admin/AdminSideMenu.js","components/Admin/AdminAfterSign.js","components/WhatIsProRataShare.js","components/MeterCheckbox.js","components/PropMana/Tenant/EditTenant.js","components/PropMana/Tenant/AddTenant.js","components/PropMana/Tenant/DeleteTenant.js","components/PropMana/Submeter/DeleteSubmeters.js","components/BillTimeCheckBox.js","components/PropMana/Submeter/EditSubmeters.js","components/PropMana/Submeter/SubmeterBill.js","components/PropMana/Submeter/Submeters.js","components/PropMana/Meter/DeleteMeters.js","components/DatePicker.js","components/PropMana/Meter/MeterBillPage.js","components/PropMana/Meter/Meters.js","components/PropMana/Meter/MeterTable.js","components/PropMana/Submeter/CollapseSubmeter.js","components/PropMana/Meter/CollapseMeter.js","components/PropMana/Tenant/TenantInfo.js","components/PropMana/Property/AddProperty.js","components/PropMana/Property/EditProperty.js","components/PropMana/Property/DeleteProperty.js","components/PropMana/Property/PropertyInfo.js","components/IndividualTenantInvoice.js","components/InvoiceHistory_m.js","components/InvoiceHistory.js","components/UtilityBillMeter.js","components/UtilityBillSubmeter.js","components/DeleteMeterBill.js","components/DeleteSubMeterBill.js","components/BillingHistory.js","components/UtilityBillingHistory.js","components/UserProfile.js","components/GenerateInvoice.js","components/PropMana/SideMenu.js","components/PropMana/PropManaAfterSign.js","App.js","reducers/index.js","reducers/authReducer.js","reportWebVitals.js","index.js"],"names":["HomePage","login","window","location","signup","className","Paper","elevation","Typography","component","variant","color","DialogContent","Divider","Button","style","fontSize","onClick","this","React","Component","back","RegProcess","cognito","require","data","poolData","UserPoolId","userPoolId","ClientId","clientId","userPool","CognitoUserPool","region","aws_region","ResetProcess","props","changeVerificationCode","event","setState","verificationCode","target","value","changeUsername","username","changeNewPassword1","newPassword1","changeNewPassword2","newPassword2","confirmPassword","cognitoUser","CognitoUser","Username","state","Pool","onSuccess","result","onFailure","err","dialog_open","dialog_text","handleDialogClose","TextField","autoFocus","margin","id","label","onChange","type","Dialog","open","onClose","aria-labelledby","DialogContentText","LoginPage","reset","email","password","errorMessage","errors","changeEmail","bind","changePassword","onSubmit","preventDefault","loginDetails","Password","authenticationDetails","AuthenticationDetails","userDetails","authenticateUser","console","log","axios","post","accessToken","jwtToken","idToken","then","response","userType","accessData","sessionStorage","setItem","idData","sub","JSON","stringify","payload","getItem","message","isError","error","required","helperText","SignUpPage","company_name","confirm_password","street_name","suite_number","city","zipcode","passwordError","changeCompanyName","changeConfirmPassword","changeStreetName","changeSuiteNumber","changeCity","changeState","changeZipcode","passwordErrors","validate","registered","FormControl","column","ResetPassword","resetPassword","forgotPassword","Navigation","home","about","AppBar","position","Toolbar","Grid","justify","container","spacing","item","noWrap","Abouts","AdminManageUsers","user_list","generateTableData","getUserList","Promise","resolve","reject","get","Users","res1","res2","i","length","attributes","Attributes","reduce","att","Object","assign","Name","Value","push","TableRow","TableCell","forceUpdate","Table","TableHead","TableBody","RejectButton","decline_app","user_id","delete","AcceptButton","accept_app","ViewPropManager","viewManager","AdminSideMenu","manage_users","log_out","removeItem","href","AdminAfterSign","page","match","params","matchPath","pathname","path","exact","strict","display","page_name","useStyles","makeStyles","theme","typography","padding","WhatIsProRataShare","classes","useState","anchorEl","setAnchorEl","Boolean","undefined","aria-describedby","currentTarget","Popover","anchorOrigin","vertical","horizontal","transformOrigin","MeterCheckBox","meter_list","cur_meter_list","meter_id","property_id","tenant_id","onlyOption","select_meter_list","meter_error","helper_text","chosen","onChangeOnlyOption","onChangeMultiOption","get_current_meter_list","generateTable","list","methodfromparent","name","checked","getCurrentMeterList","current","isValidate","res","getMeterList","tableData","FormControlLabel","control","Radio","cur","isChosen","j","Checkbox","FormLabel","RadioGroup","aria-label","EditTenant","address","landlord_phone","rubs","yes","no","yesprorata","noprorata","tenantFt","nameError","addressError","emailError","phoneError","name_errors","address_errors","email_errors","phone_errors","choice_errors","rubs_errors","rubs_helper_text","percent_errors","percent_helper_text","meter_errors","meter_helper_text","is_meter_tenant","is_submeter_tenant","handleClickOpen","handleClose","changeName","changeAddress","changeLandlordPhone","changeRubs","validation","changeRUBS","getAssociatedMeter","onChangeYes","onChangeNo","changeTenantFt","onChangeYesProrata","onChangeNoProrata","calculate","tenant_info","patch","parseFloat","totalBuildingFt","total_footage","tenantft","new_meter","temp_list","remove","splice","prevState","email_pattern","RegExp","name_pattern","test","emailMessage","phone_pattern","updateTenantInfo","rubs_message","isYes","isNo","isYesProrata","isNoProrata","is_validate_name","is_validate_address","is_validate_email","is_validate_phone","name_message","address_message","email_message","phone_message","is_validate_choice","helper","is_validate_rubs","helper_rubs","is_validate_percent","helper_percent","is_validate_meter","helper_meter","DialogTitle","fullWidth","customInput","format","FormHelperText","FormGroup","row","disabled","suffix","DialogActions","AddTenant","multiplier","changeMultiplier","changeMeter_List","addTenant","DeleteTenant","deleteTenant","DeleteSubmeters","deleteSubmeter","submeter_id","BillTimeCheckBox","from_date","to_date","bill_id","unit_charge","bill_list","getBillList","set_timeperiod","changeBillId","changeFromDate","changeTodate","changeUnitCharge","String","split","SubmeterBill","submeter_bill_id","prior_read","current_read","amt_due","changePriorRead","changeCurrentRead","changeAmountDue","submeter_bill_info","Number","date","tmp_s_kwh_usage","tmp_amt_with_multiplier","xamt_due","cur_read","s_kwh_usage","amt_with_multiplier","submit_submeterbill","Submeters","submeter_list","submeter","multiplier_list","meter","submeter_error","error_message","getSubmeterList","changeSubmeter","addSubmeter","onAdd","meters","TableContainer","const","DeleteMeters","generateMeter","deleteMeter","DatePicker","handleFromDateChange","handleToDateChange","noValidate","defaultValue","InputLabelProps","shrink","MeterBillPage","setCheck","begin","end","m_kwh_usage","m_charge","s_charge","changeMeter","changeBegin","changeEnd","changeKWH","changeBill","change_sec_KWH","change_sec_bill_amount","changeCheckBox","time","bill_info","tmp_total_kwh_usage","tmp_total_charge","tmp_unit_charge","account_id","total_kwh_usage","total_charge","submitBill","inputProps","Meters","meter_to_add","changeMeterToAdd","addMeter","parseInt","MeterTable","maxHeight","gutterBottom","stickyHeader","useRowStyles","root","borderBottom","CollapseRow","setOpen","Fragment","IconButton","size","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","CollapseSubmeter","CollapseMeter","phone_number","TenantInfo","tenant_list","getTenantList","toFixed","info","AddProperty","footageError","footage_errors","changeTotal_footage","changeLandlord_phone","property_info","property_type","addProperty","is_validate_footage","footage_message","EditProperty","changeTotalFootage","updatePropertyInfo","DeleteProperty","deleteProperty","PropertyInfo","property_list","getPropertyList","is_admin","ManageTenants","manage_tenants","IndividualTenantInvoice","sub_total_charge","submeter_number","meter_number","meter_total_charge","total_tenant_share","matrix","tenant_list_size","print","class","invoice_list","striped","bordered","hover","current_invoice","has_submeter","submeter_charge","meter_amt_due","sub_meter_size","meter_size","generateIndividual","c","printall","printDocument","alert","downloadall","downloadPDF","pdf","jsPDF","unit","htmlToImage","document","getElementById","quality","dataUrl","createElement","download","addImage","output","receiver","save","content","fullScreen","InvoiceHistory_m","billing_dates","current_res","current_resm","button_flag","getMeterInvoiceList","getInvoiceDateList","generateMeterTable","generateDateTable","getCurrentInvoice","getCurrentInvoice_sub","cur_res","invoice","tenant","property","cur_resm","resd","tableDataTenant","tableDataDate","methodfromparenttwo","resm","total_building_amt_due","tableDataProperty","text","invoice_id","Snackbar","autoHideDuration","ShowDate","InvoiceHistory","paper","overflow","flexDirection","fixedHeight","height","Container","maxWidth","xs","md","lg","UtilityBillMeter","UtilityBillSubmeter","gg","tableDataSub","DeleteMetersBill","deleteMetersBill","DeleteSubMeterBill","BillingHistory","submeter_bill_list","getMeterBillList","getSubmeterBillList","getBillingDates","getCurrentBill","getCurrentSubBill","getHelperText","generateBillingDateTable","generateSubmeterTable","help","resb","methodfromparentthree","UtilityBillingHistory","aws","UserProfile","success","dialog_title","attribute_name","AccessToken","parse","UserAttributes","CognitoIdentityServiceProvider","updateUserAttributes","edit_attributes","get_all_meterbills_for_tenant","meter_tenant_list","meter_bill_list","get_meter_bill_by_meter_id","get_all_submeter_bill_by_tenant_id","meter_submeter_list","get_submeter_bill_by_submeter_id","get_multiperby_submeter_id","get_tenant_emailby_tenant_id","all_tenant_list","GenerateInvoice","final_invoice_list","submeter_tenant_list","aft_meter_bill_list","tmp_assoc_bill_id","new_bill_list","current_tenant","tt","sum","charge_list","rubs_invoice","sub_invoice","uploadInvoiceToDataBase","invoice_generator","SideMenu","manage_property","edit_profile","manage_utility","manage_invoice","view_detail","display_more_options","PropManaAfterSign","user_type","role_message","menu_display_more_options","defaults","baseURL","config","server_ip","withCredentials","App","combineReducers","auth","action","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.3a8c912d.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { DialogContent } from \"@material-ui/core\";\r\n\r\nclass HomePage extends React.Component {\r\n  login = () => {\r\n    window.location = \"/LoginPage\";\r\n  };\r\n  signup = () => {\r\n    window.location = \"/SignUpPage\";\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <Paper elevation={24}>\r\n            <Typography component=\"h1\" variant=\"h1\" color=\"primary\">\r\n              PropTech\r\n            </Typography>\r\n            <DialogContent />\r\n            <Divider />\r\n            <Divider />\r\n            <Divider />\r\n            <DialogContent />\r\n            <DialogContent />\r\n            <div className=\"buttons\">\r\n              <table>\r\n                <thead>\r\n                  <tr>\r\n                    <th>\r\n                      <Paper>\r\n                        <Button color=\"primary\" style={{ fontSize: 15 }} className=\"button\" onClick={this.login}>\r\n                          Login\r\n                        </Button>\r\n                      </Paper>\r\n                    </th>\r\n                    <th>\r\n                      <Paper>\r\n                        <Button color=\"primary\" style={{ fontSize: 15 }} className=\"button\" onClick={this.signup}>\r\n                          Sign Up\r\n                        </Button>\r\n                      </Paper>\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n              </table>\r\n            </div>\r\n          </Paper>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;\r\n","import { Typography } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport \"./../../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nclass RegProcess extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"RegProcess\">\r\n          <header className=\"RegProcess-header\">\r\n            <Typography component=\"h1\" variant=\"h5\" color=\"primary\">\r\n              Thank you, you will recieve an email about your registration result shortly.\r\n            </Typography>\r\n\r\n            <Button color=\"primary\" onClick={back}>\r\n              Ok\r\n            </Button>\r\n          </header>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction back() {\r\n  window.location = \"/\";\r\n}\r\n\r\nexport default RegProcess;\r\n","const cognito = require(\"amazon-cognito-identity-js\");\r\nconst data = require(\"./../config.json\");\r\nconst poolData = {\r\n  UserPoolId: data.cognito.userPoolId,\r\n  ClientId: data.cognito.clientId,\r\n};\r\nconst userPool = new cognito.CognitoUserPool(poolData);\r\nconst region = data.aws_region;\r\nexport { cognito, userPool, region, poolData };\r\n","import React from \"react\";\r\nimport \"./../../App.css\";\r\nimport { cognito, userPool } from \"./../UserPool\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nclass ResetProcess extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      verificationCode: \"\",\r\n      newPassword1: \"\",\r\n      newPassword2: \"\",\r\n      dialog_open: false,\r\n      dialog_text: \"\",\r\n    };\r\n  }\r\n  changeVerificationCode = (event) => {\r\n    this.setState({ verificationCode: event.target.value });\r\n  };\r\n  changeUsername = (event) => {\r\n    this.setState({ username: event.target.value });\r\n  };\r\n  changeNewPassword1 = (event) => {\r\n    this.setState({ newPassword1: event.target.value });\r\n  };\r\n\r\n  changeNewPassword2 = (event) => {\r\n    this.setState({ newPassword2: event.target.value });\r\n  };\r\n\r\n  confirmPassword = () => {\r\n    var cognitoUser = new cognito.CognitoUser({\r\n      Username: this.state.username,\r\n      Pool: userPool,\r\n    });\r\n    if (this.state.newPassword1 == this.state.newPassword2) {\r\n      cognitoUser.confirmPassword(this.state.verificationCode, this.state.newPassword1, {\r\n        onSuccess: function (result) {},\r\n        onFailure: function (err) {},\r\n      });\r\n      this.setState({ dialog_open: true, dialog_text: \"Success\" });\r\n    } else {\r\n      this.setState({ dialog_open: true, dialog_text: \"Passwords do not match\" });\r\n    }\r\n  };\r\n\r\n  handleDialogClose = () => {\r\n    this.setState({ dialog_open: false });\r\n    window.location = \"/\";\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ResetPassword\">\r\n        <header className=\"Login-header\">\r\n          <Typography component=\"h1\" variant=\"h4\" color=\"primary\">\r\n            New Password\r\n          </Typography>\r\n          <TextField autoFocus margin=\"dense\" id=\"verification_code\" label=\"Enter your verification code\" value={this.state.verificationCode} onChange={this.changeVerificationCode} />\r\n          <TextField autoFocus margin=\"dense\" id=\"username\" label=\"Enter your username\" value={this.state.username} onChange={this.changeUsername} />\r\n          <TextField autoFocus margin=\"dense\" id=\"password1\" type=\"password\" label=\"Enter your new password\" value={this.state.newPassword1} onChange={this.changeNewPassword1} />\r\n          <TextField autoFocus margin=\"dense\" id=\"password2\" type=\"password\" label=\"Re-enter your new password\" value={this.state.newPassword2} onChange={this.changeNewPassword2} />\r\n          <Button color=\"primary\" onClick={this.confirmPassword}>\r\n            Confirm\r\n          </Button>\r\n          <Dialog open={this.state.dialog_open} onClose={this.handleDialogClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogContent>\r\n              <DialogContentText></DialogContentText>\r\n              {this.state.dialog_text}\r\n              <Button onClick={this.handleDialogClose} color=\"primary\">\r\n                OK\r\n              </Button>\r\n            </DialogContent>\r\n          </Dialog>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResetProcess;\r\n","import React from \"react\";\r\nimport \"./../../App.css\";\r\nimport axios from \"axios\";\r\nimport { cognito, userPool } from \"./../UserPool\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nclass LoginPage extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      errorMessage: \"\",\r\n      errors: \"\",\r\n    };\r\n\r\n    this.changeEmail = this.changeEmail.bind(this);\r\n    this.changePassword = this.changePassword.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  changeEmail(event) {\r\n    this.setState({\r\n      email: event.target.value,\r\n    });\r\n  }\r\n\r\n  changePassword(event) {\r\n    this.setState({\r\n      password: event.target.value,\r\n    });\r\n  }\r\n\r\n  onSubmit(event) {\r\n    event.preventDefault();\r\n    const loginDetails = {\r\n      Username: this.state.email,\r\n      Password: this.state.password,\r\n    };\r\n    const authenticationDetails = new cognito.AuthenticationDetails(loginDetails);\r\n    const userDetails = {\r\n      Username: this.state.email,\r\n      Pool: userPool,\r\n    };\r\n    var cognitoUser = new cognito.CognitoUser(userDetails);\r\n    cognitoUser.authenticateUser(authenticationDetails, {\r\n      onSuccess: (result) => {\r\n        console.log(result);\r\n        axios.post(\"/auth\", { accessToken: result.accessToken.jwtToken, idToken: result.idToken.jwtToken }).then((response) => {\r\n          console.log(response.data);\r\n          let userType = response.data.accessData[\"cognito:groups\"][0];\r\n          if (userType == \"PropertyManager\") {\r\n            sessionStorage.setItem(\"username\", response.data.idData.email);\r\n            sessionStorage.setItem(\"sub\", response.data.accessData.sub);\r\n            sessionStorage.setItem(\"accessToken\", JSON.stringify(result.accessToken));\r\n            sessionStorage.setItem(\"custom:company_name\", result.idToken.payload[\"custom:company_name\"]);\r\n            sessionStorage.setItem(\"custom:street_name\", result.idToken.payload[\"custom:street_name\"]);\r\n            sessionStorage.setItem(\"custom:suite_number\", result.idToken.payload[\"custom:suite_number\"]);\r\n            sessionStorage.setItem(\"custom:city\", result.idToken.payload[\"custom:city\"]);\r\n            sessionStorage.setItem(\"custom:state\", result.idToken.payload[\"custom:state\"]);\r\n            sessionStorage.setItem(\"custom:zipcode\", result.idToken.payload[\"custom:zipcode\"]);\r\n            propManaAfterSign();\r\n          } else if (userType == \"Admin\") {\r\n            sessionStorage.setItem(\"admin_username\", response.data.idData.email);\r\n            sessionStorage.setItem(\"admin_sub\", response.data.accessData.sub);\r\n            adminAfterSign();\r\n          }\r\n        });\r\n        this.setState({\r\n          errors: false,\r\n        });\r\n      },\r\n      onFailure: (err) => {\r\n        console.log(err);\r\n        this.setState({\r\n          errorMessage: err.message,\r\n          errors: true,\r\n        });\r\n      },\r\n    });\r\n  }\r\n\r\n  reset = () => {\r\n    window.location = \"/ResetPassword\";\r\n  };\r\n\r\n  render() {\r\n    var isError = this.state.errors;\r\n    var message = this.state.errorMessage;\r\n    return (\r\n      <div>\r\n        <div className=\"LoginPage\">\r\n          <form onSubmit={this.onSubmit}>\r\n            <header className=\"Login-header\">\r\n              <Typography component=\"h1\" variant=\"h1\" color=\"primary\">\r\n                PropTech\r\n              </Typography>\r\n              <TextField autoFocus margin=\"dense\" id=\"email\" label=\"Enter your email\" type=\"text\" onChange={this.changeEmail} value={this.state.email} error={this.state.errors} required />\r\n              <TextField\r\n                autoFocus\r\n                margin=\"dense\"\r\n                id=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                onChange={this.changePassword}\r\n                value={this.state.password}\r\n                helperText={isError ? message : null}\r\n                error={this.state.errors}\r\n                required\r\n              />\r\n              <Button color=\"primary\" type=\"submit\" value=\"submit\">\r\n                Login\r\n              </Button>\r\n\r\n              <Button color=\"primary\" onClick={this.reset}>\r\n                Reset Password\r\n              </Button>\r\n            </header>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction adminAfterSign() {\r\n  window.location = `/Admin/propertyManagers`;\r\n}\r\n\r\nfunction propManaAfterSign() {\r\n  window.location = `/PropMana/${sessionStorage.getItem(\"sub\")}/property`;\r\n}\r\n\r\nexport default LoginPage;\r\n","import React from \"react\";\r\nimport \"./../../App.css\";\r\nimport axios from \"axios\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { DialogContent, FormControl } from \"@material-ui/core\";\r\n\r\nclass SignUpPage extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      company_name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      confirm_password: \"\",\r\n      street_name: \"\",\r\n      suite_number: \"\",\r\n      city: \"\",\r\n      state: \"\",\r\n      zipcode: \"\",\r\n      passwordError: \"\",\r\n    };\r\n    this.changeCompanyName = this.changeCompanyName.bind(this);\r\n    this.changeEmail = this.changeEmail.bind(this);\r\n    this.changePassword = this.changePassword.bind(this);\r\n    this.changeConfirmPassword = this.changeConfirmPassword.bind(this);\r\n    this.changeStreetName = this.changeStreetName.bind(this);\r\n    this.changeSuiteNumber = this.changeSuiteNumber.bind(this);\r\n    this.changeCity = this.changeCity.bind(this);\r\n    this.changeState = this.changeState.bind(this);\r\n    this.changeZipcode = this.changeZipcode.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  changeCompanyName(event) {\r\n    this.setState({\r\n      company_name: event.target.value,\r\n    });\r\n  }\r\n\r\n  changeEmail(event) {\r\n    this.setState({\r\n      email: event.target.value,\r\n    });\r\n  }\r\n\r\n  changePassword(event) {\r\n    this.setState({\r\n      password: event.target.value,\r\n    });\r\n  }\r\n\r\n  changeConfirmPassword(event) {\r\n    this.setState({\r\n      confirm_password: event.target.value,\r\n    });\r\n  }\r\n\r\n  changeStreetName(event) {\r\n    this.setState({\r\n      street_name: event.target.value,\r\n    });\r\n  }\r\n\r\n  changeSuiteNumber(event) {\r\n    this.setState({\r\n      suite_number: event.target.value,\r\n    });\r\n  }\r\n\r\n  changeCity(event) {\r\n    this.setState({\r\n      city: event.target.value,\r\n    });\r\n  }\r\n\r\n  changeState(event) {\r\n    this.setState({\r\n      state: event.target.value,\r\n    });\r\n  }\r\n\r\n  changeZipcode(event) {\r\n    this.setState({\r\n      zipcode: event.target.value,\r\n    });\r\n  }\r\n\r\n  validate() {\r\n    let passwordErrors = \"\";\r\n\r\n    if (this.state.password != this.state.confirm_password) {\r\n      passwordErrors = \"Password must be the same\";\r\n      this.setState({ passwordError: passwordErrors });\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  onSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    if (this.validate()) {\r\n      const registered = {\r\n        company_name: this.state.company_name,\r\n        email: this.state.email,\r\n        password: this.state.password,\r\n        street_name: this.state.street_name,\r\n        suite_number: this.state.suite_number,\r\n        city: this.state.city,\r\n        state: this.state.state,\r\n        zipcode: this.state.zipcode,\r\n      };\r\n\r\n      axios.post(\"/signup\", registered).then((response) => {\r\n        console.log(response.data);\r\n        regprocess();\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const error = this.state.password !== this.state.confirm_password;\r\n    return (\r\n      <div>\r\n        <div className=\"SignUpPage\" id=\"signup\">\r\n          <header className=\"SignUp-header\">\r\n            <form onSubmit={this.onSubmit}>\r\n              <Typography component=\"h1\" variant=\"h4\" color=\"primary\">\r\n                Please enter the information below\r\n              </Typography>\r\n              <div id=\"registration\">\r\n                <FormControl column>\r\n                  <TextField autoFocus margin=\"dense\" id=\"company_name\" label=\"Company Name\" type=\"text\" onChange={this.changeCompanyName} value={this.state.company_name} required />\r\n\r\n                  <TextField autoFocus margin=\"dense\" id=\"email\" label=\"Email\" type=\"text\" onChange={this.changeEmail} value={this.state.email} required />\r\n\r\n                  <TextField autoFocus margin=\"dense\" id=\"passowrd\" label=\"Password\" type=\"password\" onChange={this.changePassword} value={this.state.password} required />\r\n\r\n                  <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    id=\"confirm_passowrd\"\r\n                    label=\"Confirm Password\"\r\n                    type=\"password\"\r\n                    onChange={this.changeConfirmPassword}\r\n                    value={this.state.confirm_password}\r\n                    helperText={this.validate ? this.state.passwordError : \"Matched\"}\r\n                    error={error}\r\n                    required\r\n                  />\r\n\r\n                  <TextField autoFocus margin=\"dense\" id=\"street_name\" label=\"Company Street Name\" type=\"text\" onChange={this.changeStreetName} value={this.state.street_name} required />\r\n\r\n                  <TextField autoFocus margin=\"dense\" id=\"suite_number\" label=\"Suite Number\" type=\"text\" onChange={this.changeSuiteNumber} value={this.state.suite_number} />\r\n\r\n                  <TextField autoFocus margin=\"dense\" id=\"city\" label=\"City\" type=\"text\" onChange={this.changeCity} value={this.state.city} required />\r\n\r\n                  <TextField autoFocus margin=\"dense\" id=\"state\" label=\"State\" type=\"text\" onChange={this.changeState} value={this.state.state} required />\r\n\r\n                  <TextField autoFocus margin=\"dense\" id=\"zipcode\" label=\"Zipcode\" type=\"text\" onChange={this.changeZipcode} value={this.state.zipcode} required />\r\n                  <DialogContent />\r\n                  <Button color=\"primary\" type=\"submit\" value=\"submit\">\r\n                    Register\r\n                  </Button>\r\n                </FormControl>\r\n              </div>\r\n            </form>\r\n          </header>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction regprocess() {\r\n  window.location = \"/RegProcess\";\r\n}\r\n\r\nexport default SignUpPage;\r\n","import React from \"react\";\r\nimport \"./../../App.css\";\r\nimport { cognito, userPool } from \"./../UserPool\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\n\r\nclass ResetPassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      dialog_open: false,\r\n      dialog_text: \"An email has been sent with a verification code\",\r\n    };\r\n  }\r\n\r\n  changeUsername = (event) => {\r\n    this.setState({ username: event.target.value });\r\n  };\r\n\r\n  handleDialogClose = () => {\r\n    window.location = \"/ResetProcess\";\r\n  };\r\n\r\n  resetPassword = () => {\r\n    var cognitoUser = new cognito.CognitoUser({\r\n      Username: this.state.username,\r\n      Pool: userPool,\r\n    });\r\n    console.log(this.state.username);\r\n\r\n    cognitoUser.forgotPassword({\r\n      onSuccess: function (result) {},\r\n      onFailure: function (err) {},\r\n    });\r\n    this.setState({ dialog_open: true });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ResetPassword\">\r\n        <header className=\"Login-header\">\r\n          <Typography component=\"h1\" variant=\"h4\" color=\"primary\">\r\n            Reset Password\r\n          </Typography>\r\n          <TextField autoFocus margin=\"dense\" id=\"username\" label=\"Enter your username\" onChange={this.changeUsername} value={this.state.username} />\r\n          <Button color=\"primary\" onClick={this.resetPassword}>\r\n            Reset\r\n          </Button>\r\n          <Dialog open={this.state.dialog_open} onClose={this.handleDialogClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogContent>\r\n              <DialogContentText></DialogContentText>\r\n              {this.state.dialog_text}\r\n              <Button onClick={this.handleDialogClose} color=\"primary\">\r\n                OK\r\n              </Button>\r\n            </DialogContent>\r\n          </Dialog>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ResetPassword;\r\n","import React from \"react\";\r\nimport \"./Navigation.css\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { matchPath } from \"react-router-dom\";\r\n\r\nclass Navigation extends React.Component {\r\n  home = () => {\r\n    window.location = \"/\";\r\n  };\r\n\r\n  about = () => {\r\n    window.location = \"/About\";\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <AppBar position=\"absolute\">\r\n          <Toolbar>\r\n            <Grid justify=\"space-between\" container spacing={0}>\r\n              <Grid item>\r\n                <Typography component=\"h1\" variant=\"h4\" color=\"inherit\" noWrap>\r\n                  PropTech\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                {/* <Typography variant=\"h6\" color=\"inherit\">\r\n                  {sessionStorage.getItem(\"admin_username\")}\r\n                </Typography> */}\r\n              </Grid>\r\n            </Grid>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navigation;\r\n","import React from \"react\";\r\nimport \"./../../App.css\";\r\n\r\nclass Abouts extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>About</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Abouts;\r\n","import { Component } from \"react\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nclass AdminManageUsers extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user_list: [],\r\n    };\r\n    this.generateTableData = this.generateTableData.bind(this);\r\n    this.getUserList = this.getUserList.bind(this);\r\n    this.generateTableData();\r\n  }\r\n\r\n  getUserList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/users`).then((response) => {\r\n        this.setState({ user_list: response.data.Users });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  generateTableData() {\r\n    this.getUserList().then(() => {\r\n      this.res1 = [];\r\n      this.res2 = [];\r\n      for (var i = 0; i < this.state.user_list.length; i++) {\r\n        var attributes = this.state.user_list[i].Attributes.reduce((att, item) => Object.assign(att, { [item.Name]: item.Value }), {});\r\n        if (attributes[\"custom:is_activated\"] == \"True\") {\r\n          this.res2.push(\r\n            <TableRow key={i} id={i}>\r\n              <TableCell>{attributes[\"sub\"]}</TableCell>\r\n              <TableCell>{attributes[\"email\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:company_name\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:street_name\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:suite_number\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:city\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:state\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:zipcode\"]}</TableCell>\r\n              <ViewPropManager sub={attributes[\"sub\"]} username={attributes[\"email\"]} company_name={attributes[\"custom:company_name\"]}/>\r\n            </TableRow>\r\n          );\r\n        } else {\r\n          this.res1.push(\r\n            <TableRow key={i} id={i}>\r\n              <TableCell>{attributes[\"sub\"]}</TableCell>\r\n              <TableCell>{attributes[\"email\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:company_name\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:street_name\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:suite_number\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:city\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:state\"]}</TableCell>\r\n              <TableCell>{attributes[\"custom:zipcode\"]}</TableCell>\r\n              <AcceptButton generateTableData={this.generateTableData} sub={attributes[\"sub\"]} email={attributes[\"email\"]} />\r\n              <RejectButton generateTableData={this.generateTableData} sub={attributes[\"sub\"]} email={attributes[\"email\"]} />\r\n            </TableRow>\r\n          );\r\n        }\r\n      }\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>UserId</TableCell>\r\n              <TableCell>Email</TableCell>\r\n              <TableCell>Company Name</TableCell>\r\n              <TableCell>Street Name</TableCell>\r\n              <TableCell>Suite Number</TableCell>\r\n              <TableCell>City</TableCell>\r\n              <TableCell>State</TableCell>\r\n              <TableCell>Zipcode</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>{this.res1}</TableBody>\r\n          <TableBody>{this.res2}</TableBody>\r\n        </Table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass RejectButton extends Component {\r\n  decline_app = (user_id, email) => {\r\n    axios.delete(`/reject`, { data: { sub: user_id, email: email } }).then((response) => {\r\n      this.props.generateTableData();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <TableCell>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            this.decline_app(this.props.sub, this.props.email);\r\n          }}\r\n        >\r\n          Reject Application\r\n        </Button>\r\n      </TableCell>\r\n    );\r\n  }\r\n}\r\n\r\nclass AcceptButton extends Component {\r\n  accept_app = (user_id, email) => {\r\n    axios.post(`/activate`, { sub: user_id, email: email }).then((response) => {\r\n      this.props.generateTableData();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <TableCell>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            this.accept_app(this.props.sub, this.props.email);\r\n          }}\r\n        >\r\n          Accept Application\r\n        </Button>\r\n      </TableCell>\r\n    );\r\n  }\r\n}\r\n\r\nclass ViewPropManager extends Component {\r\n  viewManager = (sub, username, company_name) => {\r\n    sessionStorage.setItem(\"username\", username);\r\n    sessionStorage.setItem(\"custom:company_name\", company_name);\r\n    window.location = `/Admin/PropMana/${sub}/property`;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <TableCell>\r\n        <Button\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            this.viewManager(this.props.sub, this.props.username, this.props.company_name);\r\n          }}\r\n        >\r\n          View User\r\n        </Button>\r\n      </TableCell>\r\n    );\r\n  }\r\n}\r\nexport default AdminManageUsers;\r\n","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport \"./../../App.css\";\r\nimport axios from \"axios\";\r\n\r\nclass AdminSideMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  manage_users = () => {\r\n    window.location = \"/Admin/propertyManagers\";\r\n  };\r\n\r\n  log_out = () => {\r\n    sessionStorage.removeItem(\"admin_username\");\r\n    sessionStorage.removeItem(\"admin_sub\");\r\n    axios.post(\"/logout\").then((response) => {\r\n      window.location = \"/\";\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"sidenav\">\r\n        <header>\r\n          <ul>\r\n            <a href=\"#\" onClick={this.manage_users}>\r\n              Manage Users\r\n            </a>\r\n            <a href=\"#\" onClick={this.log_out}>\r\n              Log Out\r\n            </a>\r\n          </ul>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminSideMenu;\r\n","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport \"./../../App.css\";\r\nimport AdminManageUsers from \"./AdminManageUsers\";\r\nimport AdminSideMenu from \"./AdminSideMenu\";\r\nimport { matchPath } from \"react-router-dom\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { DialogContent } from \"@material-ui/core\";\r\n\r\nclass AdminAfterSign extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    var page;\r\n    var sub = this.props.match.params.sub;\r\n    if (matchPath(this.props.location.pathname, { path: \"/Admin/propertyManagers\", exact: true, strict: false })) {\r\n      page = \"manage_users\";\r\n    }\r\n    this.state = {\r\n      sub: sub,\r\n      page: (() => {\r\n        switch (page) {\r\n          case \"manage_users\":\r\n            return <AdminManageUsers display={this} />;\r\n        }\r\n      })(),\r\n      page_name: (() => {\r\n        switch (page) {\r\n          case \"manage_users\":\r\n            return \"Manage Users\";\r\n        }\r\n      })(),\r\n    };\r\n    sessionStorage.setItem(\"admin_sub\", sub);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"topOffset leftOffset\">\r\n        <Typography component=\"h1\" variant=\"h5\" color=\"primary\">\r\n          Welcome, Admin\r\n          {\" \" + sessionStorage.getItem(\"admin_username\")}\r\n          <br></br>\r\n          <br></br>\r\n          {this.state.page_name}\r\n        </Typography>\r\n        <DialogContent />\r\n        <div className=\"Info_Page_Split\">\r\n          <AdminSideMenu />\r\n          <div className=\"display\">{this.state.page}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminAfterSign;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    padding: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function WhatIsProRataShare() {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      <Button aria-describedby={id} variant=\"contained\" color=\"primary\" onClick={handleClick}>\r\n        What's this?\r\n      </Button>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        <Typography className={classes.typography}>RUBS is......</Typography>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport axios from \"axios\";\r\n{\r\n  /* meter_1 and meter_2 are temporary hardcode variables used for demostration \r\n    onlyOption specifies whether checkbox allows multiple selection or single selection\r\n    true=single selection, false=multiple selection\r\n*/\r\n}\r\nclass MeterCheckBox extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      meter_list: this.props.meter_list,\r\n      cur_meter_list: this.props.cur_meter_list,\r\n      meter_id: \"\",\r\n      property_id: this.props.property_id,\r\n      tenant_id: this.props.tenant_id,\r\n      onlyOption: this.props.onlyOption,\r\n      select_meter_list: \"\",\r\n      meter_error: false,\r\n      helper_text: \"\",\r\n      chosen: false,\r\n    };\r\n    this.onChangeOnlyOption = this.onChangeOnlyOption.bind(this);\r\n    this.onChangeMultiOption = this.onChangeMultiOption.bind(this);\r\n    this.get_current_meter_list = this.get_current_meter_list.bind(this);\r\n    this.get_current_meter_list();\r\n    this.generateTable();\r\n  }\r\n\r\n  getMeterList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/meter/${this.state.property_id}`).then((response) => {\r\n        this.setState({ meter_list: response.data }, () => {\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  getCurrentMeterList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/ass_meter/${this.state.property_id}`).then((response) => {\r\n        var list = []\r\n        console.log(this.state.tenant_id, response.data);\r\n        for (var i = 0; i < response.data.length; i++) {\r\n          // console.log(\"tenant_id  \", this.state.tenant_id);\r\n          if (response.data[i].tenant_id == this.state.tenant_id) {\r\n            list.push(response.data[i].meter_id)\r\n          }\r\n        }\r\n        this.setState({ cur_meter_list: list });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.generateTable();\r\n  }\r\n\r\n  onChangeOnlyOption(event) {\r\n    {\r\n      /* this part should also return the chosen meter value */\r\n    }\r\n    this.setState({ meter_id: event.target.value }, function () {\r\n      this.props.methodfromparent(this.state.meter_id);\r\n    });\r\n  }\r\n\r\n  onChangeMultiOption(event) {\r\n    event.preventDefault();\r\n    // console.log(\"event target name\", event.target.name);\r\n    // this.getCurrentMeterList().then(() => {\r\n    //   let current = this.state.cur_meter_list;\r\n    //   for (var i = 0; i < current.length; i++) {\r\n    //     if (event.target.name === current[i]) {\r\n    //       console.log(\"current meter is !!!!\"+current[i], \"newstate: \" + this.state.newState[i])\r\n    //       this.setState({\r\n    //         newState: event.target.checked,\r\n    //       })\r\n    //     }\r\n    //   }\r\n    // });\r\n    this.setState({\r\n      [event.target.name]: event.target.checked,\r\n    }, function () {\r\n      this.props.methodfromparent(event.target.name);\r\n    });\r\n    this.generateTable();\r\n  }\r\n\r\n  get_current_meter_list() {\r\n    this.getCurrentMeterList().then(() => {\r\n      let current = this.state.cur_meter_list;\r\n      for (var i = 0; i < current.length; i++) {\r\n        this.setState({\r\n          [current[i]]: true\r\n        })\r\n        console.log(current[i])\r\n      }\r\n    });\r\n    this.forceUpdate();\r\n  }\r\n\r\n  meter_submeter_validate() {\r\n    var isValidate = true;\r\n    if (this.state.meter_id === \"\") {\r\n      this.setState({\r\n        meter_error: true,\r\n        helper_text: \"Please select associated meter number\"\r\n      })\r\n      isValidate = false;\r\n    }\r\n    return isValidate;\r\n  }\r\n\r\n  generateTable() {\r\n    var res = [];\r\n    this.getMeterList().then(() => {\r\n      var tableData = this.state.meter_list;\r\n      if (this.state.onlyOption === true) {\r\n        for (var i = 0; i < tableData.length; i++) {\r\n          res.push(<FormControlLabel key={tableData[i].meter_id} name={tableData[i].meter_id} value={tableData[i].meter_id} control={<Radio />} label={tableData[i].meter_id} />);\r\n        }\r\n        this.res = res;\r\n        this.forceUpdate();\r\n      } else {\r\n        this.cur = [];\r\n        this.getCurrentMeterList().then(() => {\r\n          let current = this.state.cur_meter_list;\r\n          for (var i = 0; i < current.length; i++) {\r\n            this.cur.push(current[i]);\r\n          }\r\n          console.log(\"meterlist:!! \" + this.cur)\r\n          for (var i = 0; i < tableData.length; i++) {\r\n            let isChosen = false;\r\n            for (var j = 0; j < this.cur.length; j++) {\r\n              if (this.cur[j] === tableData[i].meter_id) {\r\n                isChosen = true;\r\n              }\r\n            }\r\n            if (isChosen) {\r\n              res.push(\r\n                <FormControlLabel \r\n                  key={tableData[i].meter_id} \r\n                  control={<Checkbox checked={this.state[tableData[i].meter_id]}\r\n                                     onChange={this.onChangeMultiOption}\r\n                                     name={tableData[i].meter_id} color=\"primary\" \r\n                          />} \r\n                  label={tableData[i].meter_id} />\r\n              );\r\n            } else {\r\n              res.push(\r\n                <FormControlLabel key={tableData[i].meter_id} control={<Checkbox onChange={this.onChangeMultiOption} name={tableData[i].meter_id} color=\"primary\" />} label={tableData[i].meter_id} />\r\n              );\r\n            }\r\n          }\r\n          this.res = res;\r\n          this.forceUpdate();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.onlyOption ? (\r\n          <div>\r\n            <FormControl>\r\n              <FormLabel>Which meter number is associated with this submeter?</FormLabel>\r\n              <RadioGroup aria-label=\"meter\" onChange={this.onChangeOnlyOption}>\r\n                {this.res}\r\n              </RadioGroup>\r\n            </FormControl>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <FormControl>\r\n              <FormLabel>Which meter number is associated with this tenant?</FormLabel>\r\n              {this.res}\r\n            </FormControl>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MeterCheckBox;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport WhatIsProRataShare from \"./../../WhatIsProRataShare.js\";\r\nimport MeterCheckBox from \"./../../MeterCheckbox\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport NumberFormat from 'react-number-format';\r\nimport axios from \"axios\";\r\nimport { is } from \"date-fns/locale\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nclass EditTenant extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      meter_list: [],\r\n      cur_meter_list: [],\r\n      tenant_id: this.props.tenant_id,\r\n      name: this.props.name,\r\n      email: this.props.email,\r\n      address: this.props.address,\r\n      landlord_phone: this.props.landlord_phone,\r\n      rubs: this.props.rubs,\r\n      property_id: this.props.property_id,\r\n      yes: false,\r\n      no: false,\r\n      yesprorata: false,\r\n      noprorata: false,\r\n      tenantFt: \"\",\r\n      nameError: \"\",\r\n      addressError: \"\",\r\n      emailError: \"\",\r\n      phoneError: \"\",\r\n      name_errors: false,\r\n      address_errors: false,\r\n      email_errors: false,\r\n      phone_errors: false,\r\n      choice_errors: false,\r\n      helper_text: \"\",\r\n      rubs_errors: false,\r\n      rubs_helper_text: \"\",\r\n      percent_errors: false,\r\n      percent_helper_text: \"\",\r\n      meter_errors: false,\r\n      meter_helper_text: \"\",\r\n      is_meter_tenant: this.props.is_meter_tenant,\r\n      is_submeter_tenant: this.props.is_submeter_tenant,\r\n    };\r\n\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.changeName = this.changeName.bind(this);\r\n    this.changeEmail = this.changeEmail.bind(this);\r\n    this.changeAddress = this.changeAddress.bind(this);\r\n    this.changeLandlordPhone = this.changeLandlordPhone.bind(this);\r\n    this.changeRubs = this.changeRubs.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.validation = this.validation.bind(this);\r\n    this.changeRUBS = this.changeRUBS.bind(this);\r\n    this.getAssociatedMeter = this.getAssociatedMeter.bind(this);\r\n    this.onChangeYes = this.onChangeYes.bind(this);\r\n    this.onChangeNo = this.onChangeNo.bind(this);\r\n    this.changeTenantFt = this.changeTenantFt.bind(this);\r\n    this.onChangeYesProrata = this.onChangeYesProrata.bind(this);\r\n    this.onChangeNoProrata = this.onChangeNoProrata.bind(this);\r\n    this.calculate = this.calculate.bind(this);\r\n    this.getMeterList = this.getMeterList.bind(this);\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.props.tenant_id !== this.state.tenant_id) {\r\n      this.setState({\r\n        tenant_id: this.props.tenant_id,\r\n        name: this.props.name,\r\n        email: this.props.email,\r\n        address: this.props.address,\r\n        landlord_phone: this.props.landlord_phone,\r\n        rubs: this.props.rubs,\r\n        property_id: this.props.property_id,\r\n        yes: this.props.yes,\r\n        no: this.props.no,\r\n        yesprorata: this.props.yesprorata,\r\n        noprorata: this.props.noprorata,\r\n        tenantFt: this.props.tenantFt,\r\n      });\r\n    }\r\n  }\r\n  updateTenantInfo(tenant_id, tenant_info) {\r\n    console.log(\"meterlistttttt\" + this.state.meter_list)\r\n    axios.patch(\"/tenant\", { sub: this.props.sub, tenant_id: tenant_id, tenant_info: tenant_info, meter_list: this.state.meter_list }).then((response) => {\r\n      this.props.generateTableData();\r\n    });\r\n  }\r\n\r\n  handleClickOpen() {\r\n    var cur = [];\r\n    this.getMeterList().then(() => {\r\n      let tableData = this.state.meter_list;\r\n      // console.log(\"table\", tableData);\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        cur.push(tableData[i]);\r\n      }\r\n      this.cur = cur;\r\n      this.forceUpdate();\r\n      // console.log(\"meterlist: \" + this.cur)\r\n    });\r\n    if (this.state.rubs === 0) {\r\n      this.setState({\r\n        yesprorata: false,\r\n        noprorata: true,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        yesprorata: true,\r\n        noprorata: false,\r\n        yes: true,\r\n      })\r\n    }\r\n    this.setState({\r\n      open: true,\r\n      cur_meter_list: this.cur\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n      nameError: \"\",\r\n      addressError: \"\",\r\n      emailError: \"\",\r\n      phoneError: \"\",\r\n      name_errors: false,\r\n      address_errors: false,\r\n      email_errors: false,\r\n      phone_errors: false,\r\n      meter_errors: false,\r\n      meter_helper_text: \"\",\r\n    });\r\n  }\r\n\r\n  changeName(event) {\r\n    this.setState({\r\n      name: event.target.value,\r\n      nameError: \"\",\r\n      name_errors: false\r\n    });\r\n  }\r\n\r\n  changeEmail(event) {\r\n    this.setState({\r\n      email: event.target.value,\r\n      emailError: \"\",\r\n      email_errors: false\r\n    });\r\n  }\r\n\r\n  changeAddress(event) {\r\n    this.setState({\r\n      address: event.target.value,\r\n      addressError: \"\",\r\n      address_errors: false\r\n    });\r\n  }\r\n\r\n  changeLandlordPhone(event) {\r\n    this.setState({\r\n      landlord_phone: event.target.value,\r\n      phoneError: \"\",\r\n      phone_errors: false\r\n    });\r\n  }\r\n\r\n  changeRubs(event) {\r\n    this.setState({\r\n      rubs: event.target.value,\r\n    });\r\n  }\r\n\r\n  changeRUBS(event) {\r\n    event.preventDefault();\r\n    var value = parseFloat(event.target.value) / 100\r\n    console.log(\"rubs is \" + value)\r\n    this.setState({\r\n      rubs: value,\r\n      percent_errors: false,\r\n      percent_helper_text: \"\"\r\n    });\r\n  }\r\n\r\n  changeTenantFt(event) {\r\n    event.preventDefault();\r\n    var totalBuildingFt = this.props.total_footage;\r\n    var tenantft = event.target.value;\r\n    if (tenantft != \"\") {\r\n      var rubs = tenantft / totalBuildingFt;\r\n      this.setState({\r\n        rubs: rubs,\r\n      });\r\n    }\r\n    this.setState({\r\n      tenantFt: event.target.value,\r\n      percent_errors: false,\r\n      percent_helper_text: \"\"\r\n    });\r\n  }\r\n\r\n  calculate(event) {\r\n    var totalBuildingFt = this.props.total_footage;\r\n    var tenantft = this.state.tenantFt;\r\n    if (tenantft != \"\") {\r\n      var rubs = tenantft / totalBuildingFt;\r\n      this.setState({\r\n        rubs: rubs,\r\n      });\r\n      this.forceUpdate();\r\n      /* should specify a way to calculate rubs based on tenantFt and then save into rubs variable*/\r\n      console.log(tenantft / totalBuildingFt);\r\n    }\r\n    event.preventDefault();\r\n  }\r\n\r\n  getAssociatedMeter(new_meter) {\r\n    var temp_list = this.state.meter_list;\r\n    var remove = false;\r\n    for (var i = 0; i < temp_list.length; i++) {\r\n      if (temp_list[i] === new_meter) {\r\n        temp_list.splice(i, 1);\r\n        remove = true;\r\n      }\r\n    }\r\n    if (remove) {\r\n      this.setState({\r\n        meter_list: temp_list\r\n      })\r\n    } else {\r\n      this.setState((prevState) => ({\r\n        meter_list: [new_meter, ...prevState.meter_list],\r\n      }));\r\n    }\r\n  }\r\n\r\n  onChangeYes(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      yes: event.target.checked,\r\n      no: false,\r\n      rubs_errors: false,\r\n      rubs_helper_text: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeNo(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      no: event.target.checked,\r\n      yes: false,\r\n      rubs_errors: false,\r\n      rubs_helper_text: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeYesProrata(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      yesprorata: event.target.checked,\r\n      noprorata: false,\r\n      choice_errors: false,\r\n      helper_text: \"\"\r\n    })\r\n  }\r\n\r\n  onChangeNoProrata(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      noprorata: event.target.checked,\r\n      yesprorata: false,\r\n      choice_errors: false,\r\n      helper_text: \"\"\r\n    })\r\n  }\r\n\r\n  validation() {\r\n    var isValidate = true;\r\n    var email_pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\r\n    var name_pattern = new RegExp(/^[a-z ,.'-]+$/i);\r\n    if (this.state.name === \"\" || !name_pattern.test(this.state.name)) {\r\n      var nameMessage = \"Please enter a valid name\"\r\n      this.setState({\r\n        nameError: nameMessage,\r\n        name_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (this.state.email === \"\") {\r\n      var emailMessage = \"Please enter a valid email address\"\r\n      this.setState({\r\n        emailError: emailMessage,\r\n        email_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (!email_pattern.test(this.state.email)) {\r\n      var emailMessage = \"Please enter a valid email address\"\r\n      this.setState({\r\n        emailError: emailMessage,\r\n        email_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (this.state.address === \"\") {\r\n      var addressMessage = \"Please enter a valid address\"\r\n      this.setState({\r\n        addressError: addressMessage,\r\n        address_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    var phone_pattern = new RegExp(/^[(]{0,1}[0-9]{3}[)]{0,1}[-\\s\\.]{0,1}[0-9]{3}[-\\s\\.]{0,1}[0-9]{4}$/);\r\n    if (this.state.landlord_phone === \"\" || !phone_pattern.test(this.state.landlord_phone)) {\r\n      var phoneMessage = \"Please enter a valid phone number\"\r\n      this.setState({\r\n        phoneError: phoneMessage,\r\n        phone_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (!this.state.yesprorata && !this.state.noprorata) {\r\n      var message = \"Please choose an option\"\r\n      this.setState({\r\n        choice_errors: true,\r\n        helper_text: message\r\n      })\r\n      isValidate = false;\r\n    }\r\n    return isValidate;\r\n  }\r\n\r\n  getMeterList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/ass_meter/${this.state.property_id}`).then((response) => {\r\n        var list = []\r\n        console.log(this.state.tenant_id, response.data);\r\n        for (var i = 0; i < response.data.length; i++) {\r\n          // console.log(\"tenant_id  \", this.state.tenant_id);\r\n          if (response.data[i].tenant_id == this.state.tenant_id) {\r\n            list.push(response.data[i].meter_id)\r\n          }\r\n        }\r\n        this.setState({ meter_list: list });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  onSubmit(event) {\r\n    event.preventDefault();\r\n    var res = [];\r\n    if (this.state.meter_list.length !== 0) {\r\n      this.setState({\r\n        meter_errors: true,\r\n        meter_helper_text: \"\",\r\n      })\r\n    }\r\n    if (this.validation()) {\r\n      if (this.state.noprorata && !this.state.yesprorata) {\r\n        this.setState({\r\n          open: false,\r\n          nameError: \"\",\r\n          addressError: \"\",\r\n          emailError: \"\",\r\n          phoneError: \"\",\r\n          name_errors: false,\r\n          address_errors: false,\r\n          email_errors: false,\r\n          phone_errors: false,\r\n          choice_errors: false,\r\n          helper_text: \"\",\r\n          rubs_errors: false,\r\n          rubs_helper_text: \"\",\r\n          percent_errors: false,\r\n          percent_helper_text: \"\",\r\n          meter_errors: false,\r\n          meter_helper_text: \"\",\r\n        });\r\n        var tenant_info = {\r\n          name: this.state.name,\r\n          email: this.state.email,\r\n          address: this.state.address,\r\n          landlord_phone: this.state.landlord_phone,\r\n          rubs: this.state.rubs,\r\n          property_id: this.state.property_id,\r\n        };\r\n        var tenant_id = this.state.tenant_id;\r\n        this.updateTenantInfo(tenant_id, tenant_info);\r\n      } else {\r\n        if (this.state.meter_list.length === 0) {\r\n          console.log(\"meter_list length: \" + this.state.meter_list)\r\n          var meter_message = \"Please select at least one meter number\"\r\n          this.setState({\r\n            meter_errors: true,\r\n            meter_helper_text: meter_message\r\n          })\r\n        } else if (this.state.yesprorata && !this.state.yes && !this.state.no) {\r\n          var rubs_message = \"Please choose an option\"\r\n          this.setState({\r\n            rubs_errors: true,\r\n            rubs_helper_text: rubs_message\r\n          })\r\n        } else if (this.state.yesprorata) {\r\n          if (this.state.tenantFt === \"\" && (this.state.rubs === \"\" || this.state.rubs > 1 || this.state.rubs < 0)) {\r\n            var rubs_message = \"Please enter a valid percentage\"\r\n            this.setState({\r\n              percent_errors: true,\r\n              percent_helper_text: rubs_message\r\n            })\r\n          } else if ((this.state.rubs === \"\" || !this.state.rubs) && (this.state.tenantFt === \"\" || this.state.tenantFt > this.props.total_footage)) {\r\n            var rubs_message = \"Please enter a valid number\"\r\n            this.setState({\r\n              percent_errors: true,\r\n              percent_helper_text: rubs_message\r\n            })\r\n          } else if (this.state.rubs !== \"\" && (this.state.rubs > 1 || this.state.rubs < 0)) {\r\n            var rubs_message = \"Please enter a valid number\"\r\n            this.setState({\r\n              percent_errors: true,\r\n              percent_helper_text: rubs_message\r\n            })\r\n          } else {\r\n            this.setState({\r\n              open: false,\r\n              nameError: \"\",\r\n              addressError: \"\",\r\n              emailError: \"\",\r\n              phoneError: \"\",\r\n              name_errors: false,\r\n              address_errors: false,\r\n              email_errors: false,\r\n              phone_errors: false,\r\n              choice_errors: false,\r\n              helper_text: \"\",\r\n              rubs_errors: false,\r\n              rubs_helper_text: \"\",\r\n              percent_errors: false,\r\n              percent_helper_text: \"\",\r\n              meter_errors: false,\r\n              meter_helper_text: \"\",\r\n            });\r\n            var tenant_info = {\r\n              name: this.state.name,\r\n              email: this.state.email,\r\n              address: this.state.address,\r\n              landlord_phone: this.state.landlord_phone,\r\n              rubs: this.state.rubs,\r\n              property_id: this.state.property_id,\r\n            };\r\n            var tenant_id = this.state.tenant_id;\r\n            this.updateTenantInfo(tenant_id, tenant_info);\r\n          }\r\n        } else {\r\n          this.setState({\r\n            open: false,\r\n            nameError: \"\",\r\n            addressError: \"\",\r\n            emailError: \"\",\r\n            phoneError: \"\",\r\n            name_errors: false,\r\n            address_errors: false,\r\n            email_errors: false,\r\n            phone_errors: false,\r\n            choice_errors: false,\r\n            helper_text: \"\",\r\n            rubs_errors: false,\r\n            rubs_helper_text: \"\",\r\n            percent_errors: false,\r\n            percent_helper_text: \"\",\r\n            meter_errors: false,\r\n            meter_helper_text: \"\",\r\n          });\r\n          var tenant_info = {\r\n            name: this.state.name,\r\n            email: this.state.email,\r\n            address: this.state.address,\r\n            landlord_phone: this.state.landlord_phone,\r\n            rubs: 0,\r\n            property_id: this.state.property_id,\r\n          };\r\n          var tenant_id = this.state.tenant_id;\r\n          this.updateTenantInfo(tenant_id, tenant_info);\r\n          this.setState({\r\n            meter_list: []\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const isYes = this.state.yes;\r\n    const isNo = this.state.no;\r\n    const isYesProrata = this.state.yesprorata;\r\n    const isNoProrata = this.state.noprorata;\r\n    var is_validate_name = this.state.name_errors;\r\n    var is_validate_address = this.state.address_errors;\r\n    var is_validate_email = this.state.email_errors;\r\n    var is_validate_phone = this.state.phone_errors;\r\n    var name_message = this.state.nameError;\r\n    var address_message = this.state.addressError;\r\n    var email_message = this.state.emailError;\r\n    var phone_message = this.state.phoneError;\r\n    var is_validate_choice = this.state.choice_errors;\r\n    var helper = this.state.helper_text;\r\n    var is_validate_rubs = this.state.rubs_errors;\r\n    var helper_rubs = this.state.rubs_helper_text;\r\n    var is_validate_percent = this.state.percent_errors;\r\n    var helper_percent = this.state.percent_helper_text;\r\n    var is_validate_meter = this.state.meter_errors;\r\n    var helper_meter = this.state.meter_helper_text;\r\n    return (\r\n      <div>\r\n        <Button color=\"primary\" onClick={this.handleClickOpen}>\r\n          Edit\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Enter Tenant Information</DialogTitle>\r\n          <DialogContent>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"Name\"\r\n              type=\"text\"\r\n              value={this.state.name}\r\n              onChange={this.changeName}\r\n              helperText={is_validate_name ? name_message : null}\r\n              error={this.state.name_errors}\r\n              fullWidth\r\n            />\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              type=\"email\"\r\n              value={this.state.email}\r\n              onChange={this.changeEmail}\r\n              helperText={is_validate_email ? email_message : null}\r\n              error={this.state.email_errors}\r\n              fullWidth\r\n            />\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"address\"\r\n              label=\"Address\"\r\n              type=\"text\"\r\n              value={this.state.address}\r\n              onChange={this.changeAddress}\r\n              helperText={is_validate_address ? address_message : null}\r\n              error={this.state.address_errors}\r\n              fullWidth\r\n            />\r\n            <NumberFormat\r\n              customInput={TextField}\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"landlord_phone\"\r\n              label=\"Landlord Phone\"\r\n              type=\"text\"\r\n              value={this.state.landlord_phone}\r\n              onChange={this.changeLandlordPhone}\r\n              helperText={is_validate_phone ? phone_message : null}\r\n              error={this.state.phone_errors}\r\n              fullWidth\r\n              format=\"(###) ###-####\"\r\n            />\r\n            <DialogContent />\r\n            <FormControl error={is_validate_choice}>\r\n              <FormLabel>\r\n                Is this Tenant Billed based off a Percentage (Pro-Rata) Share of Building?\r\n                <DialogContentText />\r\n                <WhatIsProRataShare />\r\n              </FormLabel>\r\n              <FormHelperText>{helper}</FormHelperText>\r\n              <FormGroup row>\r\n                <FormControlLabel disabled control={<Checkbox checked={this.state.yesprorata} onChange={this.onChangeYesProrata} name=\"yes\" color=\"primary\" />} label=\"yes\" />\r\n                <FormControlLabel disabled control={<Checkbox checked={this.state.noprorata} onChange={this.onChangeNoProrata} name=\"no\" color=\"primary\" />} label=\"no\" />\r\n              </FormGroup>\r\n              <DialogContent></DialogContent>\r\n              <div>\r\n                {isYesProrata ? (\r\n                  <div>\r\n                    <FormControl error={is_validate_meter}>\r\n                      <MeterCheckBox\r\n                        property_id={this.props.property_id}\r\n                        onlyOption={false}\r\n                        cur_meter_list={this.state.cur_meter_list}\r\n                        tenant_id={this.state.tenant_id}\r\n                        methodfromparent={this.getAssociatedMeter}\r\n                      />\r\n                      <FormHelperText>{helper_meter}</FormHelperText>\r\n                    </FormControl>\r\n                    {/* <TextField autoFocus margin=\"dense\" id=\"multiplier\" label=\"Is there a multiplier?\" type=\"text\" onChange={this.changeMultiplier} fullWidth />\r\n                    <WhatIsMultiplier /> */}\r\n                    <DialogContent></DialogContent>\r\n                    <FormControl error={is_validate_rubs}>\r\n                      <FormLabel>\r\n                        Do you have the percentage share of building of this tenant?\r\n                        <DialogContentText />\r\n                        <WhatIsProRataShare />\r\n                      </FormLabel>\r\n                      <FormHelperText>{helper_rubs}</FormHelperText>\r\n                      <FormGroup row>\r\n                        <FormControlLabel control={<Checkbox checked={this.state.yes} onChange={this.onChangeYes} name=\"yes\" color=\"primary\" />} label=\"yes\" />\r\n                        <FormControlLabel control={<Checkbox checked={this.state.no} onChange={this.onChangeNo} name=\"no\" color=\"primary\" />} label=\"no\" />\r\n                      </FormGroup>\r\n                      <DialogContent></DialogContent>\r\n                      <div>\r\n                        {isYes ? (\r\n                          <div>\r\n                            <NumberFormat\r\n                              customInput={TextField}\r\n                              autoFocus\r\n                              margin=\"dense\"\r\n                              id=\"rubs\"\r\n                              label=\"Enter Percentage Share of Building\"\r\n                              type=\"text\"\r\n                              fullWidth\r\n                              onChange={this.changeRUBS}\r\n                              helperText={is_validate_percent ? helper_percent : null}\r\n                              error={this.state.percent_errors}\r\n                              suffix=\"%\"\r\n                              value={this.state.rubs * 100}\r\n                            />\r\n                          </div>\r\n                        ) : null}\r\n                        {isNo ? (\r\n                          <div>\r\n                            <div>Total buildings square footage: {this.props.total_footage}</div>\r\n                            <NumberFormat\r\n                              customInput={TextField}\r\n                              autoFocus\r\n                              margin=\"dense\"\r\n                              id=\"tenantFt\"\r\n                              label=\"Enter tenant square footage\"\r\n                              type=\"text\"\r\n                              onChange={this.changeTenantFt}\r\n                              fullWidth\r\n                              helperText={is_validate_percent ? helper_percent : null}\r\n                              error={this.state.percent_errors}\r\n                            />\r\n                            <TextField\r\n                              autoFocus\r\n                              margin=\"dense\"\r\n                              label=\"Percentage share\"\r\n                              fullWidth\r\n                              value={this.state.rubs * 100 + \"%\"}\r\n                            />\r\n                            {/* <Button onClick={this.calculate} color=\"primary\">\r\n                              Calculate\r\n                            </Button> */}\r\n                          </div>\r\n                        ) : null}\r\n                      </div>\r\n                    </FormControl>\r\n                  </div>\r\n                ) : null}\r\n                {isNoProrata ? (\r\n                  <div>\r\n\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </FormControl>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"primary\">\r\n              Update\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditTenant;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport WhatIsProRataShare from \"./../../WhatIsProRataShare.js\";\r\nimport MeterCheckBox from \"./../../MeterCheckbox\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport NumberFormat from 'react-number-format';\r\n\r\n{\r\n  /* New variables: multiplier, rubs \r\n    Adjust variables according to database\r\n    Import existing meter to this page, meter and meter_list haven't been declared\r\n*/\r\n}\r\nclass AddTenant extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      name: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      landlord_phone: sessionStorage.getItem(\"landlord_phone\"),\r\n      rubs: \"\",\r\n      multiplier: \"\",\r\n      meter_id: \"\",\r\n      meter_list: [],\r\n      yes: false,\r\n      no: false,\r\n      yesprorata: false,\r\n      noprorata: false,\r\n      tenantFt: \"\",\r\n      nameError: \"\",\r\n      addressError: \"\",\r\n      emailError: \"\",\r\n      phoneError: \"\",\r\n      name_errors: false,\r\n      address_errors: false,\r\n      email_errors: false,\r\n      phone_errors: false,\r\n      choice_errors: false,\r\n      helper_text: \"\",\r\n      rubs_errors: false,\r\n      rubs_helper_text: \"\",\r\n      percent_errors: false,\r\n      percent_helper_text: \"\",\r\n      meter_errors: false,\r\n      meter_helper_text: \"\",\r\n    };\r\n\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.changeName = this.changeName.bind(this);\r\n    this.changeEmail = this.changeEmail.bind(this);\r\n    this.changeAddress = this.changeAddress.bind(this);\r\n    this.changeLandlordPhone = this.changeLandlordPhone.bind(this);\r\n    this.changeMultiplier = this.changeMultiplier.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.getAssociatedMeter = this.getAssociatedMeter.bind(this);\r\n\r\n    this.onChangeYes = this.onChangeYes.bind(this);\r\n    this.onChangeNo = this.onChangeNo.bind(this);\r\n    this.changeRUBS = this.changeRUBS.bind(this);\r\n    this.changeTenantFt = this.changeTenantFt.bind(this);\r\n    this.calculate = this.calculate.bind(this);\r\n    this.changeMeter_List = this.changeMeter_List.bind(this);\r\n    this.validation = this.validation.bind(this);\r\n    this.onChangeYesProrata = this.onChangeYesProrata.bind(this);\r\n    this.onChangeNoProrata = this.onChangeNoProrata.bind(this);\r\n  }\r\n\r\n  addTenant(tenant_info) {\r\n    axios.post(\"/tenant\", { sub: this.props.sub, property_id: this.props.property_id, tenant_info: tenant_info, meter_list: this.state.meter_list }).then((response) => {\r\n      this.props.generateTableData();\r\n    });\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n      name: \"\",\r\n      address: \"\",\r\n      email: \"\",\r\n      landlord_phone: sessionStorage.getItem(\"landlord_phone\"),\r\n      rubs: \"\",\r\n      tenantFt: \"\",\r\n      meter_list: [],\r\n      nameError: \"\",\r\n      addressError: \"\",\r\n      emailError: \"\",\r\n      phoneError: \"\",\r\n      name_errors: false,\r\n      address_errors: false,\r\n      email_errors: false,\r\n      phone_errors: false,\r\n      choice_errors: false,\r\n      helper_text: \"\",\r\n      rubs_errors: false,\r\n      rubs_helper_text: \"\",\r\n      yesprorata: false,\r\n      noprorata: false,\r\n      yes: false,\r\n      no: false,\r\n      percent_errors: false,\r\n      percent_helper_text: \"\",\r\n      meter_errors: false,\r\n      meter_helper_text: \"\",\r\n    });\r\n  }\r\n\r\n  changeName(event) {\r\n    this.setState({\r\n      name: event.target.value,\r\n      nameError: \"\",\r\n      name_errors: false\r\n    });\r\n  }\r\n  changeMeter_List(meter_list) {\r\n    this.setState({\r\n      meter_list: meter_list,\r\n    });\r\n  }\r\n  changeEmail(event) {\r\n    this.setState({\r\n      email: event.target.value,\r\n      emailError: \"\",\r\n      email_errors: false\r\n    });\r\n  }\r\n\r\n  changeAddress(event) {\r\n    this.setState({\r\n      address: event.target.value,\r\n      addressError: \"\",\r\n      address_errors: false\r\n    });\r\n  }\r\n\r\n  changeLandlordPhone(event) {\r\n    this.setState({\r\n      landlord_phone: event.target.value,\r\n      phoneError: \"\",\r\n      phone_errors: false\r\n    });\r\n  }\r\n\r\n  changeMultiplier(event) {\r\n    this.setState({\r\n      multiplier: event.target.value,\r\n    });\r\n  }\r\n  onSubmit(event) {\r\n    {\r\n      /* tenant_info update to new requirements */\r\n    }\r\n    event.preventDefault();\r\n    console.log(this.state.meter_list)\r\n    if (this.state.meter_list.length !== 0) {\r\n      this.setState({\r\n        meter_errors: true,\r\n        meter_helper_text: \"\",\r\n      })\r\n    }\r\n    if (this.validation()) {\r\n      if (this.state.noprorata && !this.state.yesprorata) {\r\n        var tenant_info = {\r\n          name: this.state.name,\r\n          email: this.state.email,\r\n          address: this.state.address,\r\n          landlord_phone: this.state.landlord_phone,\r\n          rubs: this.state.rubs,\r\n        };\r\n        this.addTenant(tenant_info);\r\n        this.setState({\r\n          meter_list: [],\r\n          open: false,\r\n          name: \"\",\r\n          address: \"\",\r\n          email: \"\",\r\n          landlord_phone: sessionStorage.getItem(\"landlord_phone\"),\r\n          rubs: \"\",\r\n          tenantFt: \"\",\r\n          nameError: \"\",\r\n          addressError: \"\",\r\n          emailError: \"\",\r\n          phoneError: \"\",\r\n          name_errors: false,\r\n          address_errors: false,\r\n          email_errors: false,\r\n          phone_errors: false,\r\n          choice_errors: false,\r\n          helper_text: \"\",\r\n          rubs_errors: false,\r\n          rubs_helper_text: \"\",\r\n          yesprorata: false,\r\n          noprorata: false,\r\n          yes: false,\r\n          no: false,\r\n          percent_errors: false,\r\n          percent_helper_text: \"\",\r\n          meter_errors: false,\r\n          meter_helper_text: \"\",\r\n        });\r\n      } else {\r\n        if (this.state.meter_list.length === 0) {\r\n          console.log(\"meter_list length: \" + this.state.meter_list)\r\n          var meter_message = \"Please select at least one meter number\"\r\n          this.setState({\r\n            meter_errors: true,\r\n            meter_helper_text: meter_message\r\n          })\r\n        } else if (this.state.yesprorata && !this.state.yes && !this.state.no) {\r\n          var rubs_message = \"Please choose an option\"\r\n          this.setState({\r\n            rubs_errors: true,\r\n            rubs_helper_text: rubs_message\r\n          })\r\n        } else if (this.state.yesprorata) {\r\n          if (this.state.tenantFt === \"\" && (this.state.rubs === \"\" || this.state.rubs > 1 || this.state.rubs < 0)) {\r\n            var rubs_message = \"Please enter a valid percentage\"\r\n            this.setState({\r\n              percent_errors: true,\r\n              percent_helper_text: rubs_message\r\n            })\r\n          } else if ((this.state.rubs === \"\" || !this.state.rubs) && (this.state.tenantFt === \"\" || this.state.tenantFt > this.props.total_footage)) {\r\n            var rubs_message = \"Please enter a valid number\"\r\n            this.setState({\r\n              percent_errors: true,\r\n              percent_helper_text: rubs_message\r\n            })\r\n          } else if (this.state.rubs !== \"\" && (this.state.rubs > 1 || this.state.rubs < 0)) {\r\n            var rubs_message = \"Please enter a valid number\"\r\n            this.setState({\r\n              percent_errors: true,\r\n              percent_helper_text: rubs_message\r\n            })\r\n          } else {\r\n            var tenant_info = {\r\n              name: this.state.name,\r\n              email: this.state.email,\r\n              address: this.state.address,\r\n              landlord_phone: this.state.landlord_phone,\r\n              rubs: this.state.rubs,\r\n            };\r\n            this.addTenant(tenant_info);\r\n            this.setState({\r\n              meter_list: [],\r\n              open: false,\r\n              name: \"\",\r\n              address: \"\",\r\n              email: \"\",\r\n              landlord_phone: sessionStorage.getItem(\"landlord_phone\"),\r\n              rubs: \"\",\r\n              tenantFt: \"\",\r\n              nameError: \"\",\r\n              addressError: \"\",\r\n              emailError: \"\",\r\n              phoneError: \"\",\r\n              name_errors: false,\r\n              address_errors: false,\r\n              email_errors: false,\r\n              phone_errors: false,\r\n              choice_errors: false,\r\n              helper_text: \"\",\r\n              rubs_errors: false,\r\n              rubs_helper_text: \"\",\r\n              yesprorata: false,\r\n              noprorata: false,\r\n              yes: false,\r\n              no: false,\r\n              percent_errors: false,\r\n              percent_helper_text: \"\",\r\n              meter_errors: false,\r\n              meter_helper_text: \"\",\r\n            });\r\n          }\r\n  \r\n        } else {\r\n          var tenant_info = {\r\n            name: this.state.name,\r\n            email: this.state.email,\r\n            address: this.state.address,\r\n            landlord_phone: this.state.landlord_phone,\r\n            rubs: this.state.rubs,\r\n          };\r\n          this.addTenant(tenant_info);\r\n          this.setState({\r\n            meter_list: [],\r\n            open: false,\r\n            name: \"\",\r\n            address: \"\",\r\n            email: \"\",\r\n            landlord_phone: sessionStorage.getItem(\"landlord_phone\"),\r\n            rubs: \"\",\r\n            tenantFt: \"\",\r\n            nameError: \"\",\r\n            addressError: \"\",\r\n            emailError: \"\",\r\n            phoneError: \"\",\r\n            name_errors: false,\r\n            address_errors: false,\r\n            email_errors: false,\r\n            phone_errors: false,\r\n            choice_errors: false,\r\n            helper_text: \"\",\r\n            rubs_errors: false,\r\n            rubs_helper_text: \"\",\r\n            yesprorata: false,\r\n            noprorata: false,\r\n            yes: false,\r\n            no: false,\r\n            percent_errors: false,\r\n            percent_helper_text: \"\",\r\n            meter_errors: false,\r\n            meter_helper_text: \"\",\r\n          });\r\n        }\r\n      }\r\n    }\r\n    // this.forceUpdate();\r\n  }\r\n\r\n  getAssociatedMeter(new_meter) {\r\n    var temp_list = this.state.meter_list;\r\n    var remove = false;\r\n    for (var i = 0; i < temp_list.length; i++) {\r\n      if (temp_list[i] === new_meter) {\r\n        temp_list.splice(i, 1);\r\n        remove = true;\r\n      }\r\n    }\r\n    if (remove) {\r\n      this.setState({\r\n        meter_list: temp_list\r\n      })\r\n    } else {\r\n      this.setState((prevState) => ({\r\n        meter_list: [new_meter, ...prevState.meter_list],\r\n      }));\r\n    }\r\n  }\r\n\r\n  changeRUBS(event) {\r\n    event.preventDefault();\r\n    var value = parseFloat(event.target.value) / 100\r\n    console.log(\"rubs is \" + value)\r\n    this.setState({\r\n      rubs: value,\r\n      percent_errors: false,\r\n      percent_helper_text: \"\"\r\n    });\r\n  }\r\n\r\n  changeTenantFt(event) {\r\n    event.preventDefault();\r\n    var totalBuildingFt = this.props.total_footage;\r\n    var tenantft = event.target.value;\r\n    if (tenantft != \"\") {\r\n      var rubs = tenantft / totalBuildingFt;\r\n      this.setState({\r\n        rubs: rubs,\r\n      });\r\n    }\r\n    this.setState({\r\n      tenantFt: event.target.value,\r\n      percent_errors: false,\r\n      percent_helper_text: \"\"\r\n    });\r\n  }\r\n\r\n  calculate(event) {\r\n    var totalBuildingFt = this.props.total_footage;\r\n    var tenantft = this.state.tenantFt;\r\n    if (tenantft != \"\") {\r\n      var rubs = tenantft / totalBuildingFt;\r\n      this.setState({\r\n        rubs: rubs,\r\n      });\r\n      this.forceUpdate();\r\n      /* should specify a way to calculate rubs based on tenantFt and then save into rubs variable*/\r\n      console.log(tenantft / totalBuildingFt);\r\n    }\r\n    event.preventDefault();\r\n  }\r\n\r\n  onChangeYes(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      yes: event.target.checked,\r\n      no: false,\r\n      rubs_errors: false,\r\n      rubs_helper_text: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeNo(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      no: event.target.checked,\r\n      yes: false,\r\n      rubs_errors: false,\r\n      rubs_helper_text: \"\",\r\n    });\r\n  }\r\n\r\n  onChangeYesProrata(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      yesprorata: event.target.checked,\r\n      noprorata: false,\r\n      choice_errors: false,\r\n      helper_text: \"\"\r\n    })\r\n  }\r\n\r\n  onChangeNoProrata(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      noprorata: event.target.checked,\r\n      yesprorata: false,\r\n      choice_errors: false,\r\n      helper_text: \"\"\r\n    })\r\n  }\r\n\r\n  validation() {\r\n    var isValidate = true;\r\n    var email_pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\r\n    var name_pattern = new RegExp(/^[a-z ,.'-]+$/i);\r\n    if (this.state.name === \"\" || !name_pattern.test(this.state.name)) {\r\n      var nameMessage = \"Please enter a valid name\"\r\n      this.setState({\r\n        nameError: nameMessage,\r\n        name_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (this.state.email === \"\") {\r\n      var emailMessage = \"Please enter a valid email address\"\r\n      this.setState({\r\n        emailError: emailMessage,\r\n        email_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (!email_pattern.test(this.state.email)) {\r\n      var emailMessage = \"Please enter a valid email address\"\r\n      this.setState({\r\n        emailError: emailMessage,\r\n        email_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (this.state.address === \"\") {\r\n      var addressMessage = \"Please enter a valid address\"\r\n      this.setState({\r\n        addressError: addressMessage,\r\n        address_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    var phone_pattern = new RegExp(/^[(]{0,1}[0-9]{3}[)]{0,1}[-\\s\\.]{0,1}[0-9]{3}[-\\s\\.]{0,1}[0-9]{4}$/);\r\n    if (this.state.landlord_phone === \"\" || !phone_pattern.test(this.state.landlord_phone)) {\r\n      var phoneMessage = \"Please enter a valid phone number\"\r\n      this.setState({\r\n        phoneError: phoneMessage,\r\n        phone_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (!this.state.yesprorata && !this.state.noprorata) {\r\n      var message = \"Please choose an option\"\r\n      this.setState({\r\n        choice_errors: true,\r\n        helper_text: message\r\n      })\r\n      isValidate = false;\r\n    }\r\n    return isValidate;\r\n  }\r\n\r\n  render() {\r\n    const isYes = this.state.yes;\r\n    const isNo = this.state.no;\r\n    const isYesProrata = this.state.yesprorata;\r\n    const isNoProrata = this.state.noprorata;\r\n    var is_validate_name = this.state.name_errors;\r\n    var is_validate_address = this.state.address_errors;\r\n    var is_validate_email = this.state.email_errors;\r\n    var is_validate_phone = this.state.phone_errors;\r\n    var name_message = this.state.nameError;\r\n    var address_message = this.state.addressError;\r\n    var email_message = this.state.emailError;\r\n    var phone_message = this.state.phoneError;\r\n    var is_validate_choice = this.state.choice_errors;\r\n    var helper = this.state.helper_text;\r\n    var is_validate_rubs = this.state.rubs_errors;\r\n    var helper_rubs = this.state.rubs_helper_text;\r\n    var is_validate_percent = this.state.percent_errors;\r\n    var helper_percent = this.state.percent_helper_text;\r\n    var is_validate_meter = this.state.meter_errors;\r\n    var helper_meter = this.state.meter_helper_text;\r\n    return (\r\n      <div>\r\n        <Button color=\"primary\" onClick={this.handleClickOpen}>\r\n          Add Tenant\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Enter Tenant Information</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText></DialogContentText>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"Name\"\r\n              type=\"text\"\r\n              onChange={this.changeName}\r\n              helperText={is_validate_name ? name_message : null}\r\n              error={this.state.name_errors}\r\n              fullWidth\r\n              required\r\n            />\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              type=\"email\"\r\n              onChange={this.changeEmail}\r\n              helperText={is_validate_email ? email_message : null}\r\n              error={this.state.email_errors}\r\n              fullWidth\r\n              required\r\n            />\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"address\"\r\n              label=\"Address\"\r\n              type=\"text\"\r\n              onChange={this.changeAddress}\r\n              helperText={is_validate_address ? address_message : null}\r\n              error={this.state.address_errors}\r\n              fullWidth\r\n              required\r\n            />\r\n            <NumberFormat\r\n              customInput={TextField}\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"landlord_phone\"\r\n              label=\"Landlord Phone\"\r\n              type=\"text\"\r\n              value={this.state.landlord_phone}\r\n              onChange={this.changeLandlordPhone}\r\n              helperText={is_validate_phone ? phone_message : null}\r\n              error={this.state.phone_errors}\r\n              fullWidth\r\n              format=\"(###) ###-####\"\r\n              required\r\n            />\r\n            {/* \r\n                            After import meter_list, assign meter_list to the MeterCheckBox variable\r\n                        */}\r\n            <DialogContent />\r\n            <FormControl error={is_validate_choice}>\r\n              <FormLabel>\r\n                Is this Tenant Billed based off a Percentage (Pro-Rata) Share of Building?\r\n                <DialogContentText />\r\n                <WhatIsProRataShare />\r\n              </FormLabel>\r\n              <FormHelperText>{helper}</FormHelperText>\r\n              <FormGroup row>\r\n                <FormControlLabel control={<Checkbox checked={this.state.yesprorata} onChange={this.onChangeYesProrata} name=\"yes\" color=\"primary\" />} label=\"yes\" />\r\n                <FormControlLabel control={<Checkbox checked={this.state.noprorata} onChange={this.onChangeNoProrata} name=\"no\" color=\"primary\" />} label=\"no\" />\r\n              </FormGroup>\r\n              <DialogContent></DialogContent>\r\n              <div>\r\n                {isYesProrata ? (\r\n                  <div>\r\n                    <FormControl error={is_validate_meter}>\r\n                      <MeterCheckBox property_id={this.props.property_id} onlyOption={false} methodfromparent={this.getAssociatedMeter} />\r\n                      <FormHelperText>{helper_meter}</FormHelperText>\r\n                    </FormControl>\r\n                    {/* <TextField autoFocus margin=\"dense\" id=\"multiplier\" label=\"Is there a multiplier?\" type=\"text\" onChange={this.changeMultiplier} fullWidth />\r\n                    <WhatIsMultiplier /> */}\r\n                    <DialogContent></DialogContent>\r\n                    <FormControl error={is_validate_rubs}>\r\n                      <FormLabel>\r\n                        Do you have the percentage share of building of this tenant?\r\n                        <DialogContentText />\r\n                        <WhatIsProRataShare />\r\n                      </FormLabel>\r\n                      <FormHelperText>{helper_rubs}</FormHelperText>\r\n                      <FormGroup row>\r\n                        <FormControlLabel control={<Checkbox checked={this.state.yes} onChange={this.onChangeYes} name=\"yes\" color=\"primary\" />} label=\"yes\" />\r\n                        <FormControlLabel control={<Checkbox checked={this.state.no} onChange={this.onChangeNo} name=\"no\" color=\"primary\" />} label=\"no\" />\r\n                      </FormGroup>\r\n                      <DialogContent></DialogContent>\r\n                      <div>\r\n                        {isYes ? (\r\n                          <div>\r\n                            <NumberFormat\r\n                              customInput={TextField}\r\n                              autoFocus\r\n                              margin=\"dense\"\r\n                              id=\"rubs\"\r\n                              label=\"Enter Percentage Share of Building\"\r\n                              type=\"text\"\r\n                              fullWidth\r\n                              onChange={this.changeRUBS}\r\n                              helperText={is_validate_percent ? helper_percent : null}\r\n                              error={this.state.percent_errors}\r\n                              suffix=\"%\"\r\n                            />\r\n                          </div>\r\n                        ) : null}\r\n                        {isNo ? (\r\n                          <div>\r\n                            <div>Total buildings square footage: {this.props.total_footage}</div>\r\n                            <NumberFormat\r\n                              customInput={TextField}\r\n                              autoFocus\r\n                              margin=\"dense\"\r\n                              id=\"tenantFt\"\r\n                              label=\"Enter tenant square footage\"\r\n                              type=\"text\"\r\n                              onChange={this.changeTenantFt}\r\n                              fullWidth\r\n                              helperText={is_validate_percent ? helper_percent : null}\r\n                              error={this.state.percent_errors}\r\n                            />\r\n                            <TextField\r\n                              autoFocus\r\n                              margin=\"dense\"\r\n                              label=\"Percentage share\"\r\n                              fullWidth\r\n                              value={this.state.rubs * 100 + \"%\"}\r\n                            />\r\n                            {/* <Button onClick={this.calculate} color=\"primary\">\r\n                              Calculate\r\n                            </Button> */}\r\n                          </div>\r\n                        ) : null}\r\n                      </div>\r\n                    </FormControl>\r\n                  </div>\r\n                ) : null}\r\n                {isNoProrata ? (\r\n                  <div>\r\n\r\n                  </div>\r\n                ) : null}\r\n              </div>\r\n            </FormControl>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"primary\">\r\n              Add\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddTenant;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\n\r\nclass DeleteTenant extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n    };\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  deleteTenant() {\r\n    axios.delete(\"/tenant\", { data: { sub: this.props.sub, tenant_id: this.props.tenant_id, property_id: this.props.property_id } }).then((response) => {\r\n      this.props.generateTableData();\r\n    });\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n    this.deleteTenant();\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button color=\"secondary\" onClick={this.handleClickOpen}>\r\n          Delete\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n          <DialogTitle id=\"alert-dialog-title\">{\"Delete Tenant\"}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">Are you sure you want to delete the chosen tenant?</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Back\r\n            </Button>\r\n            <Button color=\"secondary\" onClick={this.onSubmit} autoFocus>\r\n              Delete\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeleteTenant;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\n\r\nclass DeleteSubmeters extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n    };\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.deleteSubmeter = this.deleteSubmeter.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  deleteSubmeter() {\r\n    {\r\n      axios.delete(\"/delete_submeter\", { data: { sub: this.props.sub, tenant_id: this.props.tenant_id, submeter_id: this.props.submeter_id } }).then((response) => {\r\n        this.props.generateTableData();\r\n      });\r\n    }\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n    this.deleteSubmeter();\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button color=\"secondary\" onClick={this.handleClickOpen}>\r\n          Delete\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n          <DialogTitle id=\"alert-dialog-title\">{\"Delete Submeter\"}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">Are you sure you want to delete this submeter?</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Back\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"secondary\" autoFocus>\r\n              Delete\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeleteSubmeters;\r\n","import React from \"react\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Radio from \"@material-ui/core/Radio\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\r\nimport axios from \"axios\";\r\n{\r\n  /* meter_1 and meter_2 are temporary hardcode variables used for demostration \r\n    onlyOption specifies whether checkbox allows multiple selection or single selection\r\n    true=single selection, false=multiple selection\r\n*/\r\n}\r\nclass BillTimeCheckBox extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      from_date: \"\",\r\n      to_date: \"\",\r\n      submeter_id: \"\",\r\n      bill_id: \"\",\r\n      unit_charge: \"\",\r\n      bill_list: [],\r\n      meter_id: this.props.meter_id,\r\n      onlyOption: true,\r\n    };\r\n    this.onChangeOnlyOption = this.onChangeOnlyOption.bind(this);\r\n    this.getBillList = this.getBillList.bind(this);\r\n    this.set_timeperiod = this.set_timeperiod.bind(this);\r\n  }\r\n\r\n  getBillList() {\r\n    //use meter_id to find all meter bills\r\n    console.log(this.state.meter_id);\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/meterbill_list/${this.state.meter_id}`).then((response) => {\r\n        console.log(\"response from database: \", response.data);\r\n        this.setState({ bill_list: response.data }, () => {\r\n          console.log(\"bill list\", this.state.bill_list);\r\n          resolve();\r\n        });\r\n      });\r\n      //  console.log(\"bill list:\", this.state.bill_list);\r\n    });\r\n  }\r\n\r\n  set_timeperiod(bill_id) {\r\n    for (var i = 0; i < this.state.bill_list.length; i++) {\r\n      if (this.state.bill_list[i].bill_id == bill_id) {\r\n        console.log(\"the match bill_id: \", bill_id);\r\n        this.setState({\r\n          unit_charge: this.state.bill_list[i].unit_charge,\r\n          from_date: this.state.bill_list[i].from_date,\r\n          to_date: this.state.bill_list[i].to_date,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.generateTable();\r\n  }\r\n\r\n  onChangeOnlyOption(event) {\r\n    {\r\n      /* this part should also return the chosen bill id */\r\n    }\r\n    console.log(\"checkbox bill_id: \", event.target.value);\r\n    this.set_timeperiod(event.target.value);\r\n    this.setState({ bill_id: event.target.value }, function () {\r\n      this.props.changeBillId(this.state.bill_id);\r\n      this.props.changeFromDate(this.state.from_date);\r\n      this.props.changeTodate(this.state.to_date);\r\n      this.props.changeUnitCharge(this.state.unit_charge);\r\n    });\r\n  }\r\n\r\n  generateTable() {\r\n    var res = [];\r\n    console.log(this.state.bill_list);\r\n    this.getBillList().then(() => {\r\n      var tableData = this.state.bill_list;\r\n      console.log(tableData.length);\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        console.log(\"from date\", tableData[i].from_date);\r\n        res.push(\r\n          <FormControlLabel\r\n            key={String(tableData[i].bill_id)}\r\n            // name={Number(tableData[i].bill_id)}\r\n            value={String(tableData[i].bill_id)}\r\n            control={<Radio />}\r\n            label={String(tableData[i].from_date.split(\"T\")[0] + \" to \" + tableData[i].to_date.split(\"T\")[0])}\r\n          />\r\n        );\r\n      }\r\n      this.res = res;\r\n      console.log(this.res);\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.onlyOption ? (\r\n          <div>\r\n            <FormControl>\r\n              <FormLabel>Which time period this submeter bill assign to?</FormLabel>\r\n              <RadioGroup aria-label=\"bill_id\" onChange={this.onChangeOnlyOption}>\r\n                {this.res}\r\n              </RadioGroup>\r\n            </FormControl>\r\n          </div>\r\n        ) : (\r\n          <div>{/* <FormControl>\r\n              <FormLabel>Which meter number is associated with this tenant?</FormLabel>\r\n              {this.res}\r\n            </FormControl> */}</div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BillTimeCheckBox;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nclass EditSubmeters extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      tenant_id: this.props.tenant_id,\r\n      submeter_list: [],\r\n      submeter_id: this.props.submeter_id,\r\n      meter_id: this.props.meter_id,\r\n      submeter_error: false,\r\n      error_message: \"\"\r\n    };\r\n\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.changeSubmeter = this.changeSubmeter.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n  componentDidUpdate() {\r\n    if (this.props.tenant_id !== this.state.tenant_id) {\r\n      this.setState({\r\n        tenant_id: this.props.tenant_id,\r\n        submeter_list: [],\r\n        submeter_id: this.props.submeter_id,\r\n        meter_id: this.props.meter_id,\r\n      });\r\n    }\r\n  }\r\n  updateSubmeter(tenant_id, submeter) {\r\n    {\r\n      //TODO\r\n      /*axios.patch('/tenant', {sub: this.props.sub, tenant_id: tenant_id, tenant_info: tenant_info}).then(response => {\r\n            this.props.generateTableData();\r\n        })*/\r\n    }\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  changeSubmeter(event) {\r\n    this.setState({\r\n      submeter_id: event.target.value,\r\n      submeter_error: false,\r\n      error_message: \"\"\r\n    });\r\n  }\r\n\r\n  onSubmit(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      open: false,\r\n    });\r\n    this.updateSubmeter(this.state.tenant_id, this.state.submeter_id);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button onClick={this.handleClickOpen} color=\"primary\">\r\n          Edit\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Enter Submeter</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText></DialogContentText>\r\n            <TextField autoFocus margin=\"dense\" id=\"submeter\" label=\"Submeter\" type=\"text\" value={this.state.submeter_id} onChange={this.changeSubmeter} fullWidth />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"primary\">\r\n              Update\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditSubmeters;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\nimport BillTimeCheckBox from \"../../BillTimeCheckBox\";\r\nclass SubmeterBill extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      submeter_bill_id: \"\",\r\n      bill_id: \"\",\r\n      submeter_id: this.props.submeter_id,\r\n      prior_read: \"\",\r\n      current_read: \"\",\r\n      from_date: \"\",\r\n      to_date: \"\",\r\n      amt_due: \"\",\r\n      meter_id: this.props.meter_id,\r\n      multiplier: this.props.multiplier,\r\n      unit_charge: \"\",\r\n    };\r\n\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.changePriorRead = this.changePriorRead.bind(this);\r\n    this.changeCurrentRead = this.changeCurrentRead.bind(this);\r\n    this.changeAmountDue = this.changeAmountDue.bind(this);\r\n    this.calculate = this.calculate.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.changeBillId = this.changeBillId.bind(this);\r\n    this.changeFromDate = this.changeFromDate.bind(this);\r\n    this.changeTodate = this.changeTodate.bind(this);\r\n    this.changeUnitCharge = this.changeUnitCharge.bind(this);\r\n  }\r\n\r\n  submit_submeterbill(submeter_bill_info) {\r\n    axios.post(\"/submeter_bill\", { sub: this.props.sub, submeter_bill_info: submeter_bill_info }).then((response) => {});\r\n  }\r\n\r\n  changeBillId(bill_id) {\r\n    this.setState({\r\n      bill_id: bill_id,\r\n    });\r\n  }\r\n  changeUnitCharge(unit_charge) {\r\n    this.setState({\r\n      unit_charge: Number(unit_charge),\r\n    });\r\n  }\r\n  changeFromDate(date) {\r\n    this.setState({\r\n      from_date: date,\r\n    });\r\n  }\r\n  changeTodate(date) {\r\n    this.setState({\r\n      to_date: date,\r\n    });\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  changePriorRead(event) {\r\n    this.setState({\r\n      prior_read: Number(event.target.value),\r\n    });\r\n  }\r\n\r\n  changeCurrentRead(event) {\r\n    this.setState({\r\n      current_read: Number(event.target.value),\r\n    });\r\n  }\r\n\r\n  changeAmountDue(event) {\r\n    this.setState({\r\n      amt_due: event.target.value,\r\n    });\r\n  }\r\n\r\n  calculate() {\r\n    console.log(\"unit charge: \", this.state.unit_charge);\r\n    var tmp_s_kwh_usage = this.state.current_read - this.state.prior_read;\r\n    console.log(\"kwh usage: \", tmp_s_kwh_usage);\r\n    var tmp_amt_with_multiplier = tmp_s_kwh_usage * Number(this.state.multiplier);\r\n    console.log(\"kwh usage with multiplier: \", tmp_amt_with_multiplier);\r\n    console.log(\"multiplier: \", this.state.multiplier);\r\n\r\n    var xbill_id = this.state.bill_id;\r\n    var xsubmeter_id = this.state.submeter_id;\r\n    var xprior_read = this.state.prior_read;\r\n    var xcur_read = this.state.current_read;\r\n    var xfrom_date = this.state.from_date;\r\n    var xto_date = this.state.to_date;\r\n    var xs_kwh_usage = tmp_s_kwh_usage;\r\n    var xamt_with_multiplier = tmp_amt_with_multiplier;\r\n    var xamt_due = tmp_amt_with_multiplier * Number(this.state.unit_charge);\r\n\r\n    this.setState({\r\n      amt_due: xamt_due,\r\n    });\r\n  }\r\n\r\n  onSubmit(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      open: false,\r\n    });\r\n    console.log(\"unit charge: \", this.state.unit_charge);\r\n    var tmp_s_kwh_usage = this.state.current_read - this.state.prior_read;\r\n    console.log(\"kwh usage: \", tmp_s_kwh_usage);\r\n    var tmp_amt_with_multiplier = tmp_s_kwh_usage * Number(this.state.multiplier);\r\n    console.log(\"kwh usage with multiplier: \", tmp_amt_with_multiplier);\r\n    console.log(\"multiplier: \", this.state.multiplier);\r\n    var submeter_bill_info = {\r\n      bill_id: this.state.bill_id,\r\n      submeter_id: this.state.submeter_id,\r\n      prior_read: this.state.prior_read,\r\n      cur_read: this.state.current_read,\r\n      from_date: this.state.from_date,\r\n      to_date: this.state.to_date,\r\n      s_kwh_usage: tmp_s_kwh_usage,\r\n      amt_with_multiplier: tmp_amt_with_multiplier,\r\n      amt_due: tmp_amt_with_multiplier * Number(this.state.unit_charge),\r\n    };\r\n    // let bill_id = submeter_bill_info.bill_id;\r\n    // let submeter_id = submeter_bill_info.submeter_id;\r\n    // let prior_read = submeter_bill_info.prior_read;\r\n    // let cur_read = submeter_bill_info.cur_read;\r\n    // let from_date = submeter_bill_info.from_date;\r\n    // let to_date = submeter_bill_info.to_date;\r\n    // let cur_amt = submeter_bill_info.s_kwh_usage;\r\n    // let amt_with_multiplier = submeter_bill_info.amt_with_multiplier;\r\n    // let amt_due = submeter_bill_info.amt_due;\r\n    {\r\n      /* submit_submeterbill not so sure about parameter */\r\n    }\r\n    this.submit_submeterbill(submeter_bill_info);\r\n    console.log(submeter_bill_info);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button onClick={this.handleClickOpen} color=\"primary\">\r\n          Create Submeter Bill\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Input submeter bill manually</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText></DialogContentText>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"submeter\"\r\n              label=\"Submeter\"\r\n              type=\"text\"\r\n              //value will be current submeter value\r\n              value={this.props.submeter_id}\r\n              fullWidth\r\n            />\r\n            <DialogContent></DialogContent>\r\n            {console.log(\"submeter bill: meter id\", this.state.meter_id)}\r\n            <BillTimeCheckBox\r\n              meter_id={this.state.meter_id}\r\n              changeBillId={this.changeBillId.bind(this)}\r\n              changeFromDate={this.changeFromDate.bind(this)}\r\n              changeTodate={this.changeTodate.bind(this)}\r\n              changeUnitCharge={this.changeUnitCharge.bind(this)}\r\n              onlyOption={true}\r\n            />\r\n            <TextField autoFocus margin=\"dense\" id=\"prior_read\" label=\"Prior read\" type=\"number\" onChange={this.changePriorRead} fullWidth />\r\n            <TextField autoFocus margin=\"dense\" id=\"current_read\" label=\"Current read\" type=\"number\" onChange={this.changeCurrentRead} fullWidth />\r\n            <TextField autoFocus margin=\"dense\" id=\"amt_due\" label=\"Amount due\" type=\"number\" onChange={this.changeAmountDue} value={this.state.amt_due} fullWidth />\r\n            <Button color=\"primary\" onClick={this.calculate}>\r\n              Calculate\r\n            </Button>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"primary\">\r\n              Upload\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default SubmeterBill;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport DeleteSubmeters from \"./DeleteSubmeters\";\r\nimport EditSubmeters from \"./EditSubmeters\";\r\nimport SubmeterBill from \"./SubmeterBill\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\nimport MeterCheckBox from \"./../../MeterCheckbox\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Component } from \"react\";\r\nimport { FormControl, FormHelperText } from \"@material-ui/core\";\r\n\r\nclass Submeters extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      tenant_id: this.props.tenant_id,\r\n      submeter_list: [],\r\n      submeter: \"\",\r\n      multiplier_list: [],\r\n      multiplier: \"\",\r\n      meter_id: this.props.meter_id,\r\n      meter_list: [],\r\n      meter: \"\",\r\n      submeter_error: false,\r\n      error_message: \"\"\r\n    };\r\n\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.getSubmeterList = this.getSubmeterList.bind(this);\r\n    this.changeSubmeter = this.changeSubmeter.bind(this);\r\n    this.changeMultiplier = this.changeMultiplier.bind(this);\r\n    this.addSubmeter = this.addSubmeter.bind(this);\r\n    this.onAdd = this.onAdd.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.generateTableData = this.generateTableData.bind(this);\r\n    this.getAssociatedMeter = this.getAssociatedMeter.bind(this);\r\n    this.validate = this.validate.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.tenant_id !== this.state.tenant_id) {\r\n      this.setState({\r\n        tenant_id: this.props.tenant_id,\r\n        submeter_list: [],\r\n        submeter: \"\",\r\n        multiplier_list: [],\r\n        multiplier: \"\",\r\n        meter_id: this.props.meter_id,\r\n        meter_list: [],\r\n        meter: \"\",\r\n        submeter_error: false,\r\n        error_message: \"\",\r\n        meter_error: false,\r\n        helper_text: \"\",\r\n      });\r\n    }\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n    this.generateTableData();\r\n  }\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n      submeter: \"\",\r\n      submeter_error: false,\r\n      error_message: \"\",\r\n      meter_error: false,\r\n      helper_text: \"\",\r\n      meter_id: \"\",\r\n    });\r\n  }\r\n\r\n  getSubmeterList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/submeter/${this.state.tenant_id}/${this.props.sub}`).then((response) => {\r\n        this.setState({ submeter_list: response.data });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  changeSubmeter(event) {\r\n    this.setState({\r\n      submeter: event.target.value,\r\n      submeter_error: false,\r\n      error_message: \"\"\r\n    });\r\n  }\r\n\r\n  changeMultiplier(event) {\r\n    this.setState({\r\n      multiplier: event.target.value,\r\n    });\r\n  }\r\n\r\n  addSubmeter() {\r\n    axios.post(\"/add_submeter\", { submeter_id: this.state.submeter, tenant_id: this.state.tenant_id, meter_id: this.state.meter_id, multiplier: this.state.multiplier }).then((response) => {\r\n      this.generateTableData();\r\n    });\r\n    this.setState({\r\n      submeter_error: false,\r\n      error_message: \"\",\r\n      meter_error: false,\r\n      helper_text: \"\",\r\n    })\r\n  }\r\n\r\n  onAdd(event) {\r\n    {\r\n      /* this function add submeter into submeterlist and multiplier list associated with one tenant \r\n            as well as connect to a meter in database\r\n        */\r\n    }\r\n    this.setState({\r\n      meter_error: false,\r\n      helper_text: \"\",\r\n    })\r\n    console.log(this.state.meter_id)\r\n    event.preventDefault();\r\n    if (this.validate()) {\r\n      this.addSubmeter();\r\n      this.setState({\r\n        submeter_error: false,\r\n        error_message: \"\",\r\n        meter_error: false,\r\n        helper_text: \"\",\r\n      })\r\n    }\r\n  }\r\n\r\n  onSubmit(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  validate() {\r\n    var isValidate = true;\r\n    var message = \"\";\r\n    if (this.state.submeter === \"\") {\r\n      message = \"Please enter valid submeter number\"\r\n      this.setState({\r\n        error_message: message,\r\n        submeter_error: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    this.getSubmeterList().then(() => {\r\n      for (var i = 0; i < this.state.submeter_list.length; i++) {\r\n        if (this.state.submeter === this.state.submeter_list[i].submeter_id) {\r\n          message = \"Submeter already exists\"\r\n          this.setState({\r\n            error_message: message,\r\n            submeter_error: true\r\n          })\r\n          isValidate = false;\r\n          break;\r\n        }\r\n      }\r\n    });\r\n    if (!this.state.meter_id) {\r\n      this.setState({\r\n        meter_error: true,\r\n        helper_text: \"Please select associated meter number\"\r\n      })\r\n      isValidate = false;\r\n    }\r\n    return isValidate;\r\n  }\r\n\r\n  getAssociatedMeter(meters) {\r\n    this.setState({ meter_id: meters });\r\n  }\r\n\r\n  generateTableData() {\r\n    this.getSubmeterList().then(() => {\r\n      this.res = [];\r\n      let tableData = this.state.submeter_list;\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        this.res.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell>{tableData[i].submeter_id}</TableCell>\r\n            <TableCell>{tableData[i].multiplier}</TableCell>\r\n            <TableCell>{tableData[i].meter_id}</TableCell>\r\n            {/* <TableCell>\r\n              <EditSubmeters\r\n                sub={this.props.sub}\r\n                tenant_id={tableData[i].tenant_id}\r\n                meter={tableData[i].meter_id}\r\n                submeter_id={tableData[i].submeter_id}\r\n                property_id={this.props.property_id}\r\n                generateTableData={this.generateTableData}\r\n              />\r\n            </TableCell> */}\r\n            <TableCell>\r\n              <DeleteSubmeters sub={this.props.sub} tenant_id={tableData[i].tenant_id} submeter_id={tableData[i].submeter_id} generateTableData={this.generateTableData} />\r\n            </TableCell>\r\n            <TableCell>\r\n              <SubmeterBill sub={this.props.sub} meter_id={tableData[i].meter_id} submeter_id={tableData[i].submeter_id} multiplier={tableData[i].multiplier} />\r\n            </TableCell>\r\n          </TableRow>\r\n        );\r\n      }\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    var errors = this.state.submeter_error;\r\n    var message = this.state.error_message;\r\n    var meter_errors = this.state.meter_error;\r\n    var helper = this.state.helper_text;\r\n    return (\r\n      <div>\r\n        <Button color=\"primary\" onClick={this.handleClickOpen}>\r\n          Submeters\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Manage Submeters</DialogTitle>\r\n          <TableContainer component={Paper}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Submeters</TableCell>\r\n                  <TableCell>Multiplier</TableCell>\r\n                  <TableCell>Associated Meter</TableCell>\r\n                  <TableCell />\r\n                  <TableCell />\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>{this.res}</TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n          <DialogContent>\r\n            <DialogContentText></DialogContentText>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"submeter\"\r\n              label=\"Enter new submeter\"\r\n              type=\"text\"\r\n              onChange={this.changeSubmeter}\r\n              helperText={errors ? message : null}\r\n              error={this.state.submeter_error}\r\n              fullWidth />\r\n            <TextField autoFocus margin=\"dense\" id=\"multiplier\" label=\"Enter associated multiplier if has one\" type=\"text\" onChange={this.changeMultiplier} fullWidth />\r\n            <DialogContent></DialogContent>\r\n            <FormControl error={meter_errors}>\r\n              <MeterCheckBox const methodfromparent={this.getAssociatedMeter} property_id={this.props.property_id} onlyOption={true} />\r\n              <FormHelperText>{helper}</FormHelperText>\r\n            </FormControl>\r\n            <DialogContentText />\r\n            <Button onClick={this.onAdd} color=\"primary\">\r\n              Add\r\n            </Button>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Submeters;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\n\r\nclass DeleteMeters extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n    };\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  deleteMeter() {\r\n    axios.delete(\"/meter\", { data: { sub: this.props.sub, meter_id: this.props.meter_id, property_id: this.props.property_id } }).then((response) => {\r\n      this.props.generateMeter();\r\n    });\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n    this.deleteMeter();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button color=\"secondary\" onClick={this.handleClickOpen}>\r\n          Delete\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n          <DialogTitle id=\"alert-dialog-title\">{\"Delete Meter\"}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">Are you sure you want to delete this meter?</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Back\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"secondary\" autoFocus>\r\n              Delete\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DeleteMeters;\r\n","import \"date-fns\";\r\nimport React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nclass DatePicker extends React.Component {\r\n  // The first commit of Material-UI\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      from_date: \"\",\r\n      to_date: \"\",\r\n    };\r\n    this.handleFromDateChange = this.handleFromDateChange.bind(this);\r\n    this.handleToDateChange = this.handleToDateChange.bind(this);\r\n  }\r\n\r\n  handleFromDateChange(event) {\r\n    this.setState({\r\n      from_date: event.target.value,\r\n    }, function (){\r\n      this.props.from_date(this.state.from_date);\r\n    });\r\n  }\r\n\r\n  handleToDateChange(event) {\r\n    this.setState({\r\n      to_date: event.target.value,\r\n    }, function (){\r\n      this.props.to_date(this.state.to_date);\r\n    });\r\n    console.log(event.target.value);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form noValidate>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <TextField\r\n                  id=\"from_date\"\r\n                  label=\"From\"\r\n                  type=\"date\"\r\n                  defaultValue={this.state.from_date}\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                  onChange={this.handleFromDateChange}\r\n                />\r\n              </td>\r\n              <td></td>\r\n              <td></td>\r\n              <td></td>\r\n              <td></td>\r\n              <td></td>\r\n              <td>\r\n                <TextField\r\n                  id=\"to_date\"\r\n                  label=\"To\"\r\n                  type=\"date\"\r\n                  defaultValue={this.state.to_date}\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                  onChange={this.handleToDateChange}\r\n                />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DatePicker;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport DatePicker from \"./../../DatePicker.js\";\r\n\r\nclass MeterBillPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n\r\n      checked: false /*for check box status*/,\r\n      setCheck: false /*for check box status*/,\r\n\r\n      meter_id: this.props.meter_id,\r\n      begin: \"\",\r\n      end: \"\",\r\n      m_kwh_usage: 0,\r\n      m_charge: 0,\r\n      /*second bill info */\r\n      s_kwh_usage: 0,\r\n      s_charge: 0,\r\n    };\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.changeMeter = this.changeMeter.bind(this);\r\n    this.changeBegin = this.changeBegin.bind(this);\r\n    this.changeEnd = this.changeEnd.bind(this);\r\n    this.changeKWH = this.changeKWH.bind(this);\r\n    // this.changeAmount = this.changeAmount.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.changeBill = this.changeBill.bind(this);\r\n    /*second bill handlers */\r\n    this.change_sec_KWH = this.change_sec_KWH.bind(this);\r\n    this.change_sec_bill_amount = this.change_sec_bill_amount.bind(this);\r\n\r\n    /*handle check box change event*/\r\n    this.changeCheckBox = this.changeCheckBox.bind(this);\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n  changeBill(event) {\r\n    this.setState({\r\n      m_charge: Number(event.target.value),\r\n    });\r\n  }\r\n  changeMeter(event) {\r\n    this.setState({\r\n      meter_id: event.target.value,\r\n    });\r\n  }\r\n\r\n  changeBegin(time) {\r\n    this.setState({\r\n      begin: time,\r\n    });\r\n    console.log(this.begin);\r\n  }\r\n\r\n  changeEnd(time) {\r\n    this.setState({\r\n      end: time,\r\n    });\r\n  }\r\n\r\n  changeKWH(event) {\r\n    this.setState({\r\n      m_kwh_usage: Number(event.target.value),\r\n    });\r\n  }\r\n\r\n  // changeAmount(event) {\r\n  //   this.setState({\r\n  //     m_charge: event.target.value,\r\n  //   });\r\n  // }\r\n\r\n  change_sec_KWH(event) {\r\n    this.setState({\r\n      s_kwh_usage: Number(event.target.value),\r\n    });\r\n  }\r\n\r\n  change_sec_bill_amount(event) {\r\n    this.setState({\r\n      s_charge: Number(event.target.value),\r\n    });\r\n  }\r\n\r\n  changeCheckBox(event) {\r\n    this.setState({\r\n      setCheck: event.target.checked,\r\n    });\r\n  }\r\n\r\n  submitBill(bill_info) {\r\n    axios.post(\"/bill\", { sub: this.props.sub, bill_info: bill_info }).then((response) => {\r\n      //this.props.info.generateTableBill();\r\n    });\r\n\r\n    /* the bill should be saved in somewhere of database */\r\n  }\r\n\r\n  onSubmit(event) {\r\n    event.preventDefault();\r\n    this.setState({\r\n      open: false,\r\n    });\r\n    var tmp_m_kwh_usage = this.state.m_kwh_usage;\r\n    var tmp_s_kwh_usage = this.state.s_kwh_usage;\r\n    var tmp_total_kwh_usage = tmp_m_kwh_usage + tmp_s_kwh_usage;\r\n    var tmp_total_charge = this.state.m_charge + this.state.s_charge;\r\n    var tmp_unit_charge = tmp_total_charge / tmp_total_kwh_usage;\r\n\r\n    var bill_info = {\r\n      account_id: \"60c5c41d-b8b2-40d5-925b-0f482f112f13\", //leave account id as test account\r\n      meter_id: this.state.meter_id,\r\n      from_date: this.state.begin,\r\n      to_date: this.state.end,\r\n      m_kwh_usage: this.state.m_kwh_usage,\r\n      m_charge: this.state.m_charge,\r\n      //second bill info\r\n      s_kwh_usage: this.state.s_kwh_usage,\r\n      s_charge: this.state.s_charge,\r\n\r\n      //total kwh usage, charge, unit charge\r\n      total_kwh_usage: tmp_total_kwh_usage,\r\n      total_charge: tmp_total_charge,\r\n      unit_charge: tmp_unit_charge,\r\n    };\r\n\r\n    this.submitBill(bill_info);\r\n    console.log(bill_info);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button onClick={this.handleClickOpen} color=\"primary\">\r\n          Manually Input The Bill\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Enter Billing Info</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText></DialogContentText>\r\n\r\n            <TextField autoFocus margin=\"dense\" id=\"meter_code\" label={\"meter# \" + this.state.meter_id} type=\"text\" disabled fullWidth />\r\n            <DatePicker from_date={this.changeBegin.bind(this)} to_date={this.changeEnd.bind(this)} />\r\n            <TextField autoFocus margin=\"dense\" id=\"kwh_rate\" label=\"KWH\" type=\"number\" onChange={this.changeKWH} fullWidth />\r\n            <TextField autoFocus margin=\"dense\" id=\"m_charge\" label=\"bill $\" type=\"number\" onChange={this.changeBill} fullWidth />\r\n\r\n            <FormControlLabel\r\n              control={<Checkbox checked={this.state.setCheck} onChange={this.changeCheckBox} inputProps={{ \"aria-label\": \"primary checkbox\" }} />}\r\n              label=\"Add third party energy supply billing information\"\r\n            />\r\n            <TextField autoFocus margin=\"dense\" id=\"kwh_rate\" label=\"KWH\" type=\"number\" disabled={!this.state.setCheck} onChange={this.change_sec_KWH} fullWidth />\r\n            <TextField autoFocus margin=\"dense\" id=\"2nd_bill_amount\" label=\"2nd_bill $\" type=\"number\" disabled={!this.state.setCheck} onChange={this.change_sec_bill_amount} fullWidth />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"secondary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"primary\">\r\n              Upload\r\n            </Button>\r\n            {/* <Button onClick={this.onSubmit} color=\"primary\">\r\n              Fetch Bill by API\r\n            </Button> */}\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default MeterBillPage;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport DeleteMeters from \"./DeleteMeters\";\r\nimport MeterBillPage from \"./MeterBillPage\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nclass Meters extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      meter_list: [],\r\n      meter_to_add: \"\",\r\n      meter_errors: false,\r\n      error_message: \"\"\r\n    };\r\n\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.getMeterList = this.getMeterList.bind(this);\r\n    this.changeMeterToAdd = this.changeMeterToAdd.bind(this);\r\n    this.generateMeter = this.generateMeter.bind(this);\r\n    this.validate = this.validate.bind(this);\r\n    this.addMeter = this.addMeter.bind(this);\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n    this.generateMeter();\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n      meter_to_add: \"\",\r\n      meter_errors: false,\r\n      error_message: \"\"\r\n    });\r\n  }\r\n\r\n  getMeterList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/meter/${this.props.property_id}/${this.props.sub}`).then((response) => {\r\n        this.setState({ meter_list: response.data });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  changeMeterToAdd(event) {\r\n    this.setState({\r\n      meter_to_add: parseInt(event.target.value),\r\n      meter_errors: false,\r\n      error_message: \"\"\r\n    });\r\n  }\r\n\r\n  generateMeter() {\r\n    this.getMeterList().then(() => {\r\n      this.res = [];\r\n      for (var i = 0; i < this.state.meter_list.length; i++) {\r\n        this.res.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell key={this.state.meter_list[i].meter_id}>{this.state.meter_list[i].meter_id}</TableCell>\r\n            <TableCell>\r\n              <DeleteMeters sub={this.props.sub} meter_id={this.state.meter_list[i].meter_id} property_id={this.props.property_id} generateMeter={this.generateMeter} />\r\n            </TableCell>\r\n            <TableCell>\r\n              <MeterBillPage sub={this.props.sub} meter_id={this.state.meter_list[i].meter_id} />\r\n            </TableCell>\r\n          </TableRow>\r\n        );\r\n      }\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  validate() {\r\n    var isValidate = true;\r\n    var message = \"\";\r\n    if (this.state.meter_to_add === \"\" || !this.state.meter_to_add || this.state.meter_to_add < 0) {\r\n      message = \"Please enter valid meter number\"\r\n      this.setState({\r\n        error_message: message,\r\n        meter_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    this.getMeterList().then(() => {\r\n      for (var i = 0; i < this.state.meter_list.length; i++) {\r\n        if (this.state.meter_to_add === parseInt(this.state.meter_list[i].meter_id)) {\r\n          message = \"Meter already exists\"\r\n          this.setState({\r\n            error_message: message,\r\n            meter_errors: true\r\n          })\r\n          isValidate = false;\r\n          break;\r\n        }\r\n      }\r\n    });\r\n    return isValidate;\r\n  }\r\n\r\n  addMeter() {\r\n    if (this.validate()) {\r\n      axios.post(\"/meter\", { sub: this.props.sub, property_id: this.props.property_id, meter_id: this.state.meter_to_add }).then((response) => {\r\n        this.generateMeter();\r\n      });\r\n      this.setState({\r\n        meter_errors: false,\r\n        error_message: \"\"\r\n      })\r\n    }\r\n  }\r\n  render() {\r\n    var errors = this.state.meter_errors;\r\n    var message = this.state.error_message;\r\n    return (\r\n      <div>\r\n        <Button color=\"primary\" onClick={this.handleClickOpen}>\r\n          Manage Meters\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Manage Meters</DialogTitle>\r\n          <TableContainer component={Paper}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Meters</TableCell>\r\n                  <TableCell />\r\n                  <TableCell />\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>{this.res}</TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n          <DialogContent>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"meter\"\r\n              label=\"Meter\"\r\n              type=\"text\"\r\n              onChange={this.changeMeterToAdd}\r\n              helperText={errors ? message : null}\r\n              error={this.state.meter_errors}\r\n              fullWidth\r\n            />\r\n            <Button onClick={this.addMeter} color=\"primary\">\r\n              Add\r\n            </Button>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Back\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Meters;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport DeleteMeters from \"./DeleteMeters\";\r\nimport MeterBillPage from \"./MeterBillPage\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nclass MeterTable extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            meter_list: [],\r\n            meter_to_add: \"\",\r\n            meter_errors: false,\r\n            error_message: \"\",\r\n            property_id: this.props.property_id,\r\n            sub: this.props.sub,\r\n        };\r\n\r\n        this.handleClickOpen = this.handleClickOpen.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.getMeterList = this.getMeterList.bind(this);\r\n        this.changeMeterToAdd = this.changeMeterToAdd.bind(this);\r\n        this.generateMeter = this.generateMeter.bind(this);\r\n        this.validate = this.validate.bind(this);\r\n        this.addMeter = this.addMeter.bind(this);\r\n        this.generateMeter();\r\n    }\r\n\r\n    handleClickOpen() {\r\n        this.setState({\r\n            open: true,\r\n        });\r\n        this.generateMeter();\r\n    }\r\n\r\n    handleClose() {\r\n        this.setState({\r\n            open: false,\r\n            meter_to_add: \"\",\r\n            meter_errors: false,\r\n            error_message: \"\"\r\n        });\r\n    }\r\n\r\n    getMeterList() {\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(`/meter/${this.props.property_id}/${this.props.sub}`).then((response) => {\r\n                this.setState({ meter_list: response.data });\r\n                resolve();\r\n            });\r\n        });\r\n    }\r\n\r\n    changeMeterToAdd(event) {\r\n        this.setState({\r\n            meter_to_add: parseInt(event.target.value),\r\n            meter_errors: false,\r\n            error_message: \"\"\r\n        });\r\n    }\r\n\r\n    generateMeter() {\r\n        this.getMeterList().then(() => {\r\n            this.res = [];\r\n            for (var i = 0; i < this.state.meter_list.length; i++) {\r\n                this.res.push(\r\n                    <TableRow key={i} id={i}>\r\n                        <TableCell key={this.state.meter_list[i].meter_id}>{this.state.meter_list[i].meter_id}</TableCell>\r\n                        <TableCell />\r\n                        <TableCell />\r\n                        <TableCell />\r\n                        <TableCell />\r\n                        <TableCell />\r\n                        <TableCell />\r\n                        <TableCell>\r\n                            <DeleteMeters sub={this.props.sub} meter_id={this.state.meter_list[i].meter_id} property_id={this.props.property_id} generateMeter={this.generateMeter} />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                            <MeterBillPage sub={this.props.sub} meter_id={this.state.meter_list[i].meter_id} />\r\n                        </TableCell>\r\n                    </TableRow>\r\n                );\r\n            }\r\n            this.forceUpdate();\r\n        });\r\n    }\r\n\r\n    validate() {\r\n        var isValidate = true;\r\n        var message = \"\";\r\n        if (this.state.meter_to_add === \"\" || !this.state.meter_to_add || this.state.meter_to_add < 0) {\r\n            message = \"Please enter valid meter number\"\r\n            this.setState({\r\n                error_message: message,\r\n                meter_errors: true\r\n            })\r\n            isValidate = false;\r\n        }\r\n        this.getMeterList().then(() => {\r\n            for (var i = 0; i < this.state.meter_list.length; i++) {\r\n                if (this.state.meter_to_add === parseInt(this.state.meter_list[i].meter_id)) {\r\n                    message = \"Meter already exists\"\r\n                    this.setState({\r\n                        error_message: message,\r\n                        meter_errors: true\r\n                    })\r\n                    isValidate = false;\r\n                    break;\r\n                }\r\n            }\r\n        });\r\n        return isValidate;\r\n    }\r\n\r\n    addMeter() {\r\n        if (this.validate()) {\r\n            axios.post(\"/meter\", { sub: this.props.sub, property_id: this.props.property_id, meter_id: this.state.meter_to_add }).then((response) => {\r\n                this.generateMeter();\r\n            });\r\n            this.setState({\r\n                meter_errors: false,\r\n                error_message: \"\"\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <TableContainer style={{ maxHeight: 300 }} component={Paper}>\r\n                    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n                        Meter List\r\n                    </Typography>\r\n                    <Table stickyHeader>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>Meters</TableCell>\r\n                                <TableCell />\r\n                                <TableCell />\r\n                                <TableCell />\r\n                                <TableCell />\r\n                                <TableCell />\r\n                                <TableCell />\r\n                                <TableCell />\r\n                                <TableCell />\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        <TableBody>{this.res}</TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MeterTable;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport axios from \"axios\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport Box from \"@material-ui/core/Box\";\r\n\r\nclass CollapseSubmeter extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: this.props.name,\r\n      tenant_id: this.props.tenant_id,\r\n      email: this.props.email,\r\n      address: this.props.address,\r\n      phone_number: this.props.phone_number,\r\n      submeter_list: [],\r\n      submeter: \"\",\r\n      multiplier_list: [],\r\n      multiplier: \"\",\r\n      property_id: this.props.property_id,\r\n      meter_id: this.props.meter_id,\r\n      meter_list: [],\r\n      meter: \"\",\r\n    };\r\n    this.getSubmeterList = this.getSubmeterList.bind(this);\r\n    this.generateTable();\r\n  }\r\n\r\n  getSubmeterList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/submeter/${this.state.tenant_id}`).then((response) => {\r\n        this.setState({ submeter_list: response.data });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  generateTable() {\r\n    //call updateTable everytime when we need to generate a list of submeter and multiplier\r\n    // see hardcode below in render() function\r\n    var res = [];\r\n    this.getSubmeterList().then(() => {\r\n      let tableData = this.state.submeter_list;\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        res.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell>{tableData[i].submeter_id}</TableCell>\r\n          </TableRow>\r\n        );\r\n      }\r\n      this.res = res;\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <CollapseRow res={this.res} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst useRowStyles = makeStyles({\r\n  root: {\r\n    \"& > *\": {\r\n      borderBottom: \"unset\",\r\n    },\r\n  },\r\n});\r\n\r\nfunction CollapseRow(props) {\r\n  const { row } = props;\r\n  const [open, setOpen] = React.useState(false);\r\n  const classes = useRowStyles();\r\n  const res = props.res;\r\n  return (\r\n    <React.Fragment>\r\n      <TableRow className={classes.root}>\r\n        <TableCell>\r\n          <IconButton aria-label=\"expand row\" size=\"big\" onClick={() => setOpen(!open)}>\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n      <TableRow>\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <Box margin={1}>\r\n              <Table size=\"small\" aria-label=\"submeter\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Submeter</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>{res}</TableBody>\r\n              </Table>\r\n            </Box>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default CollapseSubmeter;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\r\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport axios from \"axios\";\r\n\r\nclass CollapseMeter extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: this.props.name,\r\n      tenant_id: this.props.tenant_id,\r\n      email: this.props.email,\r\n      address: this.props.address,\r\n      phone_number: this.props.phone_number,\r\n      multiplier_list: [],\r\n      multiplier: \"\",\r\n      property_id: this.props.property_id,\r\n      meter_id: this.props.meter_id,\r\n      meter_list: [],\r\n      meter: \"\",\r\n    };\r\n    this.getMeterList = this.getMeterList.bind(this);\r\n    this.generateTable();\r\n  }\r\n\r\n  getMeterList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/ass_meter/${this.state.property_id}`).then((response) => {\r\n          var list = []\r\n          // console.log(this.state.tenant_id, response.data);\r\n          for(var i = 0; i < response.data.length; i++){\r\n            // console.log(\"tenant_id  \", this.state.tenant_id);\r\n            if(response.data[i].tenant_id == this.state.tenant_id){\r\n                list.push(response.data[i].meter_id)\r\n            }\r\n          }\r\n        this.setState({ meter_list: list });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  generateTable() {\r\n    //call updateTable everytime when we need to generate a list of submeter and multiplier\r\n    // see hardcode below in render() function\r\n    var res = [];\r\n    this.getMeterList().then(() => {\r\n        let tableData = this.state.meter_list;\r\n        // console.log(\"table\", tableData);\r\n        for (var i = 0; i < tableData.length; i++) {\r\n          res.push(\r\n            <TableRow key={i} id={i}>\r\n              <TableCell>{tableData[i]}</TableCell>\r\n            </TableRow>\r\n          );\r\n        }\r\n        this.res = res;\r\n        this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <CollapseRow res={this.res} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst useRowStyles = makeStyles({\r\n  root: {\r\n    \"& > *\": {\r\n      borderBottom: \"unset\",\r\n    },\r\n  },\r\n});\r\n\r\nfunction CollapseRow(props) {\r\n  const { row } = props;\r\n  const [open, setOpen] = React.useState(false);\r\n  const classes = useRowStyles();\r\n  const res = props.res;\r\n  return (\r\n    <React.Fragment>\r\n      <TableRow className={classes.root}>\r\n        <TableCell>\r\n          <IconButton aria-label=\"expand row\" size=\"big\" onClick={() => setOpen(!open)}>\r\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\r\n          </IconButton>\r\n        </TableCell>\r\n      </TableRow>\r\n      <TableRow>\r\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n            <Box margin={1}>\r\n              <Table size=\"small\" aria-label=\"meter\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Meter</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>{res}</TableBody>\r\n              </Table>\r\n            </Box>\r\n          </Collapse>\r\n        </TableCell>\r\n      </TableRow>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default CollapseMeter;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport EditTenant from \"./EditTenant\";\r\nimport AddTenant from \"./AddTenant\";\r\nimport DeleteTenant from \"./DeleteTenant\";\r\nimport Submeters from \"./../Submeter/Submeters\";\r\nimport Meters from \"./../Meter/Meters\";\r\nimport MeterTable from \"./../Meter/MeterTable\";\r\nimport CollapseSubmeter from \"./../Submeter/CollapseSubmeter\";\r\nimport CollaspseMeter from \"./../Meter/CollapseMeter\";\r\nimport { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { DialogContent } from \"@material-ui/core\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\n\r\nclass TenantInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tenant_list: [],\r\n      meter_list: [],\r\n      is_meter_tenant: false,\r\n      is_submeter_tenant: false,\r\n    };\r\n    this.generateTableData = this.generateTableData.bind(this);\r\n    this.getTenantList = this.getTenantList.bind(this);\r\n    this.getSubmeterList = this.getSubmeterList.bind(this);\r\n    this.generateTableData();\r\n  }\r\n\r\n  getTenantList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/tenant/${this.props.property_id}/${this.props.sub}`).then((response) => {\r\n        this.setState({ tenant_list: response.data });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  getSubmeterList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/submeter/${this.state.tenant_id}/${this.props.sub}`).then((response) => {\r\n        this.setState({ submeter_list: response.data });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  validate_tenant() {\r\n    var isValidate = true;\r\n\r\n    return isValidate;\r\n  }\r\n\r\n  generateTableData() {\r\n    this.getTenantList().then(() => {\r\n      this.res = [];\r\n      for (var i = 0; i < this.state.tenant_list.length; i++) {\r\n        if (this.state.tenant_list[i].rubs === 0) {\r\n          this.setState({\r\n            is_meter_tenant: false,\r\n            is_submeter_tenant: true,\r\n          });\r\n        } else {\r\n          this.setState({\r\n            is_meter_tenant: true,\r\n            is_submeter_tenant: false,\r\n          });\r\n        }\r\n        console.log(this.state.tenant_list[i]);\r\n        this.res.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell>{this.state.tenant_list[i].name}</TableCell>\r\n            <TableCell>{this.state.tenant_list[i].email}</TableCell>\r\n            <TableCell>{this.state.tenant_list[i].address}</TableCell>\r\n            <TableCell>{this.state.tenant_list[i].landlord_phone}</TableCell>\r\n            <TableCell>{(this.state.tenant_list[i].rubs * 100).toFixed(2) + \"%\"}</TableCell>\r\n            <TableCell>\r\n              <EditTenant\r\n                sub={this.props.sub}\r\n                tenant_id={this.state.tenant_list[i].tenant_id}\r\n                name={this.state.tenant_list[i].name}\r\n                email={this.state.tenant_list[i].email}\r\n                address={this.state.tenant_list[i].address}\r\n                landlord_phone={this.state.tenant_list[i].landlord_phone}\r\n                rubs={this.state.tenant_list[i].rubs}\r\n                property_id={this.props.property_id}\r\n                generateTableData={this.generateTableData}\r\n                total_footage={sessionStorage.getItem(\"total_footage\")}\r\n                is_meter_tenant={this.state.is_meter_tenant}\r\n                is_submeter_tenant={this.state.is_submeter_tenant}\r\n              />\r\n            </TableCell>\r\n            <TableCell>\r\n              <DeleteTenant sub={this.props.sub} tenant_id={this.state.tenant_list[i].tenant_id} property_id={this.props.property_id} generateTableData={this.generateTableData} />\r\n            </TableCell>\r\n            <React.Fragment>\r\n              {this.state.is_submeter_tenant ? (\r\n                <React.Fragment>\r\n                  <TableCell>\r\n                    <Submeters sub={this.props.sub} tenant_id={this.state.tenant_list[i].tenant_id} info={this} property_id={this.props.property_id} />\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {/* <CollapseSubmeter tenant_id={this.state.tenant_list[i].tenant_id} property_id={this.props.property_id} info={this} /> */}\r\n                  </TableCell>\r\n                </React.Fragment>\r\n              ) : (\r\n                <React.Fragment>\r\n                  <TableCell>Associated Meters : </TableCell>\r\n                  <TableCell>\r\n                    <CollaspseMeter tenant_id={this.state.tenant_list[i].tenant_id} property_id={this.props.property_id} info={this} />\r\n                  </TableCell>\r\n                </React.Fragment>\r\n              )}\r\n            </React.Fragment>\r\n          </TableRow>\r\n        );\r\n      }\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    console.log(\"property id is \" + this.props.property_id)\r\n    return (\r\n      <div className=\"main\">\r\n        <TableHead>\r\n          <TableCell component={Paper}>\r\n            <AddTenant\r\n              className=\"display_item\"\r\n              sub={this.props.sub}\r\n              property_id={this.props.property_id}\r\n              total_footage={sessionStorage.getItem(\"total_footage\")}\r\n              generateTableData={this.generateTableData}\r\n            />\r\n          </TableCell>\r\n          <TableCell component={Paper}>\r\n            <Meters className=\"display_item\" sub={this.props.sub} property_id={this.props.property_id} />\r\n          </TableCell>\r\n        </TableHead>\r\n        <DialogContent />\r\n        <MeterTable className=\"display_item\" sub={this.props.sub} property_id={this.props.property_id} />\r\n        <DialogContent />\r\n        <DialogContent />\r\n        <Paper>\r\n          <TableContainer style={{ maxHeight: 700 }} component={Paper}>\r\n            <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n              Tenant Information\r\n          </Typography>\r\n            <Table stickyHeader>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Name</TableCell>\r\n                  <TableCell>Email</TableCell>\r\n                  <TableCell>Address</TableCell>\r\n                  <TableCell>Landlord Phone</TableCell>\r\n                  <TableCell>RUBS</TableCell>\r\n                  <TableCell></TableCell>\r\n                  <TableCell />\r\n                  <TableCell />\r\n                  <TableCell />\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>{this.res}</TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </Paper>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TenantInfo;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport NumberFormat from 'react-number-format';\r\nimport axios from \"axios\";\r\n\r\nclass AddProperty extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      name: \"\",\r\n      address: \"\",\r\n      total_footage: \"\",\r\n      landlord_phone: \"\",\r\n      nameError: \"\",\r\n      addressError: \"\",\r\n      footageError: \"\",\r\n      phoneError: \"\",\r\n      name_errors: false,\r\n      address_errors: false,\r\n      footage_errors: false,\r\n      phone_errors: false,\r\n    };\r\n\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.changeName = this.changeName.bind(this);\r\n    this.changeAddress = this.changeAddress.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.changeTotal_footage = this.changeTotal_footage.bind(this);\r\n    this.changeLandlord_phone = this.changeLandlord_phone.bind(this);\r\n    this.validation = this.validation.bind(this)\r\n  }\r\n  addProperty(property_info) {\r\n    axios.post(\"/property\", { sub: this.props.sub, property_info: property_info }).then((response) => {\r\n      this.props.generateTableData();\r\n    });\r\n  }\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n      name: \"\",\r\n      address: \"\",\r\n      total_footage: \"\",\r\n      landlord_phone: \"\",\r\n      nameError: \"\",\r\n      addressError: \"\",\r\n      footageError: \"\",\r\n      phoneError: \"\",\r\n      name_errors: false,\r\n      address_errors: false,\r\n      footage_errors: false,\r\n      phone_errors: false,\r\n    });\r\n  }\r\n\r\n  changeName(event) {\r\n    this.setState({\r\n      name: event.target.value,\r\n      nameError: \"\",\r\n      name_errors: false\r\n    });\r\n  }\r\n\r\n  changeAddress(event) {\r\n    this.setState({\r\n      address: event.target.value,\r\n      addressError: \"\",\r\n      address_errors: false\r\n    });\r\n  }\r\n\r\n  changeTotalFootage(event) {\r\n    this.setState({\r\n      total_footage: event.target.value,\r\n    });\r\n  }\r\n  changeTotal_footage(event) {\r\n    this.setState({\r\n      total_footage: parseInt(event.target.value),\r\n      footageError: \"\",\r\n      footage_errors: false\r\n    });\r\n    console.log(this.state.total_footage)\r\n  }\r\n\r\n  changeLandlord_phone(event) {\r\n    this.setState({\r\n      landlord_phone: event.target.value,\r\n      phoneError: \"\",\r\n      phone_errors: false\r\n    });\r\n  }\r\n\r\n  validation() {\r\n    var isValidate = true;\r\n    if (this.state.name === \"\") {\r\n      var nameMessage = \"Please enter a valid property name\"\r\n      this.setState({\r\n        nameError: nameMessage,\r\n        name_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (this.state.address === \"\") {\r\n      var addressMessage = \"Please enter a valid property address\"\r\n      this.setState({\r\n        addressError: addressMessage,\r\n        address_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (this.state.total_footage === \"\" || this.state.total_footage < 1 || !this.state.total_footage) {\r\n      var footageMessage = \"Please enter a valid total footage\"\r\n      this.setState({\r\n        footageError: footageMessage,\r\n        footage_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    var phone_pattern = new RegExp(/^[(]{0,1}[0-9]{3}[)]{0,1}[-\\s\\.]{0,1}[0-9]{3}[-\\s\\.]{0,1}[0-9]{4}$/);\r\n    if (this.state.landlord_phone === \"\" || !phone_pattern.test(this.state.landlord_phone)) {\r\n      var phoneMessage = \"Please enter a valid phone number\"\r\n      this.setState({\r\n        phoneError: phoneMessage,\r\n        phone_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    return isValidate;\r\n  }\r\n\r\n  onSubmit(event) {\r\n    event.preventDefault();\r\n    if (this.validation()) {\r\n\r\n      var property_info = {\r\n        name: this.state.name,\r\n        address: this.state.address,\r\n        property_type: \"residential\", // TODO get rid of this on backend and then here\r\n        total_footage: this.state.total_footage,\r\n        landlord_phone: this.state.landlord_phone,\r\n      };\r\n\r\n      this.addProperty(property_info);\r\n      this.setState({\r\n        open: false,\r\n        name: \"\",\r\n        address: \"\",\r\n        total_footage: \"\",\r\n        landlord_phone: \"\",\r\n        nameError: \"\",\r\n        addressError: \"\",\r\n        footageError: \"\",\r\n        phoneError: \"\",\r\n        name_errors: false,\r\n        address_errors: false,\r\n        footage_errors: false,\r\n        phone_errors: false,\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var is_validate_name = this.state.name_errors;\r\n    var is_validate_address = this.state.address_errors;\r\n    var is_validate_footage = this.state.footage_errors;\r\n    var is_validate_phone = this.state.phone_errors;\r\n    var name_message = this.state.nameError;\r\n    var address_message = this.state.addressError;\r\n    var footage_message = this.state.footageError;\r\n    var phone_message = this.state.phoneError;\r\n    return (\r\n      <div>\r\n        <Button color=\"primary\" onClick={this.handleClickOpen}>\r\n          Add Property\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Enter Property Info</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText></DialogContentText>\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"name\"\r\n              label=\"Name\"\r\n              type=\"text\"\r\n              onChange={this.changeName}\r\n              helperText={is_validate_name ? name_message : null}\r\n              error={this.state.name_errors}\r\n              fullWidth\r\n              required\r\n            />\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"address\"\r\n              label=\"Address\"\r\n              type=\"text\"\r\n              onChange={this.changeAddress}\r\n              helperText={is_validate_address ? address_message : null}\r\n              error={this.state.address_errors}\r\n              fullWidth\r\n              required\r\n            />\r\n            <TextField\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"totalfootage\"\r\n              label=\"Total Building Square Footage\"\r\n              type=\"text\"\r\n              onChange={this.changeTotal_footage}\r\n              helperText={is_validate_footage ? footage_message : null}\r\n              error={this.state.footage_errors}\r\n              fullWidth\r\n              required\r\n            />\r\n            <NumberFormat \r\n              customInput={TextField}\r\n              autoFocus\r\n              margin=\"dense\"\r\n              id=\"landlord_phone\"\r\n              label=\"Landlord Phone Number\"\r\n              type=\"text\"\r\n              onChange={this.changeLandlord_phone}\r\n              helperText={is_validate_phone ? phone_message : null}\r\n              error={this.state.phone_errors}\r\n              fullWidth\r\n              required\r\n              format=\"(###) ###-####\" \r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"primary\">\r\n              Add\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddProperty;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport NumberFormat from 'react-number-format';\r\nimport axios from \"axios\";\r\n\r\nclass EditProperty extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      property_id: this.props.property_id,\r\n      name: this.props.name,\r\n      address: this.props.address,\r\n      total_footage: this.props.total_footage,\r\n      landlord_phone: this.props.landlord_phone,\r\n    };\r\n\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.changeName = this.changeName.bind(this);\r\n    this.changeAddress = this.changeAddress.bind(this);\r\n    this.changeTotalFootage = this.changeTotalFootage.bind(this);\r\n    this.changeLandlordPhone = this.changeLandlordPhone.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if (this.props.property_id !== this.state.property_id) {\r\n      this.setState({\r\n        property_id: this.props.property_id,\r\n        name: this.props.name,\r\n        address: this.props.address,\r\n        total_footage: this.props.total_footage,\r\n        landlord_phone: this.props.landlord_phone,\r\n        nameError: \"\",\r\n        addressError: \"\",\r\n        footageError: \"\",\r\n        phoneError: \"\",\r\n        name_errors: false,\r\n        address_errors: false,\r\n        footage_errors: false,\r\n        phone_errors: false,\r\n      });\r\n      this.validation = this.validation.bind(this)\r\n    }\r\n  }\r\n\r\n  updatePropertyInfo(property_info) {\r\n    axios.patch(\"/property\", { sub: this.props.sub, property_info: property_info }).then((response) => {\r\n      this.props.generateTableData();\r\n    });\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n      nameError: \"\",\r\n      addressError: \"\",\r\n      footageError: \"\",\r\n      phoneError: \"\",\r\n      name_errors: false,\r\n      address_errors: false,\r\n      footage_errors: false,\r\n      phone_errors: false,\r\n    });\r\n  }\r\n\r\n  changeName(event) {\r\n    this.setState({\r\n      name: event.target.value,\r\n      nameError: \"\",\r\n      name_errors: false\r\n    });\r\n  }\r\n\r\n  changeAddress(event) {\r\n    this.setState({\r\n      address: event.target.value,\r\n      addressError: \"\",\r\n      address_errors: false\r\n    });\r\n  }\r\n\r\n  changeTotalFootage(event) {\r\n    this.setState({\r\n      total_footage: event.target.value,\r\n      footageError: \"\",\r\n      footage_errors: false\r\n    });\r\n  }\r\n\r\n  changeLandlordPhone(event) {\r\n    this.setState({\r\n      landlord_phone: event.target.value,\r\n      phoneError: \"\",\r\n      phone_errors: false\r\n    });\r\n  }\r\n\r\n  validation() {\r\n    var isValidate = true;\r\n    if (this.state.name === \"\") {\r\n      var nameMessage = \"Please enter a valid property name\"\r\n      this.setState({\r\n        nameError: nameMessage,\r\n        name_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (this.state.address === \"\") {\r\n      var addressMessage = \"Please enter a valid property address\"\r\n      this.setState({\r\n        addressError: addressMessage,\r\n        address_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    if (this.state.total_footage === \"\" || this.state.total_footage < 1 || !this.state.total_footage) {\r\n      var footageMessage = \"Please enter a valid total footage\"\r\n      this.setState({\r\n        footageError: footageMessage,\r\n        footage_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    var phone_pattern = new RegExp(/^[(]{0,1}[0-9]{3}[)]{0,1}[-\\s\\.]{0,1}[0-9]{3}[-\\s\\.]{0,1}[0-9]{4}$/);\r\n    if (this.state.landlord_phone === \"\" || !phone_pattern.test(this.state.landlord_phone)) {\r\n      var phoneMessage = \"Please enter a valid phone number\"\r\n      this.setState({\r\n        phoneError: phoneMessage,\r\n        phone_errors: true\r\n      })\r\n      isValidate = false;\r\n    }\r\n    return isValidate;\r\n  }\r\n\r\n  onSubmit(event) {\r\n    event.preventDefault();\r\n    if (this.validation()) {\r\n      this.setState({\r\n        open: false,\r\n        nameError: \"\",\r\n        addressError: \"\",\r\n        footageError: \"\",\r\n        phoneError: \"\",\r\n        name_errors: false,\r\n        address_errors: false,\r\n        footage_errors: false,\r\n        phone_errors: false,\r\n      });\r\n      var property_info = {\r\n        property_id: this.state.property_id,\r\n        name: this.state.name,\r\n        address: this.state.address,\r\n        total_footage: this.state.total_footage,\r\n        landlord_phone: this.state.landlord_phone,\r\n      };\r\n      this.updatePropertyInfo(property_info);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    var is_validate_name = this.state.name_errors;\r\n    var is_validate_address = this.state.address_errors;\r\n    var is_validate_footage = this.state.footage_errors;\r\n    var is_validate_phone = this.state.phone_errors;\r\n    var name_message = this.state.nameError;\r\n    var address_message = this.state.addressError;\r\n    var footage_message = this.state.footageError;\r\n    var phone_message = this.state.phoneError;\r\n    return (\r\n      <div>\r\n        <Button color=\"primary\" onClick={this.handleClickOpen}>\r\n          Edit\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogTitle id=\"form-dialog-title\">Edit Property Info</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText></DialogContentText>\r\n            <TextField \r\n              autoFocus \r\n              margin=\"dense\" \r\n              id=\"name\" \r\n              label=\"Property Name\" \r\n              type=\"text\" \r\n              value={this.state.name} \r\n              onChange={this.changeName}\r\n              helperText={is_validate_name ? name_message : null}\r\n              error={this.state.name_errors} \r\n              fullWidth \r\n            />\r\n            <TextField \r\n              autoFocus \r\n              margin=\"dense\" \r\n              id=\"address\" \r\n              label=\"Property Address\" \r\n              type=\"text\" \r\n              value={this.state.address} \r\n              onChange={this.changeAddress} \r\n              helperText={is_validate_address ? address_message : null}\r\n              error={this.state.address_errors}\r\n              fullWidth \r\n            />\r\n            <TextField \r\n              autoFocus \r\n              margin=\"dense\" \r\n              id=\"total_footage\" \r\n              label=\"Total Footage\" \r\n              type=\"text\" \r\n              value={this.state.total_footage} \r\n              onChange={this.changeTotalFootage} \r\n              helperText={is_validate_footage ? footage_message : null}\r\n              error={this.state.footage_errors}\r\n              fullWidth \r\n            />\r\n            <NumberFormat \r\n              customInput={TextField}\r\n              autoFocus \r\n              margin=\"dense\" \r\n              id=\"landlord_phone\" \r\n              label=\"Landlord Phone Number\" \r\n              type=\"text\" \r\n              value={this.state.landlord_phone} \r\n              onChange={this.changeLandlordPhone} \r\n              helperText={is_validate_phone ? phone_message : null}\r\n              error={this.state.phone_errors}\r\n              fullWidth \r\n              format=\"(###) ###-####\" \r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"secondary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"primary\">\r\n              Update\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditProperty;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\n\r\nclass DeleteProperty extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n    };\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  deleteProperty() {\r\n    axios.delete(\"/property\", { data: { sub: this.props.sub, property_id: this.props.property_id } }).then((response) => {\r\n      this.props.generateTableData();\r\n    });\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  onSubmit(event) {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n    this.deleteProperty();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button color=\"secondary\" onClick={this.handleClickOpen}>\r\n          Delete\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n          <DialogTitle id=\"alert-dialog-title\">{\"Delete Property?\"}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">Are you sure you want to delete the chosen property?</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Back\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"secondary\" autoFocus>\r\n              Delete\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeleteProperty;\r\n","import React from \"react\";\r\nimport \"./../../../App.css\";\r\nimport AddProperty from \"./AddProperty\";\r\nimport EditProperty from \"./EditProperty\";\r\nimport DeleteProperty from \"./DeleteProperty\";\r\nimport { Component } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport axios from \"axios\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { DialogContent } from \"@material-ui/core\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nclass PropertyInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      property_list: [],\r\n    };\r\n    this.generateTableData = this.generateTableData.bind(this);\r\n    this.getPropertyList = this.getPropertyList.bind(this);\r\n    this.generateTableData();\r\n  }\r\n\r\n  getPropertyList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/property/${this.props.sub}`).then((response) => {\r\n        this.setState({ property_list: response.data });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  generateTableData() {\r\n    this.getPropertyList().then(() => {\r\n      this.res = [];\r\n      for (var i = 0; i < this.state.property_list.length; i++) {\r\n        this.res.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell>{this.state.property_list[i].name}</TableCell>\r\n            <TableCell>{this.state.property_list[i].address}</TableCell>\r\n            <TableCell>{this.state.property_list[i].total_footage}</TableCell>\r\n            <TableCell>{this.state.property_list[i].landlord_phone}</TableCell>\r\n            <TableCell>\r\n              <ManageTenants\r\n                sub={this.props.sub}\r\n                is_admin={this.props.is_admin}\r\n                property_id={this.state.property_list[i].property_id}\r\n                name={this.state.property_list[i].name}\r\n                total_footage={this.state.property_list[i].total_footage}\r\n                landlord_phone={this.state.property_list[i].landlord_phone}\r\n              />\r\n            </TableCell>\r\n            <TableCell>\r\n              <EditProperty\r\n                sub={this.props.sub}\r\n                property_id={this.state.property_list[i].property_id}\r\n                name={this.state.property_list[i].name}\r\n                address={this.state.property_list[i].address}\r\n                total_footage={this.state.property_list[i].total_footage}\r\n                landlord_phone={this.state.property_list[i].landlord_phone}\r\n                generateTableData={this.generateTableData}\r\n              />\r\n            </TableCell>\r\n            <TableCell>\r\n              <DeleteProperty sub={this.props.sub} property_id={this.state.property_list[i].property_id} generateTableData={this.generateTableData} />\r\n            </TableCell>\r\n          </TableRow>\r\n        );\r\n      }\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"main\">\r\n        <TableHead>\r\n          <TableCell component={Paper}>\r\n            <AddProperty className=\"display_item\" sub={this.props.sub} generateTableData={this.generateTableData} />\r\n          </TableCell>\r\n        </TableHead>\r\n        <DialogContent />\r\n        <TableContainer style={{ maxHeight: 700 }} component={Paper}>\r\n          <Table stickyHeader>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Property Name</TableCell>\r\n                <TableCell>Property Address</TableCell>\r\n                <TableCell>Total Footage</TableCell>\r\n                <TableCell>Landlord Phone</TableCell>\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>{this.res}</TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass ManageTenants extends Component {\r\n  manage_tenants = () => {\r\n    sessionStorage.setItem(\"property_name\", this.props.name);\r\n    sessionStorage.setItem(\"property_id\", this.props.property_id);\r\n    sessionStorage.setItem(\"total_footage\", this.props.total_footage);\r\n    sessionStorage.setItem(\"landlord_phone\", this.props.landlord_phone)\r\n    if (this.props.is_admin == true) {\r\n      window.location = `/Admin/PropMana/${this.props.sub}/property/${this.props.property_id}`;\r\n    } else {\r\n      window.location = `/PropMana/${this.props.sub}/property/${this.props.property_id}`;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Button onClick={this.manage_tenants} color=\"primary\">\r\n        View Details\r\n      </Button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PropertyInfo;\r\n","import React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\n//////////////////////////////////////////////\r\n\r\n\r\nimport html2canvas from 'html2canvas';\r\nimport { jsPDF } from \"jspdf\";\r\nimport * as htmlToImage from 'html-to-image';\r\nimport {toPng, toJpeg, toBlob, toPixelData, toSvg} from 'html-to-image';\r\nimport { CognitoUserPool } from \"amazon-cognito-identity-js\";\r\nimport { format } from \"date-fns\";\r\n///////////////////////////////////////////////\r\nclass IndividualTenantInvoice extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      display: this.props.display,\r\n      invoice_list: this.props.invoice_list,\r\n      tenant_list: this.props.tenant_list,\r\n      property_info : this.props.property_info\r\n\r\n    };\r\n    /////////////////////////////////\r\n    this.sub_meter_size = 0;\r\n    this.meter_size = 0;\r\n    // this.generateTableData();\r\n    // this.generateIndividual();\r\n    this.generateTableData = this.generateTableData.bind(this);\r\n    this.generateIndividual = this.generateIndividual.bind(this);\r\n    this.printDocument= this.printDocument.bind(this);\r\n    // this.EmailPdf = this.EmailPdf.bind(this);\r\n    this.printall = this.printall.bind(this);\r\n    //////////////////////////////////////////\r\n\r\n    ////////////////// download pdf\r\n    this.downloadPDF = this.downloadPDF.bind(this);\r\n    this.downloadall = this.downloadall.bind(this);\r\n    /////////////\r\n\r\n\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n\r\n  }  \r\n\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n      invoice_list: this.props.invoice_list,\r\n      tenant_list: this.props.tenant_list,\r\n      property_info : this.props.property_info\r\n    });\r\n    console.log(\r\n      \"invoice list: \", this.props.invoice_list[0]\r\n    )\r\n    this.generateTableData();\r\n    this.generateIndividual();\r\n  }\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n      \r\n    });\r\n  }\r\n\r\n\r\n  generateTableData = () => {\r\n    var sub_total_charge = 0;\r\n    var submeter_number = 0; //  is submeter number count for print pdf function\r\n    var meter_number = 0; // it is meter number count for print pdf function\r\n    var meter_total_charge = 0;\r\n    var total_tenant_share = 0;\r\n//////////////////////////////////////////////////\r\n    var matrix = [],\r\n    tenant_list_size = this.props.tenant_list.length;\r\n\r\n\r\n    for ( var i = 0; i < tenant_list_size; i++ ) {\r\n        matrix[i] = []; \r\n    }\r\n    this.res = matrix;\r\n    this.print = matrix;\r\n    \r\n/////////////////////////////////////////////////\r\n//create empty array but with defined size\r\n/////////////////////////////////////////////////\r\n      for (var i = 0; i < tenant_list_size; i++) {\r\n        \r\n        if(this.props.tenant_list[i].rubs == 0){\r\n          // submeter first part table\r\n        this.res[i].push(\r\n        \r\n        <div>        \r\n\r\n            <table>\r\n\r\n            <tr class=\"spaceUnder\">\r\n            <tr>{this.props.tenant_list[i].name}</tr>\r\n            <td></td>\r\n            </tr>\r\n\r\n            <tr class=\"spaceUnder\">\r\n            <tr>{this.props.tenant_list[i].address}</tr>\r\n            <td></td>\r\n            </tr>\r\n\r\n            <tr>Electrical Charges as Metered</tr>\r\n            <td></td>\r\n\r\n            <tr class=\"spaceUnder\">\r\n            <tr>Period Start:  {this.props.invoice_list[0].from_date.split(\"T\")[0]}</tr>\r\n            <tr>Period End: {this.props.invoice_list[0].to_date.split(\"T\")[0]}</tr>\r\n            </tr>\r\n\r\n            </table>\r\n\r\n        <table striped bordered hover class=\"underline\">\r\n          <thead>\r\n          <tr>\r\n            <th >Sub-Unit</th>\r\n            <th >Prior Amount (KwH)</th>\r\n            <th >Current Amount (KwH)</th>\r\n            <th >Current Usage (KwH)</th>\r\n            <th >Unit Charge</th>\r\n            <th >Amount</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody></tbody>\r\n        </table>\r\n        </div>\r\n\r\n        );}\r\n        \r\n        else{\r\n          //meter first part table\r\n          this.res[i].push(\r\n          <div>        \r\n\r\n            <table>    \r\n                <tr class=\"spaceUnder\">\r\n                <tr>{this.props.tenant_list[i].name}</tr>\r\n                <td></td>\r\n                </tr>\r\n    \r\n                <tr class=\"spaceUnder\">\r\n                <tr>{this.props.tenant_list[i].address}</tr>\r\n                <td></td>\r\n                </tr>\r\n\r\n                <tr>Electrical Charges as Metered</tr>\r\n                <td></td>\r\n    \r\n                <tr class=\"spaceUnder\">\r\n                <tr>{this.props.invoice_list[0].from_date.split(\"T\")[0]} to {this.props.invoice_list[0].to_date.split(\"T\")[0]}</tr>\r\n                <td></td>\r\n                </tr>    \r\n            </table>\r\n\r\n            </div>\r\n\r\n          );\r\n        }\r\n        \r\n        for ( var j =0;  j<this.props.invoice_list.length; j++){\r\n          \r\n          var current_invoice = this.props.invoice_list[j];\r\n          if(current_invoice.has_submeter == 'y' && current_invoice.tenant_id == this.props.tenant_list[i].tenant_id){\r\n            // submeter second part of table\r\n            sub_total_charge = current_invoice.total_charge;\r\n            submeter_number++;\r\n            this.res[i].push(\r\n\r\n            <table striped bordered hover class='underline'>\r\n            <thread></thread>\r\n            <tbody>\r\n            <tr>\r\n            <th class='s'>{current_invoice.submeter_id}</th>\r\n            <th class='s'>{current_invoice.prior_read}</th>\r\n            <th class='s'>{current_invoice.cur_read}</th>\r\n            <th class='s'>{current_invoice.cur_read - current_invoice.prior_read}</th>\r\n            <th class='s'>{current_invoice.unit_charge}</th>\r\n            <th class='s'>{'$'+current_invoice.submeter_charge}</th>\r\n            </tr>\r\n            </tbody>\r\n\r\n            </table>\r\n          \r\n          );\r\n          }else if(current_invoice.has_submeter == 'n' && current_invoice.tenant_id == this.props.tenant_list[i].tenant_id){\r\n            meter_number++;\r\n            meter_total_charge = meter_total_charge + current_invoice.total_charge;\r\n            total_tenant_share = total_tenant_share + current_invoice.meter_amt_due;\r\n            \r\n          //   this.res[i].push(\r\n          //   <Page>\r\n          //   <Table>\r\n          //   <TableRow >\r\n          //   <TableCell>{current_invoice.meter_id}</TableCell>\r\n          //   <TableCell>{current_invoice.rubs}</TableCell>\r\n          //   <TableCell>{current_invoice.total_charge}</TableCell>\r\n          //   <TableCell>{current_invoice.meter_amt_due}</TableCell>\r\n          //   </TableRow>\r\n          //   </Table>\r\n          //   </Page>            \r\n          // );\r\n\r\n          }\r\n\r\n        }; \r\n        if(this.props.tenant_list[i].rubs == 0){\r\n          // submeter table at end of submeters charge list\r\n          this.res[i].push(\r\n            <table>\r\n            <tr>\r\n            <th class=\"amt\">Total Amount: </th>\r\n            <th class=\"topline\"></th>\r\n            <th class=\"topline\">$ {sub_total_charge}</th>\r\n            <th class=\"topline\" ></th>\r\n            </tr>\r\n            </table>\r\n          );\r\n\r\n          this.res[i].push(\r\n            <table>\r\n            <tr>\r\n            <th class=\"top_and_bottom_line\">Enclosed</th>\r\n            <td></td>\r\n            </tr>\r\n            <tr></tr>\r\n            <tr></tr>\r\n            <tr></tr>\r\n            </table>\r\n  \r\n          );\r\n\r\n        }else if(this.props.tenant_list[i].rubs != 0){\r\n          // meter table at end of meter charge\r\n          this.res[i].push(\r\n            <table class=\"place_in_center\">\r\n\r\n                <tr class=\"spaceUnder\">\r\n                <tr>Total Building Monthly Electrical Bill</tr>\r\n                <tr>$ {meter_total_charge}</tr>\r\n                <td></td>\r\n                </tr>\r\n\r\n                <tr class=\"spaceUnder\">\r\n                <tr>Tenant Square Footage Share</tr>\r\n                <tr>{this.props.tenant_list[i].rubs * 100} %</tr>\r\n                <td></td>\r\n                </tr>\r\n\r\n                <tr class=\"spaceUnder\">\r\n                <tr>Tenant Share of Electric Bill</tr>\r\n                <tr>$ {total_tenant_share}</tr>\r\n                <td></td>\r\n                </tr>\r\n\r\n                <tr class=\"spaceUnder\">\r\n                <tr>Please make check payable to Property Tech LLc</tr>\r\n                <td></td>\r\n                </tr>\r\n            </table>\r\n    \r\n            );\r\n\r\n          this.res[i].push(\r\n            <table>\r\n\r\n                <tr class=\"spaceUnder\">\r\n                <tr>Due upon recipt</tr>\r\n                <td></td>\r\n                </tr>\r\n\r\n                <tr class=\"spaceUnder\">\r\n                <tr>Thank You,</tr>\r\n                <td></td>\r\n                </tr>\r\n\r\n                <tr class=\"spaceUnder\">\r\n                <tr>Property Tech LLC</tr>\r\n                <td></td>\r\n                </tr>\r\n\r\n                <tr>\r\n                <th class=\"meter_top_and_bottom_line\">Enclosed_______________________________________________________________________________________________</th>\r\n                <td></td>\r\n                </tr>\r\n                </table>  \r\n          );\r\n          \r\n          \r\n            \r\n        }     \r\n\r\n      }\r\n      this.setState({sub_meter_size : submeter_number});\r\n      this.setState({meter_size : meter_number});\r\n\r\n  };\r\n  generateIndividual = () =>{\r\n    var matrix = [];\r\n    var tenant_list_size = this.props.tenant_list.length;\r\n\r\n    for ( var i = 0; i < tenant_list_size; i++ ) {\r\n        matrix[i] = []; \r\n    }\r\n    this.print = matrix;\r\n\r\n\r\n    for(var c=0; c< tenant_list_size; c++){\r\n      var i_d = this.res[c][0];\r\n\r\n      this.print[c].push(\r\n        <div class=\"sbbb\" id={'pdf'+c+this.props.tenant_list[c].tenant_id}>{this.res[c]}</div>\r\n      )\r\n    }\r\n\r\n  }\r\n  printDocument(i) {\r\n    const pdf = new jsPDF({\r\n      unit: \"mm\",\r\n      format: [297, 210]\r\n    });\r\n     \r\n    var name = this.props.tenant_list[i].name;\r\n    var email = this.props.tenant_list[i].email;\r\n    htmlToImage.toPng(document.getElementById('pdf'+i+this.props.tenant_list[i].tenant_id), { quality: 1 })\r\n    .then(function (dataUrl) {\r\n      var link = document.createElement('a');\r\n      link.download = 'my-image-name.jpeg';        \r\n      pdf.addImage(dataUrl, 'PNG', 0, 0); //'pdf+'tenant_id+from_date+to_date\r\n      // pdf.output(i+\".pdf\");\r\n      // var pdfData = pdf.output();\r\n    //   axios.post(\"/sendPDFToTenant\", { pdfcontent: pdfData }).then((response) => {\r\n    //     //   this.props.generateMeter();\r\n    //     });\r\n      var path = pdf.output('datauristring');\r\n      console.log(path);\r\n      \r\n      var res = {\r\n        receiver: email,\r\n        path: path,\r\n      }\r\n\r\n      axios.post('/sendPDFToTenant', res).then((response) => {\r\n\r\n    });\r\n\r\n\r\n      // pdf.save(name+\".pdf\"); \r\n\r\n    });\r\n\r\n};\r\n\r\n\r\ndownloadPDF(i){\r\n\r\n  const pdf = new jsPDF();  \r\n  var name = this.props.tenant_list[i].name;\r\n  var email = this.props.tenant_list[i].email;\r\n  htmlToImage.toPng(document.getElementById('pdf'+i+this.props.tenant_list[i].tenant_id), { quality: 1 })\r\n  .then(function (dataUrl) {\r\n    var link = document.createElement('a');\r\n    link.download = 'my-image-name.jpeg';        \r\n    pdf.addImage(dataUrl, 'PNG', 0, 0); //'pdf+'tenant_id+from_date+to_date\r\n\r\n   pdf.save(name+\".pdf\"); \r\n\r\n  });\r\n\r\n\r\n};\r\n\r\n\r\n\r\n\r\nprintall =() =>{\r\n  for(var i = 0; i < this.props.tenant_list.length; i++){\r\n    this.printDocument(i);\r\n}\r\n\r\n  alert(\"Emails are on the way.\");\r\n  return;\r\n  \r\n}\r\n\r\ndownloadall = () => {\r\n  for(var i = 0; i < this.props.tenant_list.length; i++){\r\n    this.downloadPDF(i);\r\n}\r\n  alert(\"Downloads will be completed very soon.\");\r\n  return;\r\n  \r\n}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <meta name=\"viewport\" content=\"width=device-width\" ></meta>\r\n        <Button color=\"primary\" onClick={this.handleClickOpen}>\r\n          View PDF in dialog window\r\n        </Button>\r\n        <Dialog fullScreen open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n          <DialogContent>\r\n            <DialogContentText></DialogContentText>\r\n            <div>{this.print}</div>\r\n            <button onClick={this.printall}>Send PDFs to each tenant</button>\r\n            <table><tr></tr><tr></tr><tr></tr><tr></tr><tr></tr></table>\r\n            <button onClick={this.downloadall}>Download all invoices</button>\r\n          </DialogContent>\r\n\r\n        \r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Close\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default IndividualTenantInvoice;","import \"date-fns\";\r\nimport React from \"react\";\r\nimport \"./../App.css\";\r\nimport axios from \"axios\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Divider } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IndividualTenantInvoice from \"./IndividualTenantInvoice\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { TableContainer } from \"@material-ui/core\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nclass InvoiceHistory_m extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      from_date: \"\",\r\n      to_date: \"\",\r\n      bill_id: \"\",\r\n      meter_id: \"\",\r\n      account_id: \"\",\r\n      m_kwh_usage: \"\",\r\n      s_kwh_usage: \"\",\r\n      s_charge: \"\",\r\n      total_kwh_usage: \"\",\r\n      total_charge: \"\",\r\n      unit_charge: \"\",\r\n      invoice_list: [],\r\n      property_id: this.props.property_id,\r\n      tenant_list: this.props.tenant_list,\r\n      property_info: this.props.property_info,\r\n      billing_dates: [],\r\n      tenant_id: 0,\r\n      current_res: [],\r\n      current_resm: [],\r\n      button_flag: false,\r\n      helper_text: \"\",\r\n    };\r\n    this.handleFromDateChange = this.handleFromDateChange.bind(this);\r\n    this.handleToDateChange = this.handleToDateChange.bind(this);\r\n    this.getMeterInvoiceList = this.getMeterInvoiceList.bind(this);\r\n    this.getInvoiceDateList = this.getInvoiceDateList.bind(this);\r\n    this.getTenantList = this.getTenantList.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.generateMeterTable = this.generateMeterTable.bind(this);\r\n    this.generateDateTable = this.generateDateTable.bind(this);\r\n    this.getCurrentInvoice = this.getCurrentInvoice.bind(this);\r\n    this.getCurrentInvoice_sub = this.getCurrentInvoice_sub.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    // this.generateMeterTable();\r\n    this.generateDateTable();\r\n  }\r\n\r\n  handleFromDateChange(event) {\r\n    this.setState(\r\n      {\r\n        from_date: event.target.value,\r\n      },\r\n      () => {\r\n        console.log(this.state.from_date);\r\n      }\r\n    );\r\n  }\r\n\r\n  handleToDateChange(event) {\r\n    this.setState(\r\n      {\r\n        to_date: event.target.value,\r\n      },\r\n      () => {\r\n        console.log(this.state.to_date);\r\n      }\r\n    );\r\n  }\r\n\r\n  getCurrentInvoice(cur_res, invoice, tenant, property) {\r\n    console.log(\"test test:\", cur_res, invoice, tenant, property)\r\n    this.setState({\r\n      current_res: cur_res,\r\n      invoice_list: invoice,\r\n      tenant_list: tenant,\r\n      property_info: property\r\n    });\r\n  }\r\n\r\n  getCurrentInvoice_sub(cur_resm) {\r\n    console.log(\"test test:\", cur_resm)\r\n    this.setState({\r\n      current_resm: cur_resm,\r\n    });\r\n  }\r\n\r\n  getTenantList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/tenant/${this.props.property_id}`).then((response) => {\r\n        this.setState({ tenant_list: response.data });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  getInvoiceDateList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post(`/select_timePeriod_invoice/${this.state.tenant_id}`).then((response) => {\r\n        this.setState({\r\n          billing_dates: response.data\r\n        }, () => {\r\n          console.log(\"response from database: \", response.data);\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  getMeterInvoiceList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post(\"/invoice_history\", { property_id: this.state.property_id, from_date: this.state.from_date, to_date: this.state.to_date }).then((response) => {\r\n        console.log(\"invoice history response:\", response.data);\r\n        this.setState({\r\n          invoice_list: response.data.invoice_list,\r\n          tenant_list: response.data.tenant_list,\r\n          property_info: response.data.property_info,\r\n        });\r\n        this.forceUpdate();\r\n        resolve();\r\n        if (response.data.invoice_list == false || response.data.invoice_list.length === 0) {\r\n          alert(\"no invoice in selecting time peirod, make sure  generate invoice first using {Generate Invoice} on the side bar\");\r\n          return;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  generateDateTable() {\r\n    var resd = [];\r\n    this.getTenantList().then(() => {\r\n      var tableDataTenant = this.state.tenant_list;\r\n      console.log(tableDataTenant);\r\n      this.setState({\r\n        tenant_id: tableDataTenant[0].tenant_id\r\n      })\r\n      console.log(this.state.tenant_id)\r\n      this.getInvoiceDateList().then(() => {\r\n        var tableDataDate = this.state.billing_dates;\r\n        console.log(\"current date: \", tableDataDate)\r\n        for (var i = 0; i < tableDataDate.length; i++) {\r\n          resd.push(\r\n            <TableRow key={i} id={i}>\r\n              <TableCell>{tableDataDate[i].from_date.split(\"T\")[0]}</TableCell>\r\n              <TableCell>{tableDataDate[i].to_date.split(\"T\")[0]}</TableCell>\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell />\r\n              <TableCell>\r\n                <ShowDate\r\n                  property_id={this.props.property_id}\r\n                  from_date={tableDataDate[i].from_date.split(\"T\")[0]}\r\n                  to_date={tableDataDate[i].to_date.split(\"T\")[0]}\r\n                  methodfromparent={this.getCurrentInvoice}\r\n                  methodfromparenttwo={this.getCurrentInvoice_sub}\r\n                />\r\n              </TableCell>\r\n              <TableCell />\r\n            </TableRow>\r\n          )\r\n        }\r\n        this.resd = resd;\r\n        this.forceUpdate();\r\n      });\r\n    });\r\n    // console.log(current_tenant_id)\r\n  }\r\n\r\n  generateMeterTable() {\r\n    var res = [];\r\n    var resm = [];\r\n    var name = \"\";\r\n    var rubs = 0;\r\n    var total_footage = 0;\r\n    var total_building_amt_due = 0;\r\n    var total_kwh_usage = 0;\r\n    var temp_tenant_id = 0;\r\n    this.getMeterInvoiceList().then(() => {\r\n      var tableData = this.state.invoice_list;\r\n      var tableDataTenant = this.state.tenant_list;\r\n      var tableDataProperty = this.state.property_info;\r\n      console.log(this.state.invoice_list);\r\n      console.log(tableDataTenant);\r\n      console.log(tableDataProperty);\r\n      if (tableData.length > 0) {\r\n        var text = \"Viewing invoice of \" + this.state.from_date + \" to \" + this.state.to_date;\r\n        this.setState({\r\n          button_flag: true,\r\n          helper_text: text\r\n        })\r\n      }\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        for (var j = 0; j < tableDataTenant.length; j++) {\r\n          if (tableData[i].tenant_id === tableDataTenant[j].tenant_id) {\r\n            name = tableDataTenant[j].name;\r\n            rubs = tableDataTenant[j].rubs;\r\n            total_footage = rubs * tableDataProperty[0].total_footage;\r\n            total_building_amt_due = tableData[i].total_charge / rubs;\r\n            total_building_amt_due = total_building_amt_due.toFixed(2);\r\n            if (tableData[i].has_submeter === \"y\") {\r\n              total_kwh_usage = tableData[i].cur_read - tableData[i].prior_read;\r\n            }\r\n          }\r\n        }\r\n        if (rubs !== 0) {\r\n          res.push(\r\n            <TableRow key={i} id={i}>\r\n              <TableCell>{tableData[i].invoice_id}</TableCell>\r\n              <TableCell>{name}</TableCell>\r\n              <TableCell>{tableData[i].meter_id}</TableCell>\r\n              <TableCell>{tableData[i].from_date.split(\"T\")[0]}</TableCell>\r\n              <TableCell>{tableData[i].to_date.split(\"T\")[0]}</TableCell>\r\n              <TableCell>{tableData[i].meter_amt_due}</TableCell>\r\n              <TableCell>{rubs * 100 + \"%\"}</TableCell>\r\n              <TableCell>{total_footage}</TableCell>\r\n              <TableCell>{tableDataProperty[0].total_footage}</TableCell>\r\n              <TableCell>{total_building_amt_due}</TableCell>\r\n              <TableCell>{tableData[i].total_charge}</TableCell>\r\n            </TableRow>\r\n          );\r\n        } else {\r\n          resm.push(\r\n            <TableRow key={i} id={i}>\r\n              <TableCell>{tableData[i].invoice_id}</TableCell>\r\n              <TableCell>{name}</TableCell>\r\n              <TableCell>{tableData[i].submeter_id}</TableCell>\r\n              <TableCell>{tableData[i].from_date.split(\"T\")[0]}</TableCell>\r\n              <TableCell>{tableData[i].to_date.split(\"T\")[0]}</TableCell>\r\n              <TableCell>{tableData[i].submeter_charge}</TableCell>\r\n              <TableCell>{tableData[i].prior_read}</TableCell>\r\n              <TableCell>{tableData[i].cur_read}</TableCell>\r\n              <TableCell>{total_kwh_usage}</TableCell>\r\n              <TableCell>{tableData[i].unit_charge}</TableCell>\r\n              <TableCell>{tableData[i].total_charge}</TableCell>\r\n            </TableRow>\r\n          );\r\n        }\r\n      }\r\n      this.res = res;\r\n      this.resm = resm;\r\n      this.setState({\r\n        current_res: res,\r\n        current_resm: resm,\r\n      })\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.state.from_date == \"\" || this.state.to_date == \"\") {\r\n      alert(\"please select a time period\");\r\n      return;\r\n    }\r\n    this.generateMeterTable();\r\n    // if (this.state.invoice_list.length !== 0) {\r\n    //   var text = \"Viewing invoice of \" + this.state.from_date + \" to \" + this.state.to_date;\r\n    //   this.setState({\r\n    //     button_flag: true,\r\n    //     helper_text: text\r\n    //   })\r\n    // }\r\n    // this.generateDateTable();\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      button_flag: false\r\n    })\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n          Invoice Statement History\r\n        </Typography>\r\n        <TableContainer style={{ maxHeight: 600 }}>\r\n          <form noValidate>\r\n            <TextField\r\n              id=\"from_date\"\r\n              label=\"From\"\r\n              type=\"date\"\r\n              defaultValue={this.state.from_date}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onChange={this.handleFromDateChange}\r\n            />\r\n            <TextField\r\n              id=\"to_date\"\r\n              label=\"To\"\r\n              type=\"date\"\r\n              defaultValue={this.state.to_date}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onChange={this.handleToDateChange}\r\n            />\r\n          </form>\r\n          <Button onClick={this.onSubmit} color=\"primary\">\r\n            Show\r\n          </Button>\r\n          <Snackbar\r\n            anchorOrigin={{\r\n              vertical: 'top',\r\n              horizontal: 'center',\r\n            }}\r\n            open={this.state.button_flag}\r\n            autoHideDuration={6000}\r\n            onClose={this.handleClose}\r\n            message={this.state.helper_text}\r\n          />\r\n          <Table stickyHeader>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Invoice Start Date</TableCell>\r\n                <TableCell>Invoice End Date</TableCell>\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>{this.resd}</TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <TableContainer style={{ maxHeight: 500 }}>\r\n          <Table stickyHeader>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Invoice ID</TableCell>\r\n                <TableCell>Tenant Name</TableCell>\r\n                <TableCell>Meter ID</TableCell>\r\n                <TableCell>From</TableCell>\r\n                <TableCell>To</TableCell>\r\n                <TableCell>Meter Amount Due</TableCell>\r\n                <TableCell>RUBS</TableCell>\r\n                <TableCell>User Footage</TableCell>\r\n                <TableCell>Total Footage</TableCell>\r\n                <TableCell>Total Building Amount Due</TableCell>\r\n                <TableCell>Total Tenant Amount Due</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>{this.state.current_res}</TableBody>\r\n          </Table>\r\n          </TableContainer>\r\n          <Divider />\r\n          <Divider />\r\n          <Divider />\r\n          <Divider />\r\n          <Divider />\r\n          <Divider />\r\n          <Divider />\r\n          <Divider />\r\n          <Divider />\r\n          <TableContainer style={{ maxHeight: 500 }}>\r\n          <Table stickyHeader>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Invoice ID</TableCell>\r\n                <TableCell>Tenant Name</TableCell>\r\n                <TableCell>Submeter ID</TableCell>\r\n                <TableCell>From</TableCell>\r\n                <TableCell>To</TableCell>\r\n                <TableCell>Submeter Charge</TableCell>\r\n                <TableCell>Prior Read</TableCell>\r\n                <TableCell>Current Read</TableCell>\r\n                <TableCell>Total KWH Usage</TableCell>\r\n                <TableCell>Unit Charge</TableCell>\r\n                <TableCell>Total Amount Due</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>{this.state.current_resm}</TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <IndividualTenantInvoice\r\n          property_info={this.state.property_info}\r\n          tenant_list={this.state.tenant_list}\r\n          invoice_list={this.state.invoice_list}\r\n        />\r\n      </React.Fragment>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nclass ShowDate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      property_id: this.props.property_id,\r\n      // tenant_list: this.props.tenant_list,\r\n      from_date: this.props.from_date,\r\n      to_date: this.props.to_date,\r\n      current_res: [],\r\n      current_resm: [],\r\n      invoice_list: [],\r\n      tenant_list: [],\r\n      property_info: [],\r\n      button_flag: false,\r\n      helper_text: \"\",\r\n    }\r\n    this.getMeterInvoiceList = this.getMeterInvoiceList.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  getMeterInvoiceList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post(\"/invoice_history\", { property_id: this.state.property_id, from_date: this.state.from_date, to_date: this.state.to_date }).then((response) => {\r\n        console.log(\"invoice history response:\", response.data);\r\n        this.setState({\r\n          invoice_list: response.data.invoice_list,\r\n          tenant_list: response.data.tenant_list,\r\n          property_info: response.data.property_info,\r\n        });\r\n        this.forceUpdate();\r\n        resolve();\r\n        if (response.data.invoice_list == false || response.data.invoice_list.length === 0) {\r\n          alert(\"no invoice in selecting time peirod, make sure  generate invoice first using {Generate Invoice} on the side bar\");\r\n          return;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  generateMeterTable() {\r\n    var res = [];\r\n    var resm = [];\r\n    var name = \"\";\r\n    var rubs = 0;\r\n    var total_footage = 0;\r\n    var total_building_amt_due = 0;\r\n    var total_kwh_usage = 0;\r\n    var temp_tenant_id = 0;\r\n    this.getMeterInvoiceList().then(() => {\r\n      var tableData = this.state.invoice_list;\r\n      var tableDataTenant = this.state.tenant_list;\r\n      var tableDataProperty = this.state.property_info;\r\n      console.log(this.state.invoice_list);\r\n      console.log(tableDataTenant);\r\n      console.log(tableDataProperty);\r\n      if (tableData.length > 0) {\r\n        var text = \"Viewing invoice of \" + this.state.from_date + \" to \" + this.state.to_date;\r\n        this.setState({\r\n          button_flag: true,\r\n          helper_text: text\r\n        })\r\n      }\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        for (var j = 0; j < tableDataTenant.length; j++) {\r\n          if (tableData[i].tenant_id === tableDataTenant[j].tenant_id) {\r\n            name = tableDataTenant[j].name;\r\n            rubs = tableDataTenant[j].rubs;\r\n            total_footage = rubs * tableDataProperty[0].total_footage;\r\n            total_building_amt_due = tableData[i].total_charge / rubs;\r\n            total_building_amt_due = total_building_amt_due.toFixed(2);\r\n            if (tableData[i].has_submeter === \"y\") {\r\n              total_kwh_usage = tableData[i].cur_read - tableData[i].prior_read;\r\n            }\r\n          }\r\n        }\r\n        if (rubs !== 0) {\r\n          res.push(\r\n            <TableRow key={i} id={i}>\r\n              <TableCell>{tableData[i].invoice_id}</TableCell>\r\n              <TableCell>{name}</TableCell>\r\n              <TableCell>{tableData[i].meter_id}</TableCell>\r\n              <TableCell>{tableData[i].from_date.split(\"T\")[0]}</TableCell>\r\n              <TableCell>{tableData[i].to_date.split(\"T\")[0]}</TableCell>\r\n              <TableCell>{tableData[i].meter_amt_due}</TableCell>\r\n              <TableCell>{rubs * 100 + \"%\"}</TableCell>\r\n              <TableCell>{total_footage}</TableCell>\r\n              <TableCell>{tableDataProperty[0].total_footage}</TableCell>\r\n              <TableCell>{total_building_amt_due}</TableCell>\r\n              <TableCell>{tableData[i].total_charge}</TableCell>\r\n            </TableRow>\r\n          );\r\n        } else {\r\n          resm.push(\r\n            <TableRow key={i} id={i}>\r\n              <TableCell>{tableData[i].invoice_id}</TableCell>\r\n              <TableCell>{name}</TableCell>\r\n              <TableCell>{tableData[i].submeter_id}</TableCell>\r\n              <TableCell>{tableData[i].from_date.split(\"T\")[0]}</TableCell>\r\n              <TableCell>{tableData[i].to_date.split(\"T\")[0]}</TableCell>\r\n              <TableCell>{tableData[i].submeter_charge}</TableCell>\r\n              <TableCell>{tableData[i].prior_read}</TableCell>\r\n              <TableCell>{tableData[i].cur_read}</TableCell>\r\n              <TableCell>{total_kwh_usage}</TableCell>\r\n              <TableCell>{tableData[i].unit_charge}</TableCell>\r\n              <TableCell>{tableData[i].total_charge}</TableCell>\r\n            </TableRow>\r\n          );\r\n        }\r\n      }\r\n      this.res = res;\r\n      this.resm = resm;\r\n      this.setState({ current_res: res, current_resm: resm }, () => {\r\n        this.props.methodfromparent(res, this.state.invoice_list, this.state.tenant_list, this.state.property_info);\r\n        this.props.methodfromparenttwo(resm);\r\n      });\r\n      console.log(\"tryone\" + this.state.current_resm)\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log(this.state.property_id, this.state.from_date, this.state.to_date, this.state.invoice_list, this.state.tenant_list)\r\n    this.generateMeterTable();\r\n    this.forceUpdate();\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      button_flag: false\r\n    })\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Button color=\"primary\" onClick={this.onSubmit}>\r\n          Show\r\n        </Button>\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'center',\r\n          }}\r\n          open={this.state.button_flag}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          message={this.state.helper_text}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InvoiceHistory_m;\r\n","import React, { Component } from \"react\";\r\nimport InvoiceHistory_m from \"./InvoiceHistory_m\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport axios from \"axios\";\r\n\r\nclass InvoiceHistory extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tenant_list: [],\r\n    };\r\n    this.getTenantList = this.getTenantList.bind(this);\r\n    this.getTenantList();\r\n  }\r\n\r\n  getTenantList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/tenant/${this.props.property_id}`).then((response) => {\r\n        this.setState({ tenant_list: response.data });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const useStyles = makeStyles((theme) => ({\r\n      container: {\r\n        paddingTop: theme.spacing(4),\r\n        paddingBottom: theme.spacing(4),\r\n      },\r\n      paper: {\r\n        padding: theme.spacing(2),\r\n        display: \"flex\",\r\n        overflow: \"auto\",\r\n        flexDirection: \"column\",\r\n      },\r\n      fixedHeight: {\r\n        height: 240,\r\n      },\r\n    }));\r\n    return (\r\n      <div className=\"leftOffset\">\r\n        <React.Fragment>\r\n          <Container maxWidth=\"lg\" className={useStyles.container}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={12} lg={12}>\r\n                <Paper>\r\n                  <InvoiceHistory_m className=\"display_item\" property_id={this.props.property_id} tenant_list={this.state.tenant_list} info={this} />\r\n                </Paper>\r\n              </Grid>\r\n              <Grid item xs={12} md={12} lg={12}>\r\n                <Paper>\r\n                  {/* <InvoiceHistory_sub\r\n                    className=\"display_item\"\r\n                    property_id={this.props.property_id}\r\n                    tenant_list={this.state.tenant_list}\r\n                    info={this}\r\n                  /> */}\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n          {/* <IndividualTenantInvoice\r\n            tenant_list={this.state.tenant_list}\r\n          /> */}\r\n        </React.Fragment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default InvoiceHistory;\r\n","import React from \"react\";\r\nimport \"./../App.css\";\r\nimport MeterBillPage from \"./PropMana/Meter/MeterBillPage\";\r\nimport axios from \"axios\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { TableContainer } from \"@material-ui/core\";\r\n\r\nclass UtilityBillMeter extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      meter_list: this.props.meter_list,\r\n      meter_id: \"\",\r\n      property_id: this.props.property_id,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.generateTable();\r\n  }\r\n\r\n  getMeterList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/meter/${this.state.property_id}`).then((response) => {\r\n        this.setState({ meter_list: response.data }, () => {\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  generateTable() {\r\n    var res = [];\r\n    this.getMeterList().then(() => {\r\n      var tableData = this.state.meter_list;\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        res.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell key={this.state.meter_list[i].meter_id}>{this.state.meter_list[i].meter_id}</TableCell>\r\n            <TableCell></TableCell>\r\n            <TableCell></TableCell>\r\n            <TableCell></TableCell>\r\n            <TableCell>\r\n              <MeterBillPage meter_id={this.state.meter_list[i].meter_id} />\r\n            </TableCell>\r\n          </TableRow>\r\n        );\r\n      }\r\n      this.res = res;\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n          Meters\r\n        </Typography>\r\n        <TableContainer style={{ maxHeight: 400 }}>\r\n        <Table size=\"small\" stickyHeader>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Meter numbers</TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>{this.res}</TableBody>\r\n        </Table>\r\n        </TableContainer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UtilityBillMeter;\r\n","import React from \"react\";\r\nimport \"./../App.css\";\r\nimport SubmeterBill from \"./PropMana/Submeter/SubmeterBill\";\r\nimport axios from \"axios\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { TableContainer } from \"@material-ui/core\";\r\n\r\nclass UtilityBillSubmeter extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      meter_list: this.props.meter_list,\r\n      meter_id: this.props.meter_id,\r\n      property_id: this.props.property_id,\r\n      tenant_id: [],\r\n      tenant_list: [],\r\n      submeter_list: [],\r\n    };\r\n    this.generateTable = this.generateTable.bind(this);\r\n    this.getSubmeterList = this.getSubmeterList.bind(this);\r\n    this.getTenantList = this.getTenantList.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.generateTable();\r\n  }\r\n\r\n  getTenantList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/tenant/${this.state.property_id}`).then((response) => {\r\n        this.setState({ tenant_list: response.data });\r\n        resolve();\r\n      });\r\n      console.log(this.state.tenant_list);\r\n    });\r\n  }\r\n\r\n  getSubmeterList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/submeter/${this.state.tenant_id}`).then((response) => {\r\n        this.setState({ submeter_list: response.data });\r\n        resolve();\r\n      });\r\n    });\r\n  }\r\n\r\n  generateTable() {\r\n    //call updateTable everytime when we need to generate a list of submeter and multiplier\r\n    // see hardcode below in render() function\r\n    var res = [];\r\n    this.getTenantList().then(() => {\r\n      let tableData = this.state.tenant_list;\r\n      console.log(\"tenant list is: \", tableData)\r\n      var gg = 0;\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        if (tableData[i].rubs === 0) {\r\n          this.setState({\r\n            tenant_id: tableData[i].tenant_id\r\n          })\r\n          console.log(\"tenant id: \", this.state.tenant_id)\r\n          this.getSubmeterList().then(() => {\r\n            let tableDataSub = this.state.submeter_list;\r\n            console.log()\r\n            for (var j = 0; j < tableDataSub.length; j++) {\r\n              res.push(\r\n                <TableRow key={gg} id={gg}>\r\n                  <TableCell>{tableDataSub[j].submeter_id}</TableCell>\r\n                  <TableCell>{tableDataSub[j].multiplier}</TableCell>\r\n                  <TableCell>{tableDataSub[j].meter_id}</TableCell>\r\n                  <TableCell />\r\n                  <TableCell>\r\n                    <SubmeterBill\r\n                      submeter_id={tableDataSub[j].submeter_id}\r\n                      tenant_id={tableDataSub[j].tenant_id}\r\n                      info={this}\r\n                      meter_id={tableDataSub[j].meter_id}\r\n                      property_id={this.state.property_id}\r\n                      multiplier={tableDataSub[j].multiplier}\r\n                    />\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n              gg++;\r\n            }\r\n            console.log(\"ressfsafas\", res.length);\r\n            this.res = res;\r\n            this.forceUpdate();\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n          Submeters\r\n        </Typography>\r\n        <TableContainer style={{ maxHeight: 400 }}>\r\n          <Table size=\"small\" stickyHeader>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Submeter numbers</TableCell>\r\n                <TableCell>Multiplier</TableCell>\r\n                <TableCell>Associated Meter</TableCell>\r\n                <TableCell></TableCell>\r\n                <TableCell></TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>{this.res}</TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UtilityBillSubmeter;\r\n","import React from \"react\";\r\nimport \"./../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\n\r\nclass DeleteMetersBill extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n    };\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  deleteMetersBill() {\r\n    console.log(\"bill -id\", this.props.bill_id);\r\n    return new Promise((resolve, reject) => {\r\n        axios.delete(\"/deletebill\", {data: {bill_id : this.props.bill_id}}).then((response) => {\r\n            });\r\n            alert(\"please click show to see updates\");\r\n            resolve();\r\n      });\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n    this.deleteMetersBill();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button color=\"secondary\" onClick={this.handleClickOpen}>\r\n          Delete\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n          <DialogTitle id=\"alert-dialog-title\">{\"Delete Meter\"}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">Are you sure you want to delete this Bill?</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Back\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"secondary\" autoFocus>\r\n              Delete\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DeleteMetersBill;\r\n","import React from \"react\";\r\nimport \"./../App.css\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport axios from \"axios\";\r\n\r\nclass DeleteSubMeterBill extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n    };\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  deleteMetersBill() {\r\n    console.log(\"bill -id\", this.props.bill_id);\r\n    return new Promise((resolve, reject) => {\r\n        axios.delete(\"/deletesub_bill\", {data: {bill_id : this.props.bill_id}}).then((response) => {\r\n            });\r\n            resolve();\r\n            alert(\"please click show to see updates\");\r\n      });\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n    this.deleteMetersBill();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Button color=\"secondary\" onClick={this.handleClickOpen}>\r\n          Delete\r\n        </Button>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n          <DialogTitle id=\"alert-dialog-title\">{\"Delete Meter\"}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">Are you sure you want to delete this Bill?</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Back\r\n            </Button>\r\n            <Button onClick={this.onSubmit} color=\"secondary\" autoFocus>\r\n              Delete\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default DeleteSubMeterBill;\r\n","import \"date-fns\";\r\nimport React from \"react\";\r\nimport \"./../App.css\";\r\nimport axios from \"axios\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DeleteMetersBill from \"./DeleteMeterBill\";\r\nimport { isThisISOWeek } from \"date-fns\";\r\nimport DeleteSubMeterBill from \"./DeleteSubMeterBill\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nclass BillingHistory extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      property_id: this.props.property_id,\r\n      tenant_list: this.props.tenant_list,\r\n      from_date: \"\",\r\n      to_date: \"\",\r\n      submeter_bill_id: \"\",\r\n      bill_id: \"\",\r\n      submeter_id: \"\",\r\n      prior_read: \"\",\r\n      current_read: \"\",\r\n      amt_due: \"\",\r\n      bill_list: [],\r\n      submeter_bill_list: [],\r\n      unit_charge: \"\",\r\n      meter_id: this.props.meter_id,\r\n      billing_dates: [],\r\n      current_resm: [],\r\n      current_res: [],\r\n      button_flag: false,\r\n      helper_text: \"\",\r\n    };\r\n    this.handleFromDateChange = this.handleFromDateChange.bind(this);\r\n    this.handleToDateChange = this.handleToDateChange.bind(this);\r\n    this.getMeterBillList = this.getMeterBillList.bind(this);\r\n    this.getSubmeterBillList = this.getSubmeterBillList.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.getBillingDates = this.getBillingDates.bind(this);\r\n    this.getCurrentBill = this.getCurrentBill.bind(this);\r\n    this.getCurrentSubBill = this.getCurrentSubBill.bind(this);\r\n    this.getHelperText = this.getHelperText.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.generateBillingDateTable();\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.generateMeterTable();\r\n    // this.generateSubmeterTable();\r\n  }\r\n\r\n  handleFromDateChange(event) {\r\n    this.setState(\r\n      {\r\n        from_date: event.target.value,\r\n      },\r\n      () => {\r\n        console.log(this.state.from_date);\r\n      }\r\n    );\r\n  }\r\n\r\n  handleToDateChange(event) {\r\n    this.setState(\r\n      {\r\n        to_date: event.target.value,\r\n      },\r\n      () => {\r\n        console.log(this.state.to_date);\r\n      }\r\n    );\r\n  }\r\n\r\n  getBillingDates() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get(`/alltime_period/${this.state.property_id}`).then((response) => {\r\n        this.setState({\r\n          billing_dates: response.data\r\n        }, () => {\r\n          console.log(\"response from database: \", response.data);\r\n          resolve();\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  getMeterBillList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(\r\n          `/history_meterbill_list/${this.state.property_id}/${this.state.from_date}/${this.state.to_date}\r\n            `\r\n        )\r\n        .then((response) => {\r\n          console.log(\"response from database: \", response.data);\r\n          this.setState({ bill_list: response.data }, () => {\r\n            console.log(\"bill list\", this.state.bill_list);\r\n            resolve();\r\n          });\r\n        });\r\n      //  console.log(\"bill list:\", this.state.bill_list);\r\n    });\r\n  }\r\n\r\n  getSubmeterBillList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(\r\n          `/history_submeterbill_list/${this.state.property_id}/${this.state.from_date}/${this.state.to_date}\r\n            `\r\n        )\r\n        .then((response) => {\r\n          console.log(\"response from database: \", response.data);\r\n          this.setState({ submeter_bill_list: response.data }, () => {\r\n            console.log(\"submeter bill list\", this.state.submeter_bill_list);\r\n            resolve();\r\n          });\r\n        });\r\n      //  console.log(\"bill list:\", this.state.bill_list);\r\n    });\r\n  }\r\n\r\n  onSubmit() {\r\n    if (this.state.from_date == \"\" || this.state.to_date == \"\") {\r\n      alert(\"please select a time period\");\r\n      return;\r\n    }\r\n    this.generateMeterTable();\r\n    this.generateSubmeterTable();\r\n    var text = \"Viewing bill of \" + this.state.from_date + \" to \" + this.state.to_date;\r\n    this.setState({\r\n      button_flag: true,\r\n      helper_text: text\r\n    })\r\n    console.log(\"bill list length:\", this.state.bill_list.length);\r\n    console.log(this.state.from_date, this.state.to_date, this.state.bill_list, this.state.submeter_bill_list);\r\n  }\r\n\r\n  getCurrentBill(cur_resm) {\r\n    console.log(\"test test:\", cur_resm)\r\n    this.setState({\r\n      current_resm: cur_resm,\r\n      // current_res: cur_res,\r\n    });\r\n  }\r\n\r\n  getCurrentSubBill(cur_res) {\r\n    console.log(\"test test:\", cur_res)\r\n    this.setState({\r\n      current_res: cur_res,\r\n      // current_res: cur_res,\r\n    });\r\n  }\r\n\r\n  getHelperText(help) {\r\n    console.log(\"helper: \", help)\r\n    this.setState({\r\n      helper_text: help,\r\n    })\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      button_flag: false\r\n    })\r\n  };\r\n\r\n  generateMeterTable() {\r\n    var resm = [];\r\n    this.getMeterBillList().then(() => {\r\n      var tableData = this.state.bill_list;\r\n      if (tableData.length == 0) {\r\n        alert(\"No bills in current time period, please manually input !\");\r\n        return;\r\n      }\r\n      console.log(this.state.bill_list);\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        resm.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell>{tableData[i].bill_id}</TableCell>\r\n            <TableCell>{tableData[i].meter_id}</TableCell>\r\n            <TableCell>{tableData[i].from_date.split(\"T\")[0]}</TableCell>\r\n            <TableCell>{tableData[i].to_date.split(\"T\")[0]}</TableCell>\r\n            <TableCell>{tableData[i].total_kwh_usage}</TableCell>\r\n            {/* <TableCell>{tableData[i].unit_charge}</TableCell> */}\r\n            <TableCell>{tableData[i].total_charge}</TableCell>\r\n          </TableRow>\r\n        );\r\n      }\r\n      this.resm = resm;\r\n      this.setState({\r\n        current_resm: resm\r\n      })\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  generateSubmeterTable() {\r\n    var res = [];\r\n    console.log(\"where are you\", this.state.submeter_bill_list)\r\n    this.getSubmeterBillList().then(() => {\r\n      var tableData = this.state.submeter_bill_list;\r\n\r\n      console.log(this.state.submeter_bill_list);\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        res.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell>{tableData[i].submeter_bill_id}</TableCell>\r\n            <TableCell>{tableData[i].bill_id}</TableCell>\r\n            <TableCell>{tableData[i].submeter_id}</TableCell>\r\n            <TableCell>{tableData[i].prior_read}</TableCell>\r\n            <TableCell>{tableData[i].cur_read}</TableCell>\r\n            <TableCell>{tableData[i].unit_charge}</TableCell>\r\n            <TableCell>{tableData[i].amt_due}</TableCell>\r\n          </TableRow>\r\n        );\r\n      }\r\n      this.res = res;\r\n      this.setState({\r\n        current_res: res\r\n      })\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n\r\n  generateBillingDateTable() {\r\n    var resb = [];\r\n    this.getBillingDates().then(() => {\r\n      var tableData = this.state.billing_dates;\r\n      console.log(\"bill date::\", this.state.billing_dates)\r\n      if (tableData[0].from_date === null) {\r\n        return;\r\n      }\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        // var temp_from = tableData[i].from_date.split(\"T\")[0];\r\n        // var temp_to = tableData[i].to_date.split(\"T\")[0];\r\n        resb.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell>{tableData[i].from_date.split(\"T\")[0]}</TableCell>\r\n            <TableCell>{tableData[i].to_date.split(\"T\")[0]}</TableCell>\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell />\r\n            <TableCell>\r\n              <ShowDate\r\n                property_id={this.props.property_id}\r\n                // tenant_list={this.props.tenant_list}\r\n                from_date={tableData[i].from_date.split(\"T\")[0]}\r\n                to_date={tableData[i].to_date.split(\"T\")[0]}\r\n                methodfromparent={this.getCurrentBill}\r\n                methodfromparenttwo={this.getCurrentSubBill}\r\n                methodfromparentthree={this.getHelperText}\r\n              />\r\n            </TableCell>\r\n            <TableCell />\r\n          </TableRow>\r\n        )\r\n      }\r\n      this.resb = resb;\r\n      this.forceUpdate();\r\n\r\n    });\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n          Billing History\r\n        </Typography>\r\n        <TableContainer style={{ maxHeight: 600 }}>\r\n          <form noValidate>\r\n            <TextField\r\n              id=\"from_date\"\r\n              label=\"From\"\r\n              type=\"date\"\r\n              defaultValue={this.state.from_date}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onChange={this.handleFromDateChange}\r\n            />\r\n            <TextField\r\n              id=\"to_date\"\r\n              label=\"To\"\r\n              type=\"date\"\r\n              defaultValue={this.state.to_date}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              onChange={this.handleToDateChange}\r\n            />\r\n          </form>\r\n          <DialogContentText />\r\n          <Button onClick={this.onSubmit} color=\"primary\">\r\n            Show\r\n          </Button>\r\n          <Snackbar\r\n            anchorOrigin={{\r\n              vertical: 'top',\r\n              horizontal: 'center',\r\n            }}\r\n            open={this.state.button_flag}\r\n            autoHideDuration={6000}\r\n            onClose={this.handleClose}\r\n            message={this.state.helper_text}\r\n          />\r\n          <Table stickyHeader>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Billing Start Date</TableCell>\r\n                <TableCell>Billing End Date</TableCell>\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n                <TableCell />\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {this.resb}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <TableContainer style={{ maxHeight: 400 }} component={Paper}>\r\n          <Table stickyHeader>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Meter Bill ID</TableCell>\r\n                <TableCell>Meter</TableCell>\r\n                <TableCell>Billing Start Date</TableCell>\r\n                <TableCell>Billing End Date</TableCell>\r\n                <TableCell>Total KWH Usage</TableCell>\r\n                {/* <TableCell>Unit Charge</TableCell> */}\r\n                <TableCell>Total Charge</TableCell>\r\n                <TableCell />\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>{this.state.current_resm}</TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <Divider />\r\n        <TableContainer style={{ maxHeight: 400 }} component={Paper}>\r\n          <Table stickyHeader>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Submeter Bill ID</TableCell>\r\n                <TableCell>Associate with Bill ID:</TableCell>\r\n                <TableCell>Submeter</TableCell>\r\n                <TableCell>Prior Read</TableCell>\r\n                <TableCell>Current Read</TableCell>\r\n                <TableCell>Unit Charge</TableCell>\r\n                <TableCell>Amount Due</TableCell>\r\n                <TableCell />\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>{this.state.current_res}</TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nclass ShowDate extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      property_id: this.props.property_id,\r\n      // tenant_list: this.props.tenant_list,\r\n      from_date: this.props.from_date,\r\n      to_date: this.props.to_date,\r\n      current_resm: [],\r\n      current_res: [],\r\n      bill_list: [],\r\n      submeter_bill_list: [],\r\n      button_flag: false,\r\n      helper_text: \"\",\r\n    }\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.getMeterBillList = this.getMeterBillList.bind(this);\r\n    this.getSubmeterBillList = this.getSubmeterBillList.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  getMeterBillList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(\r\n          `/history_meterbill_list/${this.state.property_id}/${this.state.from_date}/${this.state.to_date}\r\n            `\r\n        )\r\n        .then((response) => {\r\n          this.setState({ bill_list: response.data }, () => {\r\n            resolve();\r\n          });\r\n        });\r\n      //  console.log(\"bill list:\", this.state.bill_list);\r\n    });\r\n  }\r\n\r\n  getSubmeterBillList() {\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(\r\n          `/history_submeterbill_list/${this.state.property_id}/${this.state.from_date}/${this.state.to_date}\r\n            `\r\n        )\r\n        .then((response) => {\r\n          this.setState({ submeter_bill_list: response.data }, () => {\r\n            resolve();\r\n          });\r\n        });\r\n      //  console.log(\"bill list:\", this.state.bill_list);\r\n    });\r\n  }\r\n\r\n  generateMeterTable() {\r\n    var resm = [];\r\n    this.getMeterBillList().then(() => {\r\n      var tableData = this.state.bill_list;\r\n      if (tableData.length == 0) {\r\n        alert(\"No bills in current time period, please manually input !\");\r\n        return;\r\n      }\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        resm.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell>{tableData[i].bill_id}</TableCell>\r\n            <TableCell>{tableData[i].meter_id}</TableCell>\r\n            <TableCell>{tableData[i].from_date.split(\"T\")[0]}</TableCell>\r\n            <TableCell>{tableData[i].to_date.split(\"T\")[0]}</TableCell>\r\n            <TableCell>{tableData[i].total_kwh_usage}</TableCell>\r\n            {/* <TableCell>{tableData[i].unit_charge}</TableCell> */}\r\n            <TableCell>{tableData[i].total_charge}</TableCell>\r\n            <TableCell>\r\n              <DeleteMetersBill bill_id={tableData[i].bill_id} generateTableData={this.onSubmit} />\r\n            </TableCell>\r\n          </TableRow>\r\n\r\n        );\r\n      }\r\n      this.resm = resm;\r\n      // this.setState({\r\n      //   current_resm: resm\r\n      // })\r\n      this.setState({ current_resm: resm }, () => {\r\n        this.props.methodfromparent(resm);\r\n      });\r\n      console.log(\"tryone\" + this.state.current_resm)\r\n      // this.forceUpdate();\r\n    });\r\n    // this.setState({\r\n    //   current_resm: resm\r\n    // })\r\n    // console.log(\"tryonepointfive\", resm)\r\n    // this.forceUpdate();\r\n    // console.log(\"trytwo\", this.state.current_resm)\r\n    // return resm;\r\n  }\r\n\r\n  generateSubmeterTable() {\r\n    var res = [];\r\n    this.getSubmeterBillList().then(() => {\r\n      var tableData = this.state.submeter_bill_list;\r\n      for (var i = 0; i < tableData.length; i++) {\r\n        res.push(\r\n          <TableRow key={i} id={i}>\r\n            <TableCell>{tableData[i].submeter_bill_id}</TableCell>\r\n            <TableCell>{tableData[i].bill_id}</TableCell>\r\n            <TableCell>{tableData[i].submeter_id}</TableCell>\r\n            <TableCell>{tableData[i].prior_read}</TableCell>\r\n            <TableCell>{tableData[i].cur_read}</TableCell>\r\n            <TableCell>{tableData[i].unit_charge}</TableCell>\r\n            <TableCell>{tableData[i].amt_due}</TableCell>\r\n            <TableCell>\r\n              <DeleteSubMeterBill bill_id={tableData[i].submeter_bill_id} generateTableData={this.onSubmit} />\r\n            </TableCell>\r\n          </TableRow>\r\n        );\r\n      }\r\n      this.res = res;\r\n      this.setState({ current_res: res }, () => {\r\n        this.props.methodfromparenttwo(res);\r\n      });\r\n      this.forceUpdate();\r\n    });\r\n    // this.setState({\r\n    //   current_res: res\r\n    // })\r\n  }\r\n\r\n  onSubmit() {\r\n    console.log(this.state.property_id, this.state.from_date, this.state.to_date)\r\n    this.generateMeterTable();\r\n    this.generateSubmeterTable();\r\n    var text = \"Viewing bill of \" + this.state.from_date + \" to \" + this.state.to_date;\r\n    this.setState({\r\n      button_flag: true,\r\n      helper_text: text\r\n    }, () => {\r\n      this.props.methodfromparentthree(text)\r\n    })\r\n    this.forceUpdate();\r\n    // this.setState({\r\n\r\n    // }, function () {\r\n    //   console.log(\"current resm: \"+this.state.current_resm)\r\n    //   this.props.methodfromparent(this.state.current_resm, this.state.current_res);\r\n    // })\r\n    // console.log(\"cirrent:\", );\r\n    // this.props.methodfromparent(this.state.current_resm, this.res);\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      button_flag: false\r\n    })\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <Button color=\"primary\" onClick={this.onSubmit}>\r\n          Show\r\n        </Button>\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'center',\r\n          }}\r\n          open={this.state.button_flag}\r\n          autoHideDuration={6000}\r\n          onClose={this.handleClose}\r\n          message={this.state.helper_text}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BillingHistory;\r\n","import React from \"react\";\r\nimport \"./../App.css\";\r\nimport UtilityBillMeter from \"./UtilityBillMeter\";\r\nimport UtilityBillSubmeter from \"./UtilityBillSubmeter\";\r\nimport BillingHistory from \"./BillingHistory\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nclass UtilityBillingHistory extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      display: this.props.display,\r\n      property_id: this.props.property_id,\r\n      tenant_list: this.props.tenant_list,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const useStyles = makeStyles((theme) => ({\r\n      container: {\r\n        paddingTop: theme.spacing(4),\r\n        paddingBottom: theme.spacing(4),\r\n      },\r\n      paper: {\r\n        padding: theme.spacing(2),\r\n        display: \"flex\",\r\n        overflow: \"auto\",\r\n        flexDirection: \"column\",\r\n      },\r\n      fixedHeight: {\r\n        height: 240,\r\n      },\r\n    }));\r\n    return (\r\n      <div className=\"leftOffset\">\r\n        <React.Fragment>\r\n          <Container maxWidth=\"lg\" className={useStyles.container}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={12} lg={12}>\r\n                <Paper>\r\n                  <BillingHistory className=\"display_item\" property_id={this.state.property_id} tenant_list={this.state.tenant_list} info={this} />\r\n                </Paper>\r\n              </Grid>\r\n              <Grid item xs={12} md={12} lg={12}>\r\n                <Paper>\r\n                  <UtilityBillMeter className=\"display_item\" property_id={this.state.property_id} info={this} />\r\n                </Paper>\r\n              </Grid>\r\n              <Grid item xs={12} md={12} lg={12}>\r\n                <Paper>\r\n                  <UtilityBillSubmeter className=\"display_item\" property_id={this.state.property_id} info={this} />\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n          </Container>\r\n        </React.Fragment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UtilityBillingHistory;\r\n","import { Component } from \"react\";\r\nimport { region } from \"./UserPool\";\r\nimport { Table, TableBody, TableCell, TableRow, TextField, Button } from \"@material-ui/core\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nconst aws = require(\"aws-sdk\");\r\n\r\nclass UserProfile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      success: true,\r\n      username: sessionStorage.getItem(\"username\"),\r\n      \"custom:company_name\": sessionStorage.getItem(\"custom:company_name\"),\r\n      \"custom:street_name\": sessionStorage.getItem(\"custom:street_name\"),\r\n      \"custom:suite_number\": sessionStorage.getItem(\"custom:suite_number\"),\r\n      \"custom:city\": sessionStorage.getItem(\"custom:city\"),\r\n      \"custom:state\": sessionStorage.getItem(\"custom:state\"),\r\n      \"custom:zipcode\": sessionStorage.getItem(\"custom:zipcode\"),\r\n    };\r\n  }\r\n\r\n  edit_attributes(attribute_name) {\r\n    var params = {\r\n      AccessToken: JSON.parse(sessionStorage.getItem(\"accessToken\")).jwtToken,\r\n      UserAttributes: [\r\n        {\r\n          Name: attribute_name == \"username\" ? \"email\" : attribute_name,\r\n          Value: this.state[attribute_name],\r\n        },\r\n      ],\r\n    };\r\n    var cognitoidentityserviceprovider = new aws.CognitoIdentityServiceProvider({ region: region });\r\n    cognitoidentityserviceprovider.updateUserAttributes(params, (err, data) => {\r\n      if (err) {\r\n        console.log(err);\r\n        this.setState({ success: false, open: true });\r\n      } else {\r\n        sessionStorage.setItem(attribute_name, this.state[attribute_name]);\r\n        this.setState({ success: true, open: true });\r\n      }\r\n    });\r\n  }\r\n\r\n  changeUsername = (event) => {\r\n    this.setState({\r\n      username: event.target.value,\r\n    });\r\n  };\r\n\r\n  changeCompanyName = (event) => {\r\n    this.setState({\r\n      \"custom:company_name\": event.target.value,\r\n    });\r\n  };\r\n\r\n  changeStreetName = (event) => {\r\n    this.setState({\r\n      \"custom:street_name\": event.target.value,\r\n    });\r\n  };\r\n\r\n  changeSuiteNumber = (event) => {\r\n    this.setState({\r\n      \"custom:suite_number\": event.target.value,\r\n    });\r\n  };\r\n\r\n  changeCity = (event) => {\r\n    this.setState({\r\n      \"custom:city\": event.target.value,\r\n    });\r\n  };\r\n\r\n  changeState = (event) => {\r\n    this.setState({\r\n      \"custom:state\": event.target.value,\r\n    });\r\n  };\r\n\r\n  changeZipcode = (event) => {\r\n    this.setState({\r\n      \"custom:zipcode\": event.target.value,\r\n    });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ open: false });\r\n  };\r\n\r\n  dialog_text = () => {\r\n    if (this.state.success) {\r\n      return \"Your change was successful.\";\r\n    } else {\r\n      return \"Your change was unsuccessful.\";\r\n    }\r\n  };\r\n\r\n  dialog_title = () => {\r\n    if (this.state.success) {\r\n      return \"Update Succeeded\";\r\n    } else {\r\n      return \"Update Failed\";\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Table>\r\n          <TableBody>\r\n            <TableRow>\r\n              <TableCell>email</TableCell>\r\n              <TableCell>\r\n                <TextField type=\"text\" value={this.state.username} onChange={this.changeUsername} fullWidth />\r\n              </TableCell>\r\n              <TableCell>\r\n                <Button onClick={() => this.edit_attributes(\"username\")}>Change</Button>\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Company Name</TableCell>\r\n              <TableCell>\r\n                <TextField type=\"text\" value={this.state[\"custom:company_name\"]} onChange={this.changeCompanyName} fullWidth />\r\n              </TableCell>\r\n              <TableCell>\r\n                <Button onClick={() => this.edit_attributes(\"custom:company_name\")}>Change</Button>\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Street Address</TableCell>\r\n              <TableCell>\r\n                <TextField type=\"text\" value={this.state[\"custom:street_name\"]} onChange={this.changeStreetName} fullWidth />\r\n              </TableCell>\r\n              <TableCell>\r\n                <Button onClick={() => this.edit_attributes(\"custom:street_name\")}>Change</Button>\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>Suite</TableCell>\r\n              <TableCell>\r\n                <TextField type=\"text\" value={this.state[\"custom:suite_number\"]} onChange={this.changeSuiteNumber} fullWidth />\r\n              </TableCell>\r\n              <TableCell>\r\n                <Button onClick={() => this.edit_attributes(\"custom:suite_number\")}>Change</Button>\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>City</TableCell>\r\n              <TableCell>\r\n                <TextField type=\"text\" value={this.state[\"custom:city\"]} onChange={this.changeCity} fullWidth />\r\n              </TableCell>\r\n              <TableCell>\r\n                <Button onClick={() => this.edit_attributes(\"custom:city\")}>Change</Button>\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>State</TableCell>\r\n              <TableCell>\r\n                <TextField type=\"text\" value={this.state[\"custom:state\"]} onChange={this.changeState} fullWidth />\r\n              </TableCell>\r\n              <TableCell>\r\n                <Button onClick={() => this.edit_attributes(\"custom:state\")}>Change</Button>\r\n              </TableCell>\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell>zipcode</TableCell>\r\n              <TableCell>\r\n                <TextField type=\"text\" value={this.state[\"custom:zipcode\"]} onChange={this.changeZipcode} fullWidth />\r\n              </TableCell>\r\n              <TableCell>\r\n                <Button onClick={() => this.edit_attributes(\"custom:zipcode\")}>Change</Button>\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableBody>\r\n        </Table>\r\n        <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"alert-dialog-title\" aria-describedby=\"alert-dialog-description\">\r\n          <DialogTitle id=\"alert-dialog-title\">{this.dialog_title()}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.dialog_text()}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.handleClose} color=\"primary\">\r\n              Ok\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProfile;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./../App.css\";\r\nimport { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport DatePicker from \"./DatePicker.js\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport IndividualTenantInvoice from \"./IndividualTenantInvoice\";\r\nclass GenerateInvoice extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      property_id: this.props.property_id,\r\n      begin: \"\",\r\n      end: \"\",\r\n      open: false,\r\n      from_date: \"\",\r\n      to_date: \"\",\r\n      meter_bill_list: [],\r\n      submeter_bill_list: [],\r\n      final_invoice_list: [],\r\n      tenant_list: [],\r\n      property_info: \"\",\r\n      invoice_list: [],\r\n    };\r\n    this.handleClickOpen = this.handleClickOpen.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.changeFromDate = this.changeFromDate.bind(this);\r\n    this.changeTodate = this.changeTodate.bind(this);\r\n    // this.invoiceHistory = this.invoiceHistory.bind(this);\r\n  }\r\n\r\n  handleClickOpen() {\r\n    this.setState({\r\n      open: true,\r\n    });\r\n  }\r\n\r\n  changeFromDate(date) {\r\n    this.setState({\r\n      from_date: date,\r\n    });\r\n  }\r\n  changeTodate(date) {\r\n    this.setState({\r\n      to_date: date,\r\n    });\r\n  }\r\n\r\n  handleClose() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n  }\r\n\r\n  // invoiceHistory() {\r\n  //   return new Promise((resolve, reject) => {\r\n  //     axios.post(\"/invoice_history\", { property_id: this.state.property_id, from_date: this.state.from_date, to_date: this.state.to_date }).then((response) => {\r\n  //       console.log(\"invoice history response:\", response.data);\r\n  //       resolve();\r\n  //       if (response.data.invoice_list == false || response.data.invoice_list.length === 0) {\r\n  //         alert(\"no invoice in selecting time peirod, make sure  generate invoice first using {Generate Invoice} on the side bar\");\r\n  //         return;\r\n  //       }\r\n  //       this.setState({\r\n  //         property_info: response.data.property_info,\r\n  //         invoice_list: response.data.invoice_list,\r\n  //         tenant_list: response.data.tenant_list,\r\n  //       });\r\n  //       // console.log(\"hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh\", this.state.property_info);\r\n  //       this.forceUpdate();\r\n  //     });\r\n  //   });\r\n  // }\r\n\r\n  uploadInvoiceToDataBase(final_invoice_list) {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post(\"/upload_invoice\", { final_invoice_list: final_invoice_list }).then((response) => {\r\n        console.log(\"response\", response.data);\r\n        if (response.data.length != 0) {\r\n          alert(\"This month's invoices were generated previously, please checkout invoice history\");\r\n          return;\r\n        } else {\r\n          console.log(\"nnnnnno\");\r\n\r\n          alert(\"Done ! ! !  now you can check invoice in {Manage Invoice History}\");\r\n        }\r\n      });\r\n    });\r\n  }\r\n  invoice_generator() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.post(\"/meterbill_list\", { property_id: this.state.property_id, from_date: this.state.from_date, to_date: this.state.to_date }).then((response) => {\r\n        console.log(\"response body:\", response.data);\r\n        console.log(\"rr:\", response.data.meter_bill_list);\r\n        resolve();\r\n        // meter_submeter_list: JSON.parse(JSON.stringify(result)),\r\n        // meter_bill_list: JSON.parse(JSON.stringify(result2)),\r\n        // submeter_bill_list: JSON.parse(JSON.stringify(result3)),\r\n        // meter_tenant_list: JSON.parse(JSON.stringify(result4)),\r\n        this.setState({\r\n          meter_bill_list: response.data.meter_bill_list,\r\n\r\n          submeter_bill_list: response.data.submeter_bill_list,\r\n        });\r\n        //step1, preprocess meter bill and submeter bill;\r\n        var meter_bill_list = response.data.meter_bill_list;\r\n        var submeter_bill_list = response.data.submeter_bill_list;\r\n        var meter_tenant_list = response.data.meter_tenant_list;\r\n        var all_tenant_list = response.data.all_tenant_list;\r\n        var submeter_tenant_list = response.data.meter_submeter_list;\r\n        var aft_meter_bill_list = meter_bill_list;\r\n\r\n        if (meter_tenant_list.length != meter_bill_list.length) {\r\n          alert(\"please input all meter bills for this time period, you can check from {Manage Utility Bill}\");\r\n          return;\r\n        } else if (submeter_bill_list.length != submeter_tenant_list.length) {\r\n          alert(\"please input all submeter bills for this time period, you can check from {Manage Utility Bill}\");\r\n          return;\r\n        }\r\n        for (var i = 0; i < aft_meter_bill_list.length; i++) {\r\n          //for each meter bill, subtract submeter bill from it\r\n          var bill_id = aft_meter_bill_list[i].bill_id;\r\n\r\n          for (var j = 0; j < submeter_bill_list.length; j++) {\r\n            var tmp_assoc_bill_id = submeter_bill_list[j].bill_id;\r\n            if (Number(bill_id) == Number(tmp_assoc_bill_id)) {\r\n              aft_meter_bill_list[i].total_charge = Number(aft_meter_bill_list[i].total_charge) - Number(submeter_bill_list[j].amt_due);\r\n            }\r\n          }\r\n        }\r\n        //after prerprocess, we need to calcualte tenant invoice\r\n        var new_bill_list = [];\r\n        for (var i = 0; i < all_tenant_list.length; i++) {\r\n          console.log(\"loop all tenants:\", all_tenant_list[i]);\r\n          var current_tenant = all_tenant_list[i];\r\n          //handle meter tenant here:\r\n          if (Number(current_tenant.rubs) > 0) {\r\n            console.log(current_tenant.tenant_id, \"is rubs\");\r\n            var tt = get_all_meterbills_for_tenant(current_tenant.tenant_id, meter_tenant_list, meter_bill_list);\r\n            var sum = 0;\r\n            var charge_list = [];\r\n            for (var j = 1; j < tt.length; j++) {\r\n              sum += Number(current_tenant.rubs) * tt[j].total_charge;\r\n              charge_list.push({\r\n                meter_id: tt[j].meter_id,\r\n                meter_amt_due: tt[j].total_charge * current_tenant.rubs,\r\n              });\r\n            }\r\n            console.log(\"the rubs tenant bill list is here: \", tt);\r\n            var email = get_tenant_emailby_tenant_id(current_tenant.tenant_id, all_tenant_list);\r\n            var rubs_invoice = {\r\n              charge_list: charge_list,\r\n              rubs: current_tenant.rubs,\r\n              tenant_id: current_tenant.tenant_id,\r\n              from_date: meter_bill_list[0].from_date,\r\n              to_date: meter_bill_list[0].to_date,\r\n              has_submeter: 0,\r\n              total_charge: sum,\r\n            };\r\n\r\n            new_bill_list.push(rubs_invoice);\r\n          } else if (Number(current_tenant.rubs) == 0) {\r\n            //handle submeter case here\r\n            console.log(\"starting handle submeter tenant:\");\r\n            var tt = get_all_submeter_bill_by_tenant_id(current_tenant.tenant_id, submeter_tenant_list, submeter_bill_list);\r\n            console.log(\"submeter tenant:\", tt);\r\n            var sum = 0;\r\n            var charge_list = [];\r\n            for (var j = 1; j < tt.length; j++) {\r\n              console.log(\"ttttttt:\", tt[j].amt_due);\r\n              sum += Number(tt[j].amt_due);\r\n              var multiplier = get_multiperby_submeter_id(tt[j].submeter_id, submeter_tenant_list);\r\n              charge_list.push({\r\n                submeter_id: tt[j].submeter_id,\r\n                unit_charge: tt[j].unit_charge,\r\n                prior_read: tt[j].prior_read,\r\n                cur_read: tt[j].cur_read,\r\n                multiplier: multiplier,\r\n                amt_due: tt[j].amt_due,\r\n              });\r\n            }\r\n            console.log(\"sum: \", sum);\r\n            var email = get_tenant_emailby_tenant_id(current_tenant.tenant_id, all_tenant_list);\r\n            var sub_invoice = {\r\n              charge_list: charge_list,\r\n              tenant_id: current_tenant.tenant_id,\r\n              from_date: meter_bill_list[0].from_date,\r\n              to_date: meter_bill_list[0].to_date,\r\n              has_submeter: 1,\r\n              total_charge: sum,\r\n              rubs: current_tenant.rubs,\r\n            };\r\n\r\n            new_bill_list.push(sub_invoice);\r\n          }\r\n        }\r\n        console.log(\"final invoice list:\", new_bill_list);\r\n        this.uploadInvoiceToDataBase(new_bill_list);\r\n      });\r\n    });\r\n  }\r\n\r\n  onSubmit(event) {\r\n    //* not sure about what kind of information should be transmitted.\r\n    event.preventDefault();\r\n    this.setState({\r\n      open: false,\r\n    });\r\n    if (this.state.from_date == \"\" || this.state.to_date == \"\") {\r\n      alert(\"please select a time period\");\r\n      return;\r\n    } else {\r\n      this.invoice_generator();\r\n      // this.invoiceHistory();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <a href=\"#\" onClick={this.handleClickOpen}>\r\n          Generate Invoice\r\n        </a>\r\n        <div className=\"main\">\r\n          <Dialog open={this.state.open} onClose={this.handleClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">\r\n              (please generate invoice after inputting all bills and submeter bills, please only generate invoice once per month, current function only support 1 month invoice generate)\r\n            </DialogTitle>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Property ID: {this.state.property_id}</TableCell>\r\n                  <TableCell>\r\n                    <DatePicker from_date={this.changeFromDate.bind(this)} to_date={this.changeTodate.bind(this)} />\r\n                  </TableCell>\r\n\r\n                  <TableCell>\r\n                    <Button onClick={this.onSubmit} color=\"primary\">\r\n                      Generate\r\n                    </Button>\r\n                    <Button onClick={this.handleClose} color=\"primary\">\r\n                      Cancel\r\n                    </Button>\r\n                    {/* <Button onClick={this.invoiceHistory} color=\"primary\">\r\n                      test invoice history\r\n                    </Button> */}\r\n                    {/* <Button\r\n                    onClick= {to_pdf_page(this.state.invoice_list, this.state.property_info, this.state.tenant_list) }>\r\n                      bbbb\r\n                    </Button> */}\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>{this.res}</TableBody>\r\n            </Table>\r\n          </Dialog>{\" \"}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction get_all_meterbills_for_tenant(tenant_id, meter_tenant_list, meter_bill_list) {\r\n  var list = [tenant_id];\r\n  for (var i = 0; i < meter_tenant_list.length; i++) {\r\n    if (Number(tenant_id) == Number(meter_tenant_list[i].tenant_id)) {\r\n      list.push(get_meter_bill_by_meter_id(meter_tenant_list[i].meter_id, meter_bill_list));\r\n    }\r\n  }\r\n\r\n  return list;\r\n}\r\nfunction get_meter_bill_by_meter_id(meter_id, meter_bill_list) {\r\n  for (var i = 0; i < meter_bill_list.length; i++) {\r\n    if (Number(meter_bill_list[i].meter_id) == Number(meter_id)) {\r\n      return meter_bill_list[i];\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction get_all_submeter_bill_by_tenant_id(tenant_id, meter_submeter_list, submeter_bill_list) {\r\n  var list = [tenant_id];\r\n  console.log(\"find tenant\", tenant_id, meter_submeter_list);\r\n  for (var i = 0; i < meter_submeter_list.length; i++) {\r\n    if (Number(tenant_id) == Number(meter_submeter_list[i].tenant_id)) {\r\n      list.push(get_submeter_bill_by_submeter_id(meter_submeter_list[i].submeter_id, submeter_bill_list));\r\n    }\r\n  }\r\n  return list;\r\n}\r\n\r\nfunction get_submeter_bill_by_submeter_id(submeter_id, submeter_bill_list) {\r\n  for (var i = 0; i < submeter_bill_list.length; i++) {\r\n    if (submeter_id == submeter_bill_list[i].submeter_id) {\r\n      console.log(\"submeter_bill_list:\", submeter_bill_list[i]);\r\n      return submeter_bill_list[i];\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction get_multiperby_submeter_id(submeter_id, meter_tenant_list) {\r\n  for (var i = 0; i < meter_tenant_list.length; i++) {\r\n    if (submeter_id == meter_tenant_list[i].submeter_id) {\r\n      return meter_tenant_list[i].multiplier;\r\n    }\r\n  }\r\n  return 0;\r\n}\r\nfunction get_tenant_emailby_tenant_id(tenant_id, all_tenant_list) {\r\n  for (var i = 0; i < all_tenant_list.length; i++) {\r\n    if (Number(tenant_id) == Number(all_tenant_list[i].tenant_id)) {\r\n      return all_tenant_list[i].email;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction to_pdf_page(invoice_list, property_info, tenant_list) {\r\n  console.log(\"lllllllllllllll\", invoice_list);\r\n  const ele = <IndividualTenantInvoice invoice_list={invoice_list} property_info={property_info} tenant_list={tenant_list} />;\r\n  ReactDOM.render(ele, document.getElementById(\"root\"));\r\n}\r\nexport default GenerateInvoice;","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport \"./../../App.css\";\r\nimport GenerateInvoice from \"./../GenerateInvoice\"; //TODO\r\nimport axios from \"axios\";\r\n\r\nclass SideMenu extends Component {\r\n  manage_property = () => {\r\n    if (this.props.is_admin === true) {\r\n      window.location = `/Admin/PropMana/${this.props.sub}/property`;\r\n    } else {\r\n      window.location = `/PropMana/${this.props.sub}/property`;\r\n    }\r\n  };\r\n\r\n  edit_profile = () => {\r\n    if (this.props.is_admin === true) {\r\n      window.location = `/Admin/PropMana/${this.props.sub}/user_info`;\r\n    } else {\r\n      window.location = `/PropMana/${this.props.sub}/user_info`;\r\n    }\r\n  };\r\n\r\n  manage_utility = () => {\r\n    if (this.props.is_admin === true) {\r\n      window.location = `/Admin/PropMana/${this.props.sub}/property/${this.props.property_id}/utility_bill`;\r\n    } else {\r\n      window.location = `/PropMana/${this.props.sub}/property/${this.props.property_id}/utility_bill`;\r\n    }\r\n  };\r\n\r\n  manage_invoice = () => {\r\n    if (this.props.is_admin === true) {\r\n      window.location = `/Admin/PropMana/${this.props.sub}/property/${this.props.property_id}/invoice_history`;\r\n    } else {\r\n      window.location = `/PropMana/${this.props.sub}/property/${this.props.property_id}/invoice_history`;\r\n    }\r\n  };\r\n  view_detail = () => {\r\n    if (this.props.is_admin === true) {\r\n      window.location = `/Admin/PropMana/${this.props.sub}/property/${this.props.property_id}`;\r\n    } else {\r\n      window.location = `/PropMana/${this.props.sub}/property/${this.props.property_id}`;\r\n    }\r\n  };\r\n\r\n  manage_users = () => {\r\n    sessionStorage.removeItem(\"sub\");\r\n    sessionStorage.removeItem(\"username\");\r\n    sessionStorage.removeItem(\"property_id\");\r\n    sessionStorage.removeItem(\"property_name\");\r\n    sessionStorage.removeItem(\"total_footage\");\r\n    sessionStorage.removeItem(\"custom:company_name\");\r\n    window.location = \"/Admin/propertyManagers\";\r\n  };\r\n\r\n  log_out = () => {\r\n    sessionStorage.removeItem(\"sub\");\r\n    sessionStorage.removeItem(\"username\");\r\n    sessionStorage.removeItem(\"property_id\");\r\n    sessionStorage.removeItem(\"property_name\");\r\n    sessionStorage.removeItem(\"total_footage\");\r\n    sessionStorage.removeItem(\"custom:state\");\r\n    sessionStorage.removeItem(\"custom:company_name\");\r\n    sessionStorage.removeItem(\"custom:city\");\r\n    sessionStorage.removeItem(\"custom:zipcode\");\r\n    sessionStorage.removeItem(\"custom:street_name\");\r\n    sessionStorage.removeItem(\"custom:suite_number\");\r\n    sessionStorage.removeItem(\"accessToken\");\r\n    axios.post(\"/logout\").then((response) => {\r\n      window.location = \"/\";\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"sidenav\">\r\n        <header>\r\n          <ul>\r\n            <a href=\"#\" onClick={this.manage_property}>\r\n              Manage Property Info\r\n            </a>\r\n\r\n            {this.props.is_admin ? null : (\r\n              <a href=\"#\" onClick={this.edit_profile}>\r\n                Edit Profile Info\r\n              </a>\r\n            )}\r\n\r\n            {this.props.display_more_options ? (\r\n              <div>\r\n                <a href=\"#\" onClick={this.manage_utility}>\r\n                  Manage Utility Bill\r\n                </a>\r\n                <a href=\"#\" onClick={this.manage_invoice}>\r\n                  Manage Invoice History\r\n                </a>\r\n                <GenerateInvoice property_id={this.props.property_id} />\r\n                <a href=\"#\" onClick={this.view_detail}>\r\n                  Back to Property Details\r\n                </a>\r\n              </div>\r\n            ) : null}\r\n\r\n            {this.props.is_admin ? (\r\n              <a href=\"#\" onClick={this.manage_users}>\r\n                Back to Admin Panel\r\n              </a>\r\n            ) : (\r\n              <a href=\"#\" onClick={this.log_out}>\r\n                Log Out\r\n              </a>\r\n            )}\r\n          </ul>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SideMenu;\r\n","import React from \"react\";\r\nimport { Component } from \"react\";\r\nimport { matchPath } from \"react-router-dom\";\r\nimport \"./../../App.css\";\r\nimport TenantInfo from \"./Tenant/TenantInfo\";\r\nimport PropertyInfo from \"./Property/PropertyInfo\";\r\nimport InvoiceHistory from \"./../InvoiceHistory\";\r\nimport UtilityBillingHistory from \"./../UtilityBillingHistory\";\r\nimport UserProfile from \"./../UserProfile\";\r\nimport SideMenu from \"./SideMenu\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { DialogContent } from \"@material-ui/core\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nclass PropManaAfterSign extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    var page;\r\n    var sub = this.props.match.params.sub;\r\n    var property_id;\r\n    var user_type;\r\n    var role_message;\r\n    if (\r\n      matchPath(this.props.location.pathname, { path: \"/PropMana/:sub/user_info\", exact: true, strict: false }) ||\r\n      matchPath(this.props.location.pathname, { path: \"/Admin/PropMana/:sub/user_info\", exact: true, strict: false })\r\n    ) {\r\n      page = \"user_info\";\r\n    } else if (\r\n      matchPath(this.props.location.pathname, { path: \"/PropMana/:sub/property\", exact: true, strict: false }) ||\r\n      matchPath(this.props.location.pathname, { path: \"/Admin/PropMana/:sub/property\", exact: true, strict: false })\r\n    ) {\r\n      page = \"property\";\r\n    } else if (\r\n      matchPath(this.props.location.pathname, { path: \"/PropMana/:sub/property/:property_id\", exact: true, strict: false }) ||\r\n      matchPath(this.props.location.pathname, { path: \"/Admin/PropMana/:sub/property/:property_id\", exact: true, strict: false })\r\n    ) {\r\n      property_id = this.props.match.params.property_id;\r\n      page = \"tenant\";\r\n    } else if (\r\n      matchPath(this.props.location.pathname, { path: \"/PropMana/:sub/property/:property_id/invoice_history\", exact: true, strict: false }) ||\r\n      matchPath(this.props.location.pathname, { path: \"/Admin/PropMana/:sub/property/:property_id/invoice_history\", exact: true, strict: false })\r\n    ) {\r\n      property_id = this.props.match.params.property_id;\r\n      page = \"invoice_history\";\r\n    } else if (\r\n      matchPath(this.props.location.pathname, { path: \"/PropMana/:sub/property/:property_id/utility_bill\", exact: true, strict: false }) ||\r\n      matchPath(this.props.location.pathname, { path: \"/Admin/PropMana/:sub/property/:property_id/utility_bill\", exact: true, strict: false })\r\n    ) {\r\n      property_id = this.props.match.params.property_id;\r\n      page = \"utility_bill\";\r\n    }\r\n\r\n    if (matchPath(this.props.location.pathname, { path: \"/Admin\", exact: false })) {\r\n      user_type = \"Admin\";\r\n      role_message = \"Welcome, Admin \" + sessionStorage.getItem(\"admin_username\");\r\n    } else {\r\n      user_type = \"PropMana\";\r\n      role_message = \"Welcome, Property Manager \" + sessionStorage.getItem(\"username\");\r\n    }\r\n    this.state = {\r\n      sub: sub,\r\n      property_id: property_id,\r\n      page: (() => {\r\n        switch (page) {\r\n          case \"user_info\":\r\n            return <UserProfile />;\r\n          case \"property\":\r\n            return <PropertyInfo sub={sub} is_admin={user_type == \"Admin\" ? true : false} />;\r\n          case \"tenant\":\r\n            return <TenantInfo sub={sub} property_id={property_id} />;\r\n          case \"invoice_history\":\r\n            return <InvoiceHistory display={this} property_id={property_id} tenant_list={this.tenant_list} />;\r\n          case \"utility_bill\":\r\n            return <UtilityBillingHistory display={this} property_id={property_id} tenant_list={this.tenant_list} />;\r\n        }\r\n      })(),\r\n      page_name: (() => {\r\n        switch (page) {\r\n          case \"property\":\r\n            switch (user_type) {\r\n              case \"Admin\":\r\n                return sessionStorage.getItem(\"username\") + \": \" + sessionStorage.getItem(\"custom:company_name\") + \"'s Properties\";\r\n              case \"PropMana\":\r\n                return sessionStorage.getItem(\"custom:company_name\") + \"'s Properties\";\r\n            }\r\n          case \"tenant\":\r\n            return sessionStorage.getItem(\"property_name\") + \" Information\";\r\n          case \"invoice_history\":\r\n            return sessionStorage.getItem(\"property_name\") + \" Information\";\r\n          case \"utility_bill\":\r\n            return sessionStorage.getItem(\"property_name\") + \" Information\";\r\n        }\r\n      })(),\r\n      menu_display_more_options: (() => {\r\n        switch (page) {\r\n          case \"property\":\r\n            return false;\r\n          case \"tenant\":\r\n            return true;\r\n          case \"invoice_history\":\r\n            return true;\r\n          case \"utility_bill\":\r\n            return true;\r\n        }\r\n      })(),\r\n      is_admin: (() => {\r\n        switch (user_type) {\r\n          case \"Admin\":\r\n            return true;\r\n          case \"PropMana\":\r\n            return false;\r\n        }\r\n      })(),\r\n      role_message: (() => {\r\n        switch (user_type) {\r\n          case \"Admin\":\r\n            return role_message;\r\n          case \"PropMana\":\r\n            return role_message;\r\n        }\r\n      })(),\r\n    };\r\n    sessionStorage.setItem(\"sub\", sub);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"topOffset leftOffset\">\r\n        <Typography component=\"h1\" variant=\"h5\" color=\"primary\">\r\n          {this.state.role_message}\r\n          <br></br>\r\n          <br></br>\r\n          {this.state.page_name}\r\n          <br></br>\r\n          <br></br>\r\n        </Typography>\r\n        <DialogContent />\r\n        <div className=\"Info_Page_Split\">\r\n          <SideMenu sub={this.state.sub} display_more_options={this.state.menu_display_more_options} is_admin={this.state.is_admin} property_id={this.state.property_id} />\r\n          <div className=\"display\">{this.state.page}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PropManaAfterSign;\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport HomePage from \"./components/Login/HomePage.js\";\r\nimport RegProcess from \"./components/Login/RegProcess.js\";\r\nimport ResetProcess from \"./components/Login/ResetProcess.js\";\r\nimport LoginPage from \"./components/Login/LoginPage.js\";\r\nimport SignUpPage from \"./components/Login/SignUpPage.js\";\r\nimport ResetPassword from \"./components/Login/ResetPassword.js\";\r\nimport Navigation from \"./components/NavigationBar/Navigation.js\";\r\nimport Abouts from \"./components/NavigationBar/About.js\";\r\nimport AdminAfterSign from \"./components/Admin/AdminAfterSign.js\";\r\nimport PropManaAfterSign from \"./components/PropMana/PropManaAfterSign.js\";\r\nimport IndividualTenantInvoice from \"./components/IndividualTenantInvoice.js\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport config from \"./config.json\";\r\n// For local testing and development\r\n// axios.defaults.baseURL = \"http://localhost:3000\";\r\n\r\n// For build\r\naxios.defaults.baseURL = `http://${config.server_ip}:3000/`;\r\naxios.defaults.withCredentials = true;\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"App\">\r\n        <Navigation />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={HomePage} />\r\n          <Route exact path=\"/LoginPage\" component={LoginPage} />\r\n          <Route exact path=\"/SignUpPage\" component={SignUpPage} />\r\n          <Route exact path=\"/About\" component={Abouts} />\r\n          <Route exact path=\"/Admin\" component={AdminAfterSign} />\r\n          <Route exact path=\"/Admin/propertyManagers\" component={AdminAfterSign} />\r\n          <Route exact path=\"/PropMana\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/PropMana/:sub\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/PropMana/:sub/property\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/PropMana/:sub/property/:property_id\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/PropMana/:sub/property/:property_id/invoice_history\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/PropMana/:sub/property/:property_id/utility_bill\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/PropMana/:sub/user_info\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/PropMana/:sub/property/:propertyId/individual_tenant_invoice\" component={IndividualTenantInvoice} />\r\n          <Route exact path=\"/Admin/PropMana/:sub\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/Admin/PropMana/:sub/property\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/Admin/PropMana/:sub/property/:property_id\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/Admin/PropMana/:sub/invoiceHistory\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/Admin/PropMana/:sub/property/:property_id/invoice_history\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/Admin/PropMana/:sub/property/:property_id/utility_bill\" component={PropManaAfterSign} />\r\n          <Route exact path=\"/Admin/PropMana/:sub/user_info\" component={PropManaAfterSign} /> {/*  TODO unused */}\r\n          <Route exact path=\"/Admin/PropMana/:sub/property/:propertyId/individual_tenant_invoice\" component={IndividualTenantInvoice} />\r\n          <Route exact path=\"/RegProcess\" component={RegProcess} />\r\n          <Route exact path=\"/ResetPassword\" component={ResetPassword} />\r\n          <Route exact path=\"/ResetProcess\" component={ResetProcess} />\r\n        </Switch>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\n\r\nexport default combineReducers({\r\n  auth: authReducer\r\n});\r\n","export default function(state = {}, action) {\r\n  switch (action.type) {\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App.js';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport reducers from './reducers';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n  <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}